<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>è‡ªæ‰˜ç®¡ Obsidian å¤šç«¯åŒæ­¥æœåŠ¡å™¨</title>
    <url>/2025/05/09/obsidian/</url>
    <content><![CDATA[åœ¨ä½¿ç”¨ Obsidian è¿›è¡Œç¬”è®°ç®¡ç†æ—¶ï¼Œå¤šè®¾å¤‡åŒæ­¥æ˜¯ä¸€ä¸ªé‡è¦éœ€æ±‚ã€‚è™½ç„¶æœ‰å®˜æ–¹çš„ Obsidian Sync æœåŠ¡ï¼Œä½†é‰´äºå…¶ä»·æ ¼ä»¥åŠå›½å†…çš„ç¨³å®šæ€§ï¼Œè‡ªå»ºåŒæ­¥æœåŠ¡å™¨æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚æœ¬æ–‡å°†å°è¯•åŸºäº CouchDB æ­å»ºè‡ªå·±çš„ Obsidian LiveSync åŒæ­¥æœåŠ¡å™¨ï¼Œå®ç°å¤šç«¯ç¬”è®°å®æ—¶åŒæ­¥ã€‚
ä»€ä¹ˆæ˜¯ Obsidian LiveSyncï¼ŸObsidian LiveSync æ˜¯ä¸€ä¸ª Obsidian æ’ä»¶ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡ CouchDB å…¼å®¹æœåŠ¡å™¨åŒæ­¥å¤šä¸ª Vault å‰¯æœ¬ã€‚ç›¸æ¯”å®˜æ–¹åŒæ­¥æœåŠ¡ï¼Œå®ƒçš„ä¼˜ç‚¹æ˜¯ï¼š

æ•°æ®å®Œå…¨å­˜å‚¨åœ¨è‡ªå·±çš„æœåŠ¡å™¨ã€‚
åŒæ­¥é€Ÿåº¦å¿«ï¼Œå»¶è¿Ÿä½ã€‚
æ”¯æŒç«¯åˆ°ç«¯åŠ å¯†ã€‚
å…è´¹å¼€æºã€‚

éƒ¨ç½² CouchDBç¯å¢ƒå‡†å¤‡æœ¬æ–‡ä»¥ Rocky 9 ä¸ºä¾‹ï¼Œå…¶ä»– Linux å‘è¡Œç‰ˆç±»ä¼¼ã€‚
å®‰è£… CouchDBæ·»åŠ  CouchDB å®˜æ–¹æºRocky Linux å®˜æ–¹ä»“åº“æ²¡æœ‰æœ€æ–° CouchDBï¼Œéœ€è¦æ·»åŠ  Apache å®˜æ–¹æºã€‚  
sudo yum install -y yum-utilssudo yum-config-manager --add-repo https://couchdb.apache.org/repo/couchdb.repo# å¯ç”¨ EPEL è½¯ä»¶æºsudo dnf config-manager --set-enabled crbsudo dnf install epel-release epel-next-release # epel-release æœ‰å›½å†…æº# å¯é€‰ï¼šepel-release æ¢æˆæ¸…åæºsudo sed -e &#x27;s!^metalink=!#metalink=!g&#x27; \    -e &#x27;s!^#baseurl=!baseurl=!g&#x27; \    -e &#x27;s!https\?://download\.fedoraproject\.org/pub/epel!https://mirrors.tuna.tsinghua.edu.cn/epel!g&#x27; \    -e &#x27;s!https\?://download\.example/pub/epel!https://mirrors.tuna.tsinghua.edu.cn/epel!g&#x27; \    -i /etc/yum.repos.d/epel&#123;,-testing&#125;.repo# ç”±äºæ— æ³•åŒæ­¥ï¼Œé•œåƒç«™ä¸åŒ…å« EPEL Cisco OpenH264 ä»“åº“ï¼ˆ`epel-cisco-openh264.repo`ï¼‰ï¼Œå¦‚æœä¸éœ€è¦å¯æ‰‹åŠ¨å°†å…¶æ”¹ä¸ºÂ `enabled=0`ã€‚

å®‰è£… CouchDBsudo yum install -y mozjs78 # RedHat &lt; 9 çš„ä¸éœ€è¦å®‰è£…sudo yum install -y couchdb# å®‰è£…å¯èƒ½ä¼šæ¯”è¾ƒæ…¢ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨ä»£ç†åŠ é€Ÿ

é…ç½® CouchDBä¿®æ”¹é»˜è®¤CouchDB é…ç½®æ–‡ä»¶è·¯å¾„ä¸º /opt/couchdb/etc/local.ini 
[couchdb]single_node = true                           ; å¯ç”¨å•èŠ‚ç‚¹æ¨¡å¼max_document_size = 50000000                 ; å…è®¸æœ€å¤§æ–‡æ¡£å¤§å°ï¼ˆ50MBï¼‰[chttpd]port = 5984                                  ; CouchDB HTTP ç›‘å¬ç«¯å£ï¼Œé»˜è®¤ä¸º 5984bind_address = 127.0.0.1                     ; ç›‘å¬åœ°å€ï¼Œå»ºè®®è®¾ä¸º 127.0.0.1ï¼Œä»…å…è®¸æœ¬åœ°è®¿é—®ï¼ˆç”± Nginx åä»£ï¼‰require_valid_user = true                    ; æ‰€æœ‰è¯·æ±‚éƒ½å¿…é¡»é€šè¿‡éªŒè¯ï¼ˆå¼ºåˆ¶ç™»å½•ï¼‰max_http_request_size = 4294967296           ; æœ€å¤§è¯·æ±‚ä½“å¤§å°ï¼ˆå•ä½å­—èŠ‚ï¼‰ï¼Œæ­¤å¤„ä¸º 4GB[chttpd_auth]require_valid_user = true                    ; å¼ºåˆ¶æ‰€æœ‰è¯·æ±‚è¿›è¡Œç”¨æˆ·éªŒè¯authentication_redirect = /_utils/session.html ; æµè§ˆå™¨è¯·æ±‚æœªç™»å½•æ—¶è·³è½¬åˆ° Web ç™»å½•ç•Œé¢[httpd]WWW-Authenticate = Basic realm=&quot;couchdb&quot;     ; å¯ç”¨ HTTP Basic è®¤è¯æç¤ºenable_cors = true                           ; å¯ç”¨ CORSï¼ˆè·¨åŸŸèµ„æºå…±äº«ï¼‰[admins]admin = mysecretpassword                     ; ç®¡ç†å‘˜ç”¨æˆ·ååŠå¯†ç ï¼ˆé¦–æ¬¡åˆå§‹åŒ–ä½¿ç”¨ï¼‰[cors]origins = app://obsidian.md,capacitor://localhost,http://localhost                                             ; å…è®¸ Obsidian ç§»åŠ¨ç«¯/æ¡Œé¢ç«¯è¿æ¥credentials = true                           ; å…è®¸å‘é€è®¤è¯ä¿¡æ¯ï¼ˆå¦‚ Cookie / Authorization Headerï¼‰headers = accept, authorization, content-type, origin, referer                                             ; å…è®¸çš„è¯·æ±‚å¤´methods = GET, PUT, POST, HEAD, DELETE       ; å…è®¸çš„è¯·æ±‚æ–¹æ³•max_age = 3600                               ; CORS é¢„æ£€è¯·æ±‚ç¼“å­˜æ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰[ssl];enable = true;cert_file = /full/path/to/server_cert.pem;key_file = /full/path/to/server_key.pem;password = somepassword

å¯ç”¨ CouchDB å¹¶ å¼€å¯è‡ªå¯sudo systemctl enable --now couchdb    # å¯ç”¨å¼€æœºè‡ªå¯å¹¶è¿è¡Œ CouchDBsudo systemctl status couchdb          # æŸ¥çœ‹è¿è¡ŒçŠ¶æ€

å‘ç°å¯ç”¨ CouchDB åæŠ¥é”™ Error: the _users database does not exist ï¼Œè¯´æ˜ CouchDB æ­£å°è¯•è®¿é—®å…¶é»˜è®¤çš„ _users ç³»ç»Ÿæ•°æ®åº“ï¼Œä½†è¿™ä¸ªæ•°æ®åº“å°šæœªåˆ›å»ºã€‚è¿™ä¸ªæ•°æ®åº“ç”¨äºç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†ï¼Œæ˜¯æ­£å¸¸è¿è¡Œæ‰€å¿…éœ€çš„ã€‚
è§£å†³æ–¹æ³•ï¼š æ‰‹åŠ¨åˆ›å»º _users æ•°æ®åº“å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…· curl æˆ–æµè§ˆå™¨è®¿é—® CouchDB çš„ HTTP API åˆ›å»ºè¿™ä¸ªæ•°æ®åº“ã€‚
curl -X PUT http://127.0.0.1:5984/_users# å¦‚æœ CouchDB å¼€å¯äº†è®¤è¯ï¼Œè¯·åŠ ä¸Šç”¨æˆ·åå¯†ç ï¼ˆä¾‹å¦‚ admin/adminï¼‰ï¼šcurl -X PUT http://admin:admin@127.0.0.1:5984/_userssudo systemctl restart couchdb    # åˆ›å»ºå®Œæˆåï¼Œé‡å¯ CouchDBsudo systemctl status couchdb     # æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
æµ‹è¯•è®¿é—® CouchDB
curl http://admin:admin@127.0.0.1:5984 # ä¹Ÿå¯ä»¥ç”¨æµè§ˆå™¨è®¿é—®
CouchDB å·²æˆåŠŸéƒ¨ç½²å¹¶æ­£å¸¸è¿è¡Œã€‚
é…ç½® HTTPS åå‘ä»£ç†ä¸ºäº†å®‰å…¨è®¿é—®ï¼Œå»ºè®®é€šè¿‡ Nginx + SSL è¯ä¹¦ä¸º CouchDB æä¾› HTTPS æ”¯æŒã€‚
å®‰è£… Nginx# å®‰è£… Nginxsudo dnf install -y nginx         # å¯åŠ¨å¹¶è‡ªå¯ Nginxsudo systemctl enable --now nginx
é…ç½®åå‘ä»£ç†ç¼–è¾‘ /etc/nginx/conf.d/couchdb.conf ï¼š
# HTTP é‡å®šå‘åˆ° HTTPSserver &#123;    listen 80;    server_name your.domain.com;    # å¯é€‰ï¼šé˜²æ­¢æš´éœ²ç‰ˆæœ¬ä¿¡æ¯    server_tokens off;    return 301 https://$host$request_uri;&#125;# HTTPS åå‘ä»£ç†åˆ° CouchDBserver &#123;    listen 443 ssl http2;    server_name your.domain.com;	# é…ç½® SSL è¯ä¹¦è·¯å¾„    ssl_certificate     /etc/letsencrypt/live/your.domain.com/fullchain.pem;    ssl_certificate_key /etc/letsencrypt/live/your.domain.com/privkey.pem;    # å®‰å…¨å¢å¼ºï¼ˆå¯é€‰ï¼‰    ssl_protocols TLSv1.2 TLSv1.3;    ssl_prefer_server_ciphers on;    # è‡ªå®šä¹‰è®¿é—®æ—¥å¿—è·¯å¾„    access_log /var/log/nginx/couchdb.log main;    error_log  /var/log/nginx/couchdb_error.log warn;    location / &#123;        proxy_pass http://127.0.0.1:5984/;        proxy_set_header Host $host;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;    &#125;&#125;
é…ç½®å¥½ä¹‹åæµ‹è¯• Nginx ï¼Œå¦‚æœæ²¡æŠ¥é”™ï¼Œåˆ™é‡å¯Nginx
# æ£€éªŒ Nginx é…ç½®nginx -t## nginx: the configuration file /etc/nginx/nginx.conf syntax is ok## nginx: configuration file /etc/nginx/nginx.conf test is successful# é‡å¯ Nginxsudo systemctl restart nginx
è‡³æ­¤ï¼ŒNginxåå‘ä»£ç†é…ç½®å®Œæˆã€‚
Obsidian é…ç½® LiveSyncä¸‹è½½ LiveSync æ’ä»¶Obsidian - è®¾ç½® - ç¬¬ä¸‰æ–¹æ’ä»¶ - ç¤¾åŒºæ’ä»¶å¸‚åœº - æµè§ˆ
æœç´¢ LiveSync å¹¶å®‰è£…

é…ç½® LiveSyncObsidian - è®¾ç½® - Self-hosted LiveSync - ManialSetup - Start - Remote Configurationæ£€éªŒæ•°æ®åº“é…ç½®æ˜¯å¯èƒ½ä¼šå‡ºç°å‡ ä¸ªå‘Šè­¦ï¼Œå¯é€šè¿‡ç‚¹å‡»å‘Šè­¦åé¢çš„fixæ¥ä¿®å¤ï¼Œè‡³æ­¤ç¬¬ä¸€ä¸ªè®¾å¤‡é…ç½®å®Œæˆã€‚
å¤šç«¯åŒæ­¥è®¾ç½® - Self-hosted LiveSync - ManialSetup - Setup - To setup other devices ç”ŸæˆåŒæ­¥ URI
åœ¨å…¶ä»–è®¾å¤‡ä¸Šå®‰è£…å¥½ Self-hosted LiveSync æ’ä»¶åï¼Œè¿›å…¥ Setup é¡µé¢ï¼Œç‚¹å‡» Connect with setup URI å¹¶è¾“å…¥åŒæ­¥ URI ï¼Œåç»­é€‰æ‹©ç¬¬ä¸€é¡¹ï¼Œç¡®è®¤å¯¼å…¥ã€‚
åŒæ­¥ç­–ç•¥è®¾ç½® - Self-hosted LiveSync - Sync Settings å¯ä»¥é…ç½®åŒæ­¥ç­–ç•¥ã€‚åŒæ­¥æ¨¡å¼ LiveSync ä¸ºå®æ—¶åŒæ­¥ï¼Œåœ¨è·Ÿç§»åŠ¨è®¾å¤‡åŒæ­¥æ—¶ï¼Œå¯ç”¨ LiveSync ä¼šæå‡åŠŸè€—ï¼ŒæŒ‰éœ€å¼€å¯ã€‚
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>obsidian</tag>
        <tag>å·¥å…·</tag>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>Sunshine + Moonlight + IPv6 å…¬ç½‘ä¸²æµ</title>
    <url>/2025/06/10/stream/</url>
    <content><![CDATA[Sunshine æ˜¯ä¸€æ¬¾è½»é‡ã€å¼€æºçš„æ¸¸æˆä¸²æµâ€‹æœåŠ¡ç«¯â€‹â€‹è½¯ä»¶ï¼ŒMoonlight åˆ™æ˜¯å…¶äº’è¡¥çš„å®¢æˆ·ç«¯æ–¹æ¡ˆã€‚ç›¸æ¯”å…¶ä»–ä¸²æµæ–¹æ¡ˆï¼Œâ€‹â€‹äºŒè€…èƒ½æ˜¾è‘—é™ä½å»¶è¿Ÿå¹¶æå‡ç”»è´¨è¡¨ç°â€‹ã€‚ä¼ ç»Ÿ IPv4 ç½‘ç»œâ€‹â€‹å¸¸å—é™äº NAT é…ç½®ï¼Œå¯¼è‡´ä¸²æµéƒ¨ç½²å¤æ‚åŒ–â€‹â€‹ï¼Œè€Œ IPv6 çš„â€‹â€‹åŸç”Ÿå…¬ç½‘ç›´è¿ç‰¹æ€§ï¼ˆæ— éœ€ NAT ç©¿é€ï¼‰â€‹å½»åº•è§£å†³äº†è¿™ä¸€éš¾é¢˜ã€‚æœ¬æ–‡â€‹â€‹å°†æ¼”ç¤ºâ€‹â€‹å¦‚ä½•åœ¨ IPv6 ç¯å¢ƒä¸‹â€‹â€‹å…é…ç½®ç«¯å£æ˜ å°„â€‹ï¼Œâ€‹â€‹å¿«é€Ÿå®ç°â€‹â€‹ Sunshine + Moonlight â€‹â€‹ä¸²æµç³»ç»Ÿçš„éƒ¨ç½²â€‹â€‹ã€‚
ç¯å¢ƒå‡†å¤‡


é¡¹ç›®
è¯´æ˜



ä¸»æœºç³»ç»Ÿ
Windows &#x2F; Linux


Sunshineç‰ˆæœ¬
2025.122.141614 æˆ–æ›´æ–°


å®¢æˆ·ç«¯
Moonlightï¼ˆiOS &#x2F; Android &#x2F; Windows &#x2F; macOS &#x2F; Linuxï¼‰


ç½‘ç»œç¯å¢ƒ
IPv6 å…¬ç½‘


æ£€æŸ¥ IPv6Windowsæ‰“å¼€ PowerShell æˆ– cmdï¼Œè¾“å…¥ï¼š
ipconfig
å¦‚æœè¾“å‡ºä¸­æœ‰ç±»ä¼¼ä»¥ä¸‹å†…å®¹ï¼Œè¯´æ˜å¯ç”¨äº† IPv6ï¼š
ä»¥å¤ªç½‘é€‚é…å™¨ ä»¥å¤ªç½‘:   IPv6 åœ°å€. . . . . . . . . . . . : 240e:1234:abcd::1   æœ¬åœ°é“¾æ¥ IPv6 åœ°å€. . . . . . . .: fe80::xxxx:xxxx:xxxx:xxxx%xx

Linuxç»ˆç«¯é€šè¿‡ ip addr å‘½ä»¤æ¥æŸ¥è¯¢ IPv6 åœ°å€
ip addr | grep inet6
å¦‚æœçœ‹åˆ°è¾“å‡ºå¦‚ä¸‹ï¼Œè¯´æ˜æœ‰ IPv6
inet6 240e:1234:abcd::1/64 scope global dynamicinet6 fe80::xxxx:xxxx:xxxx:xxxx/64 scope link

å®‰è£… SunshineSunshine çš„ Github ä»“åº“ä¸º Sunshineä¸‹è½½ç½‘å€ Sunshine Releases
LinuxåŒ…ç®¡ç†å™¨å®‰è£…Debian &#x2F; UbtuntuDebian &#x2F; Ubuntu å‘è¡Œç‰ˆå¯ä»¥ç›´æ¥ä½¿ç”¨ APT åŒ…ç®¡ç†å™¨è¿›è¡Œå®‰è£…ã€‚
sudo apt updatesudo apt install sunshine
å¦‚æœé‡åˆ°ä¾èµ–é—®é¢˜ï¼ˆå¦‚ miniupnpcï¼‰ï¼Œå¯å…ˆæ‰§è¡Œï¼š
sudo apt --fix-broken install
ä¹Ÿå¯ä»¥ä» Github ä¸‹è½½ deb åŒ…æ¥å®‰è£…ï¼Œä»¥ Ubuntu ä¸ºä¾‹ï¼š
# ä¸‹è½½ Ubuntu 24.04 ç‰ˆæœ¬wget https://github.com/LizardByte/Sunshine/releases/download/v2025.122.141614/sunshine-ubuntu-24.04-amd64.deb# å®‰è£… Sunshinedpkg -i sunshine-ubuntu-24.04-amd64.deb  
Debian ç‰ˆæœ¬çš„ä¹Ÿæ˜¯ç±»ä¼¼ï¼š
https://github.com/LizardByte/Sunshine/releases/download/v2025.122.141614/sunshine-debian-bookworm-amd64.debdpkg -i sunshine-debian-bookworm-amd64.deb
å¦‚æœä¸‹è½½æ…¢æˆ–è€…ä¸‹è½½å¤±è´¥ï¼Œå¯ä»¥ä½¿ç”¨ Github é•œåƒç«™ GHPROXY.NET æ¥ä¸‹è½½ï¼Œä»¥ Ubuntu ä¸ºä¾‹ï¼š
wget https://ghproxy.net/https://github.com/LizardByte/Sunshine/releases/download/v2025.122.141614/sunshine-ubuntu-24.04-amd64.debdpkg -i sunshine-ubuntu-24.04-amd64.deb
FedoraFedora ä¸Šå¯ä»¥ä» copr ä»“åº“å®‰è£… sunshine
# å¯ç”¨ copr ä»“åº“sudo dnf copr enable lizardbyte/stable     # ç¨³å®šç‰ˆsudo dnf copr enable lizardbyte/beta       # Beta æµ‹è¯•ç‰ˆ# å®‰è£… sunshinesudo dnf install Sunshine
å…¶ä»–ArchLinux ç‰ˆæœ¬æœ‰å®˜æ–¹æä¾›çš„é¢„ç¼–è¯‘åŒ…ï¼Œå…·ä½“å®‰è£…æ–¹å¼è¯·å‚è€ƒåœ¨ ArchLinux å®‰è£…CentOSã€Rocky ç­‰ç±» Redhat å‘è¡Œç‰ˆåˆ™æ²¡æœ‰å®˜æ–¹åŸç”ŸRPMåŒ…ï¼Œå¯ä»¥å°è¯•ä¸‹é¢çš„ FlatPack æ–¹å¼æ¥å®‰è£…ã€‚
AppImageå°† sunshine.AppImage ä¸‹è½½åˆ°ä½ çš„ä¸»ç›®å½•ï¼š
cd ~wget https://github.com/LizardByte/Sunshine/releases/download/v2025.122.141614/sunshine.AppImage# å›½å†…å¯ä»¥ä½¿ç”¨é•œåƒç«™æ¥åŠ é€Ÿä¸‹è½½wget https://ghproxy.net/https://github.com/LizardByte/Sunshine/releases/download/v2025.122.141614/sunshine.AppImage
å®‰è£…
./sunshine.AppImage --install
è¿è¡Œ
./sunshine.AppImage --install &amp;&amp; ./sunshine.AppImage
å¸è½½
./sunshine.AppImage --remove
ç”±äºä¾èµ–åº“é—®é¢˜ï¼Œä¸å»ºè®®åœ¨ Rocky å’Œ CentOS ä¸Šä½¿ç”¨ AppImage æ¥å®‰è£… Sunshineã€‚
FlatPackæ­¤æ–¹å¼éœ€è¦æ‚¨å·²å®‰è£… FlatPackï¼Œå®‰è£…æ–¹å¼å¯ä»¥å‚è€ƒ FlatPack å®‰è£…ã€‚ 
ç¦»çº¿å®‰è£…# ä¸‹è½½ FlatPack åŒ…wget https://github.com/LizardByte/Sunshine/releases/download/v2025.122.141614/sunshine_x86_64.flatpak # ä½¿ç”¨ Github é•œåƒç«™åŠ é€Ÿä¸‹è½½wget https://ghproxy.net/https://github.com/LizardByte/Sunshine/releases/download/v2025.122.141614/sunshine_x86_64.flatpak# å®‰è£… flatpak install --system ./sunshine_x86_64.flatpakflatpak run --command=additional-install.sh dev.lizardbyte.app.Sunshine
ä» FlatHub åœ¨çº¿å®‰è£… flatpak install --system flathub dev.lizardbyte.app.Sunshineflatpak run --command=additional-install.sh dev.lizardbyte.app.Sunshine
è¿è¡Œ
flatpak run dev.lizardbyte.app.Sunshine
WindowsWindows ç‰ˆæœ¬æä¾›å®‰è£…ç¨‹åº Sunshine Installer å’Œ ä¾¿æºç‰ˆ Sunshine Portable ä¸¤ç§ç‰ˆæœ¬ï¼Œæœ¬æ–‡ä»¥å®‰è£…ç¨‹åºä¸ºä¾‹ã€‚ä¸‹è½½å¹¶å®‰è£… Sunshine å®‰è£…ç¨‹åº ï¼ˆå›½å†…é•œåƒåœ°å€ï¼šGHPROXYï¼‰å¼€å§‹å®‰è£…é€‰æ‹©å®‰è£…è·¯å¾„é€‰æ‹©ç»„ä»¶ï¼ˆé»˜è®¤å…¨éƒ¨å°±å¯ä»¥ï¼‰è‡³æ­¤ï¼Œå®‰è£…å®Œæˆã€‚
é…ç½® SunshineWindows ç‰ˆæœ¬å®‰è£…å®Œæˆä¹‹åä¼šè‡ªåŠ¨å¯åŠ¨ï¼ŒLinuxç‰ˆæœ¬åˆ™å¯ä»¥é€šè¿‡ sunshine å‘½ä»¤æ¥å¯åŠ¨ï¼Œå¯åŠ¨æˆåŠŸåä¼šæ˜¾ç¤º Web ç®¡ç†é¡µé¢çš„ URLã€‚
[2025-06-11 15:52:34.628]: Info:[2025-06-11 15:52:34.628]: Info: // Ignore any errors mentioned above, they are not relevant. //[2025-06-11 15:52:34.628]: Info:[2025-06-11 15:52:34.628]: Info: Found H.264 encoder: libx264 [software][2025-06-11 15:52:34.631]: Info: Configuration UI available at [https://localhost:47990]
Sunshine å¯åŠ¨ä¹‹åï¼Œå¯ä»¥è®¿é—® https://localhost:47990 æ¥è¿›å…¥ Web ç®¡ç†é¡µé¢ï¼Œé¦–æ¬¡ç™»é™†ä¼šè¦æ±‚è¾“å…¥ç®¡ç†è´¦å·å’Œå¯†ç åç»­ä¼šé€šè¿‡ Basic æ–¹å¼ç™»å½•è®¤è¯ç™»é™†æˆåŠŸåä¼šçœ‹åˆ°ä¸‹å›¾æ‰€ç¤ºçš„ç®¡ç†é¡µé¢ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ç‚¹å‡» Configuration -&gt; General -&gt; Locale é‡Œé€‰æ‹©ç®€ä½“ä¸­æ–‡ï¼Œå°†è¯­è¨€æ”¹æˆä¸­æ–‡ï¼Œç‚¹å‡» Save -&gt; Apply ä¿å­˜å¹¶åº”ç”¨ï¼Œä¹‹ååˆ·æ–°ç½‘é¡µï¼Œå°±èƒ½å‘ç°æˆ‘ä»¬é¡µé¢å˜æˆä¸­æ–‡äº†ã€‚ç‚¹å‡» Applyï¼ˆåº”ç”¨ï¼‰ååˆ·æ–°ç½‘é¡µï¼Œå¯èƒ½ä¼šæ— æ³•è®¿é—®ï¼Œæ­¤æ—¶åœ¨ç»ˆç«¯é‡å¯ Sunshine ä¸»ç¨‹åºå³å¯ã€‚
Sunshine å¯ç”¨ IPv6åœ¨ é…ç½® -&gt; NetWork -&gt; IP åœ°å€æ— é€‰æ‹© IPv4 + IPv6 ï¼Œä¿å­˜ -&gt; åº”ç”¨è‡³æ­¤ï¼ŒSunshine é…ç½®ç»“æŸäº†ã€‚
å¼€æ”¾ Sunshine æœåŠ¡ç«¯å£Sunshine é»˜è®¤ä½¿ç”¨çš„ç«¯å£


æœåŠ¡
åè®®
ç«¯å£èŒƒå›´
è¯´æ˜



Sunshine UI
TCP
47990
Sunshine Web ç®¡ç†ç•Œé¢


Sunshine streaming
TCP
47984, 47989
æ§åˆ¶å’Œæµåª’ä½“é€šé“


Sunshine streaming
UDP
47998â€“48010
éŸ³è§†é¢‘æµé€šé“


Sunshine Discovery
UDP
47989, 1900
Moonlight å‘ç° Sunshine








ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒWindows æ˜¯é»˜è®¤æ”¾è¡Œ Sunshine ç›¸å…³ç«¯å£çš„ï¼Œè€Œ Linux åˆ™éœ€è¦åœ¨ Firewalld å¼€æ”¾ Sunshine ä½¿ç”¨åˆ°çš„ç«¯å£ï¼Œä½¿å…¶èƒ½è¢«å±€åŸŸç½‘ä¸­çš„å…¶ä»–è®¾å¤‡è¿æ¥ï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š





# æ”¾è¡Œ TCP ç«¯å£sudo firewall-cmd --permanent --add-port=47984/tcp --add-port=47989/tcp --add-port=47990/tcp --add-port=48010/tcp# æ”¾è¡Œ UDP ç«¯å£sudo firewall-cmd --permanent --add-port=47998-48000/udp# åº”ç”¨ç­–ç•¥sudo firewall-cmd --reload
ç°åœ¨ï¼Œåº”è¯¥å¯ä»¥ä»åŒå±€åŸŸç½‘ä¸­çš„å…¶ä»–è®¾å¤‡çš„ Moonlight ä¸Šçœ‹åˆ°è¿™å° Sunshine ä¸»æœºäº†ã€‚
è·¯ç”±å™¨å¼€æ”¾ç«¯å£æˆ‘åœ¨è¿™å„¿ä»¥ OpenWRT ä¸ºä¾‹ï¼Œè¿›å…¥ ç½‘ç»œ - é˜²ç«å¢™ - é€šä¿¡è§„åˆ™ï¼Œç‚¹å‡»æ·»åŠ ï¼Œåç§°æŒ‰è‡ªå·±éœ€æ±‚æ¥å†™ï¼Œåè®®æ ¹æ® Sunshine ç«¯å£å¯¹åº”åè®®æ¥å†™ï¼ŒæºåŒºåŸŸé€‰æ‹©ä»»æ„åŒºåŸŸï¼ˆè½¬å‘ï¼‰ï¼Œæºåœ°å€ç•™ç©ºï¼Œæºç«¯å£é€‰æ‹©ä»»æ„ï¼Œç›®æ ‡åŒºåŸŸé€‰æ‹©Lanï¼Œç›®çš„åœ°å€ç•™ç©ºï¼ˆå› ä¸ºIPv6åœ°å€ä¸å›ºå®šï¼‰ï¼Œç›®çš„ç«¯å£å¡«å†™å¯¹åº”çš„ Sunshine æœåŠ¡ç«¯å£ï¼Œæ“ä½œé€‰æ‹©æ¥å—ã€‚åˆ‡æ¢åˆ°é«˜çº§è®¾ç½®ï¼Œåœ°å€æ—é™åˆ¶é€‰æ‹©ä»…IPv6ç‚¹å‡»ä¿å­˜ï¼Œä¿å­˜å¹¶åº”ç”¨ï¼Œè‡³æ­¤ï¼Œæˆ‘ä»¬å¼€æ”¾äº†ä¸€ä¸ª Sunshine æœåŠ¡ç«¯å£ï¼Œç›¸åŒæ–¹å¼æ”¾è¡Œæ‰€æœ‰ Sunshine æœåŠ¡ç«¯å£ã€‚è‡³æ­¤ç«¯å£å¼€æ”¾ç«¯å£å®Œæ¯•ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ IPv6 æ¥è¿æ¥ Sunshineï¼Œæ•™ç¨‹åˆ°æ­¤ç»“æŸäº†Â·Â·ï¼Ÿæ¯æ¬¡éƒ½è¾“å…¥IPv6åœ°å€å°†ä¼šéå¸¸éº»çƒ¦ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨åŸŸåæ¥è§£ææˆ‘ä»¬ Sunshine æœåŠ¡å™¨çš„ IPv6 åœ°å€ï¼Œè¿™æ ·å°±ä¸éœ€è¦è®°ä½é‚£ä¹ˆé•¿çš„ IPv6 åœ°å€äº†ã€‚
DDNS é…ç½®å‰é¢æˆ‘ä»¬å·²ç»åœ¨è·¯ç”±å™¨ä¸Šå¼€æ”¾äº† Sunshine  æ‰€éœ€çš„ç«¯å£ï¼Œå¹¶å¯ä»¥ç›´æ¥ä½¿ç”¨ IPv6 åœ°å€ä»å…¶ä»–è®¾å¤‡è®¿é—® Sunshineã€‚ä½†ä½ å¯èƒ½å·²ç»æ„è¯†åˆ°ä¸€ä¸ªé—®é¢˜ï¼š

æ¯æ¬¡éƒ½è¾“å…¥ä¸€ä¸²å¤æ‚åˆéš¾è®°çš„ IPv6 åœ°å€ï¼Œä¸ä»…éº»çƒ¦ï¼Œè€Œä¸”å®¹æ˜“è¾“é”™ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œéƒ¨åˆ†ç½‘ç»œç¯å¢ƒä¸‹ï¼ŒIPv6 åœ°å€æ˜¯ä¼šå˜åŒ–çš„ï¼  

è¿™å°±å¼•å‡ºäº†ä¸€ä¸ªéå¸¸å…³é”®çš„ä¼˜åŒ–ç‚¹ â€”â€” ä½¿ç”¨ DDNSï¼ˆåŠ¨æ€åŸŸåè§£æï¼‰æœåŠ¡ã€‚
ä¸ºä»€ä¹ˆéœ€è¦ DDNSï¼ŸIPv6 è™½ç„¶åœ¨å±€åŸŸç½‘ä¸­é€šå¸¸ä¸ä¼šé¢‘ç¹å˜åŒ–ï¼Œä½†åœ¨éƒ¨åˆ†ç½‘ç»œç¯å¢ƒä¸‹ï¼ˆå¦‚æ›´æ¢ç½‘ç»œã€è®¾å¤‡é‡å¯ã€è¿è¥å•†åˆ†é…æœºåˆ¶ç­‰ï¼‰ï¼ŒIPv6 åœ°å€ä»ç„¶æœ‰å¯èƒ½å‘ç”Ÿå˜æ›´ã€‚æ­¤å¤–ï¼Œå³ä½¿åœ°å€ä¸å˜ï¼Œå®ƒä¹Ÿä¸åƒ IPv4 é‚£æ ·ç®€æ´æ˜“è®°ï¼Œå¸¸å¸¸æ˜¯è¿™æ ·ä¸€ä¸²ï¼š
2408:xxx:3c4:fe10:ba2e:3eff:fe14:9f3a````åœ¨ Moonlight æˆ–å…¶ä»–å®¢æˆ·ç«¯ä¸­åå¤è¾“å…¥è¿™æ ·å†—é•¿çš„åœ°å€ï¼Œæ—¢ä¸ç›´è§‚ï¼Œä¹Ÿå®¹æ˜“å‡ºé”™ã€‚è€Œ DDNSï¼ˆåŠ¨æ€åŸŸåè§£æï¼‰å¯ä»¥å®Œç¾è§£å†³è¿™ä¸ªé—®é¢˜ã€‚### **DDNS å·¥å…·**å…ˆæ¥æ€»ç»“ä¸€ä¸‹å¸¸è§çš„ DDNS æ–¹å¼ï¼š| æ–¹å¼ç±»å‹              | æ–¹æ¡ˆ                          | æ˜¯å¦å…è´¹   | IPv6 æ”¯æŒ | é…ç½®éš¾åº¦ | ä¾èµ–æ¡ä»¶            | ç‰¹ç‚¹è¯´æ˜                                        ||----------------------|---------------------------|------------|------------|------------|-----------------------|-------------------------------------------------|| ç¬¬ä¸‰æ–¹æœåŠ¡            | **[DuckDNS](https://www.duckdns.org/)**| âœ… å…è´¹     | âœ… æ”¯æŒ     | â˜…â˜†â˜†       | æ— éœ€åŸŸå             | ç®€å•æ˜“ç”¨ï¼Œå›½å¤–èŠ‚ç‚¹                             || ç¬¬ä¸‰æ–¹æœåŠ¡            | **[Dynu / No-IP](https://www.dynu.com/)**| âœ… å…è´¹ï¼ˆéƒ¨åˆ†éœ€ç»­æœŸï¼‰ | âœ… æ”¯æŒ     | â˜…â˜…â˜†       | æ— éœ€åŸŸå + å®¢æˆ·ç«¯     | å®¢æˆ·ç«¯å¯ç”¨ï¼Œé€‚åˆåˆå­¦è€…                         || è‡ªå»ºè„šæœ¬              | **Cloudflare API è„šæœ¬**       | âœ… å…è´¹     | âœ… æ”¯æŒ     | â˜…â˜…â˜…       | éœ€åŸŸå + Token        | çµæ´»æ€§é«˜ï¼Œéœ€åŠ¨æ‰‹å†™è„šæœ¬                         || è‡ªå»ºè„šæœ¬              | **AliDNS / DNSPod è„šæœ¬**      | âœ… å…è´¹     | âœ… æ”¯æŒ     | â˜…â˜…â˜…       | æ³¨å†Œäº‘æœåŠ¡             | é€‚åˆå›½å†…ç½‘ç»œï¼Œè„šæœ¬ç•¥å¤æ‚                       || è·¯ç”±å™¨è‡ªå¸¦            | ASUSã€å°ç±³ã€OpenWRT DDNS æ’ä»¶ | å¤šä¸ºå…è´¹    | éƒ¨åˆ†æ”¯æŒ    | â˜…â˜…â˜†       | è·¯ç”±å™¨å‹å·ç›¸å…³         | é›†æˆåº¦å¥½ï¼Œè®¾ç½®å—é™                             || è‡ªå»ºæœåŠ¡ï¼ˆğŸ”¥ æ¨èï¼‰   | **[DDNSgo](https://github.com/jeessy2/ddns-go)**     | âœ… å…è´¹å¼€æº | âœ… æ”¯æŒ     | â˜…â˜†â˜†       | å¯é€‰åŸŸåå¹³å°          | Web UI é…ç½®ï¼Œæ”¯æŒå¤šå¹³å°                         |è¿™äº›æ–¹æ¡ˆé‡Œé¢ï¼Œæˆ‘å¼ºçƒˆæ¨è DDNS-GO ï¼Œåç»­æ•™ç¨‹ä¹Ÿä»¥ DDNS-GO ä¸ºä¾‹ã€‚#### **å®‰è£… DDNS-GO****DDNS-GO** æ˜¯ä¸€ä¸ªè½»é‡çº§ã€å¼€æºçš„ DDNS å·¥å…·ï¼Œæ”¯æŒè‡ªåŠ¨å°†æœ¬æœºçš„å…¬ç½‘ IPv4 å’Œ IPv6 åœ°å€åŒæ­¥åˆ°å¤šä¸ªä¸»æµ DNS å¹³å°ï¼ˆå¦‚ Cloudflareã€é˜¿é‡Œäº‘ã€DNSPod ç­‰ï¼‰ã€‚å®ƒæœ€å¤§ä¼˜ç‚¹æ˜¯**æ”¯æŒ Web UI é…ç½®**ï¼Œæ— éœ€å†™è„šæœ¬ï¼Œé€‚åˆæ–°æ‰‹å¿«é€Ÿä¸Šæ‰‹ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒå¤šå¹³å°éƒ¨ç½²ï¼ˆåŒ…æ‹¬ç¾¤æ™–ã€Dockerã€Linux ç­‰ï¼‰ï¼Œéå¸¸é€‚åˆå®¶åº­å®½å¸¦å’Œä¸ªäººæœåŠ¡å™¨ä½¿ç”¨ã€‚æˆ‘ä»¬è¿™æ¬¡ä»¥äºŒè¿›åˆ¶æ–‡ä»¶å½¢å¼å®‰è£…ã€‚  **ä¸‹è½½åœ°å€ï¼š**- Windowsï¼š[Github](https://github.com/jeessy2/ddns-go/releases/download/v6.11.0/ddns-go_6.11.0_windows_x86_64.zip)ï¼Œå¦‚æœ Github è®¿é—®å›°éš¾ï¼Œå¯ä»¥é€šè¿‡é•œåƒåœ°å€ [GHPROXY](https://ghproxy.net/https://github.com/jeessy2/ddns-go/releases/download/v6.11.0/ddns-go_6.11.0_windows_x86_64.zip) æ¥ä¸‹è½½ã€‚- Linuxï¼š[Github](https://github.com/jeessy2/ddns-go/releases/download/v6.11.0/ddns-go_6.11.0_linux_x86_64.tar.gz)ï¼Œå¦‚æœ Github è®¿é—®å›°éš¾ï¼Œå¯ä»¥é€šè¿‡é•œåƒåœ°å€ [GHPROXY](https://ghproxy.net/https://github.com/jeessy2/ddns-go/releases/download/v6.11.0/ddns-go_6.11.0_linux_x86_64.tar.gz) æ¥ä¸‹è½½ã€‚      æ³¨ï¼šä»¥ä¸Šå‡ä¸º`x86_64`æ¶æ„çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¦‚éœ€å…¶ä»–æ¶æ„ï¼Œè¯·è‡ªè¡Œä» Github ä¸‹è½½ã€‚**å®‰è£… DDNS æœåŠ¡ï¼š**```bash# Linux ä¸­tar -zxvf ddns-go_6.11.0_linux_x86_64.tar.gz  # è§£å‹sudo ./ddns-go -s install                     # å®‰è£… DDNS æœåŠ¡# Windows ä¸­# è‡ªè¡Œè§£å‹ Zip å‹ç¼©åŒ…# ä»¥ç®¡ç†å‘˜æ¨¡å¼æ‰“å¼€ç»ˆç«¯æˆ– CMDï¼Œå¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤.\ddns-go.exe -s install

è·å– DNS æœåŠ¡æ–¹ API å¯†é’¥ä¸‹é¢æˆ‘ä½¿ç”¨åœ¨é˜¿é‡Œäº‘è´­ä¹°çš„åŸŸåæ¥é…ç½® DDNSï¼ˆæ³¨ï¼šå›½å†…åŸŸåéœ€å…ˆè¿›è¡Œå¤‡æ¡ˆï¼Œå¤‡æ¡ˆè¿‡ç¨‹è¯·è‡ªè¡ŒæŸ¥è¯¢ï¼‰ï¼Œéœ€å·²ç»åœ¨é˜¿é‡Œäº‘è´­ä¹°åŸŸåã€‚  
åˆ›å»ºAccessKeyï¼šè®¿é—® AccessKey å¹¶ç™»å½•ï¼Œç™»é™†æˆåŠŸåç‚¹å‡»åˆ›å»º AccessKeyå°±å¯ä»¥è·å–AccessKey ID å’Œ AccessKey Secretï¼Œè¯·å¦¥å–„ä¿å­˜ï¼ŒAccessKey Secret åªä¼šæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·ç¡®ä¿å·²ä¿å­˜å¥½ä¹‹åå†ç‚¹å‡»ç¡®å®šã€‚å¦‚æœæ˜¯é€šè¿‡å­è´¦å·åˆ›å»ºçš„ AccessKey ï¼Œå¯ä»¥åœ¨ RAM è®¿é—®æ§åˆ¶é‡Œé…ç½® AccessKey çš„æƒé™ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­é…ç½® DDNS-GOã€‚
DDNS-GO é…ç½®æµè§ˆå™¨è®¿é—® http://localhost:9876 æ¥è¿›å…¥ DDNS-GO çš„ Web æ§åˆ¶ç•Œé¢ï¼Œåˆæ¬¡è¿›å…¥éœ€é…ç½®ç”¨æˆ·åå’Œå¯†ç ï¼Œé…ç½®å¥½ä¹‹åï¼Œä¼šè¿›å…¥åˆ°ä¸‹é¢çš„é¡µé¢ï¼šDDNS æœåŠ¡å•†é€‰æ‹© é˜¿é‡Œäº‘ï¼Œå¡«å†™åˆšè·å–åˆ°çš„ AccessKey ID å’Œ AccessKey Secretï¼ŒTTL é€‰æ‹©è‡ªåŠ¨å³å¯ã€‚

ç”±äºæˆ‘ä»¬æ­¤æ¬¡æ˜¯å¯¹ IPv6 åš DDNS è§£æï¼Œæ‰€ä»¥ä¸éœ€è¦å¯ç”¨ IPv4 ã€‚
å¯ç”¨ IPv6 çš„ DDNS é…ç½®ï¼Œè·å– IP æ–¹å¼é»˜è®¤ï¼ˆé€šè¿‡ç½‘å¡è·å–ï¼‰å³å¯ã€‚
Domains å¤„å¡«å†™è§£æ IPv6 åœ°å€çš„åŸŸåã€‚é…ç½®å®Œä¹‹åç‚¹å‡»ä¿å­˜ï¼Œè‡³æ­¤ DDNS é…ç½®å®Œæˆã€‚å¯ä»¥é€šè¿‡å³ä¸Šè§’çš„æ—¥å¿—æŸ¥çœ‹åŸŸåè§£ææƒ…å†µï¼š

Moonlight é…ç½®Moonlight æ˜¯ä¸€æ¬¾å¼€æºçš„è¿œç¨‹æ¸¸æˆä¸²æµå®¢æˆ·ç«¯ï¼ŒåŸºäº NVIDIA çš„ GameStream æŠ€æœ¯å¼€å‘ï¼Œæ”¯æŒåœ¨å±€åŸŸç½‘æˆ–äº’è”ç½‘ä¸­å°†ä¸»æœºä¸Šçš„æ¸¸æˆç”»é¢ä½å»¶è¿Ÿåœ°ä¼ è¾“åˆ°å…¶ä»–è®¾å¤‡ï¼ˆå¦‚æ‰‹æœºã€å¹³æ¿ã€ç”µè§†ã€ç¬”è®°æœ¬ï¼‰ä¸Šã€‚å®ƒæ”¯æŒ 4Kã€60FPSã€é«˜ç ç‡ä¼ è¾“ï¼Œæ­é… Sunshine ä½¿ç”¨å¯ä¸ä¾èµ– NVIDIA æ˜¾å¡ï¼Œå®ç°é«˜è´¨é‡çš„è·¨å¹³å°è¿œç¨‹æ¸¸æˆä½“éªŒã€‚
ä¸‹è½½åœ°å€Windows&#x2F;Linux&#x2F;Macï¼šMoonLight-QtIOS&#x2F;AppleTVï¼šAppStoreAndroidï¼šGoogleStoreï¼ŒGithub
è¿æ¥ Sunshineè¿™é‡Œä»¥ Windows ç‰ˆæœ¬çš„Moonlight ä¸ºä¾‹ï¼Œå…¶ä»–ç‰ˆæœ¬çš„ Moonlight ä¹ŸåŸºæœ¬ç›¸åŒã€‚ç‚¹å‡»å³ä¸Šè§’ + å·ï¼Œè¾“å…¥ä¹‹å‰é…ç½®çš„åŸŸåï¼Œå¦‚æœè¿æ¥æˆåŠŸï¼ŒSunshine æœåŠ¡å™¨å°±ä¼šå‡ºç°åœ¨è®¡ç®—æœºåˆ—è¡¨ï¼š  ç”±äºæ­¤æ—¶è¿˜æœªå®Œæˆé…å¯¹ï¼Œä¼šå‡ºç°é”çš„å›¾æ ‡ï¼Œç‚¹å‡»é”ï¼Œä¼šæç¤ºè·ŸæœåŠ¡å™¨åŒ¹é…ï¼š  æ­¤æ—¶åœ¨Sunshine æœåŠ¡å™¨ä¸Šè®¿é—® https://localhost:47990 è¿›å…¥ Sunshine åå°ï¼Œç‚¹å‡» Pinç ï¼Œè¾“å…¥ Moonlight ä¸Šæ˜¾ç¤ºçš„ Pinç ï¼Œè®¾å¤‡åç§°å¯ä»¥æŒ‰ç…§è‡ªå·±çš„å–œå¥½æ¥å¡«å†™ï¼Œç‚¹å‡»å‘é€ï¼Œå®Œæˆé…å¯¹ã€‚  æ­¤æ—¶æ‰“å¼€ Moonlightï¼Œå‘ç°é”çš„å›¾æ ‡æ¶ˆå¤±äº†ï¼Œè¯´æ˜é…å¯¹æˆåŠŸï¼Œç‚¹å‡»å¯¹åº”çš„ Sunshine æœåŠ¡å™¨å°±å¯ä»¥å¼€å§‹ä¸²æµã€‚    
è‡³æ­¤ï¼ŒMoonlight å·²è¿æ¥ Sunshineï¼Œå®Œæˆæ•´ä¸ªä¸²æµé…ç½®ã€‚
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>Sunshine</tag>
        <tag>Moonlight</tag>
        <tag>ä¸²æµ</tag>
      </tags>
  </entry>
  <entry>
    <title>RAIDçº§åˆ«ä»‹ç»å’Œé…ç½®æŒ‡å—</title>
    <url>/2025/05/26/raid/</url>
    <content><![CDATA[RAID æ¦‚è¿°RAIDï¼ˆç‹¬ç«‹ç£ç›˜å†—ä½™é˜µåˆ—ï¼‰æ˜¯ä¸€ç§é€šè¿‡è™šæ‹ŸåŒ–æŠ€æœ¯å°†å¤šä¸ªç¡¬ç›˜ç»„åˆæˆä¸€ä¸ªé€»è¾‘å­˜å‚¨ç»„ï¼Œä»¥åŒæ—¶æå‡å­˜å‚¨æ€§èƒ½å’Œæ•°æ®å†—ä½™çš„æ–¹æ³•ã€‚ç®€å•æ¥è¯´ï¼ŒRAID å°†å¤šå—ç£ç›˜è”åˆèµ·æ¥å¯¹å¤–å‘ˆç°ä¸ºä¸€ä¸ªæ›´å¤§çš„ç£ç›˜ï¼Œæ“ä½œç³»ç»Ÿå°†å…¶è§†ä¸ºå•ä¸€çš„å­˜å‚¨è®¾å¤‡ã€‚æ ¹æ®ä¸åŒçš„ RAID å±‚çº§ï¼Œæ•°æ®ä¼šä»¥ä¸åŒæ–¹å¼åˆ†å¸ƒåˆ°å„ä¸ªç¡¬ç›˜ä¸Šã€‚æ¯ç§ RAID çº§åˆ«éƒ½æœ‰å…¶ç‰¹å®šçš„å®ç°æ–¹å¼å’Œç†è®ºä¸Šçš„ä¼˜ç¼ºç‚¹ï¼Œåœ¨æé«˜æ•°æ®å¯é æ€§å’Œè¯»å†™æ€§èƒ½ä¸¤æ–¹é¢å„æœ‰ä¾§é‡ã€‚
RAID æœ€åˆå®šä¹‰äº†å¤šä¸ªæ ‡å‡†å±‚çº§ï¼ˆRAID 0ï½RAID 5 ç­‰ï¼‰ï¼Œåæ¥åˆå‡ºç°äº†æ›´é«˜å±‚çº§ã€ç»„åˆçº§åˆ«å’Œå‚å•†ç‰¹å®šçš„ RAID å®ç°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒRAID å¹¶ä¸æ˜¯å¤‡ä»½æ‰‹æ®µâ€”â€”è™½ç„¶æŸäº› RAID çº§åˆ«æä¾›å†—ä½™ä¿æŠ¤ï¼Œèƒ½å¤Ÿåœ¨ç¡¬ç›˜æ•…éšœæ—¶é˜²æ­¢æ•°æ®ä¸¢å¤±ï¼Œä½†å¦‚æœå‘ç”Ÿæ•°æ®è¯¯åˆ æˆ–ç¾éš¾æ€§æŸåï¼ŒRAID æ— æ³•æ›¿ä»£ç¦»çº¿å¤‡ä»½ã€‚RAID çš„ä¸»è¦ç›®çš„åœ¨äºæä¾›ç£ç›˜å®¹é”™èƒ½åŠ›å’Œæé«˜ I&#x2F;O æ€§èƒ½ï¼ˆå¦‚å¢åŠ ååé‡ã€æå‡ IOPSï¼‰ã€‚
ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒRAID å¸¸ç”¨äºæœåŠ¡å™¨å’Œå­˜å‚¨ç³»ç»Ÿï¼Œä½†éšç€ç£ç›˜ä»·æ ¼é™ä½å’Œä¸»æ¿é›†æˆ RAID åŠŸèƒ½çš„æ™®åŠï¼Œä¸ªäººç”¨æˆ·åœ¨éœ€è¦å¤§å®¹é‡æˆ–é«˜æ€§èƒ½å­˜å‚¨æ—¶ä¹Ÿå¼€å§‹é‡‡ç”¨ RAIDã€‚
RAID çº§åˆ«åˆ†ç±»RAID çº§åˆ«é€šå¸¸ä»¥æ•°å­—ç¼–å·åŒºåˆ†ä¸åŒçš„æ•°æ®ç»„ç»‡æ–¹å¼ï¼ŒåŒ…æ‹¬æ ‡å‡† RAID çº§åˆ«ï¼ˆå¦‚ RAID 0, 1, 2, 3, 4, 5, 6 ç­‰ï¼‰å’Œç»„åˆ &#x2F; åµŒå¥— RAID çº§åˆ«ï¼ˆå¦‚ RAID 10, 0+1, 50, 60 ç­‰ï¼‰ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰å‚å•†æˆ–ç‰¹å®šæ–‡ä»¶ç³»ç»Ÿå®ç°çš„å˜ç§ï¼ˆä¾‹å¦‚ NetApp çš„ RAID-DPã€ZFS æ–‡ä»¶ç³»ç»Ÿçš„ RAID-Z ç­‰ï¼‰ã€‚
ä»¥ä¸‹å°†è¯¦ç»†ä»‹ç»å¸¸è§å’Œéå¸¸è§çš„å„ RAID çº§åˆ«ï¼ŒåŒ…æ‹¬å…¶ç©ºé—´åˆ©ç”¨è®¡ç®—æ–¹å¼ã€æ€§èƒ½ç‰¹ç‚¹ã€å®¹é”™ä¸æ¢å¤èƒ½åŠ›ã€ä¼˜ç¼ºç‚¹ä»¥åŠå…¸å‹åº”ç”¨åœºæ™¯ï¼Œå¹¶æä¾›é…ç½®æ–¹æ³•å’Œ RAID é€‰æ‹©æŒ‡å—ã€‚
å„ RAID çº§åˆ«è¯¦è§£RAID 0 â€“ æ¡å¸¦åŒ–å­˜å‚¨ï¼ˆStripingï¼‰RAID 0 é€šè¿‡æ•°æ®æ¡å¸¦åŒ–ï¼ˆStripingï¼‰å®ç°æ€§èƒ½æœ€å¤§åŒ–ã€‚å®ƒå°†æ•°æ®åˆ†å‰²æˆå—ï¼Œäº¤æ›¿åˆ†å¸ƒåœ¨ä¸¤ä¸ªæˆ–æ›´å¤šç£ç›˜ä¸Šï¼Œä½¿æ‰€æœ‰ç£ç›˜å¯ä»¥å¹¶è¡Œè¯»å†™ã€‚å› æ­¤ RAID 0 èƒ½å¤Ÿæä¾›çº¿æ€§æå‡çš„è¯»å†™æ€§èƒ½ï¼šå¦‚æœæœ‰ n å—ç£ç›˜ï¼Œç†è®ºä¸Šé¡ºåºè¯»å†™é€Ÿåº¦å¯ä»¥æ¥è¿‘å•ç›˜çš„ n å€ã€‚RAID 0 ä¸å­˜å‚¨ä»»ä½•æ ¡éªŒæˆ–å†—ä½™ä¿¡æ¯ï¼Œæ²¡æœ‰å†—ä½™å’Œå®¹é”™èƒ½åŠ›ï¼Œè¿™æ„å‘³ç€å…¶ä¸­ä»»æ„ä¸€å—ç£ç›˜å‘ç”Ÿæ•…éšœéƒ½ä¼šå¯¼è‡´æ•´ä¸ªé˜µåˆ—çš„æ•°æ®å…¨éƒ¨ä¸¢å¤±ã€‚

ç©ºé—´è®¡ç®—æ–¹å¼ï¼šRAID 0 çš„å¯ç”¨æ€»å®¹é‡æ˜¯æ‰€æœ‰æˆå‘˜ç£ç›˜å®¹é‡çš„æ€»å’Œã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ n å—å®¹é‡ç›¸åŒçš„ç¡¬ç›˜ç»„æˆ RAID 0ï¼Œå¯ç”¨å®¹é‡ &#x3D; n Ã— å•ç›˜å®¹é‡ã€‚æ²¡æœ‰ä»»ä½•å®¹é‡æŸå¤±åœ¨å†—ä½™ä¸Šï¼ˆå†—ä½™å¼€é”€ä¸º 0ï¼‰ã€‚
æ€§èƒ½ç‰¹æ€§ï¼šRAID 0 åœ¨æ‰€æœ‰ RAID çº§åˆ«ä¸­è¯»å†™æ€§èƒ½æœ€ä¼˜ã€‚è¯»å†™æ“ä½œå¯ä»¥ç”±å¤šç›˜å¹¶è¡Œå¤„ç†ï¼Œé¡ºåºååé‡å’Œå¹¶å‘ I&#x2F;O èƒ½åŠ›éƒ½æˆå€æé«˜ã€‚å¯¹äºå¤§æ–‡ä»¶çš„é¡ºåºè¯»å†™ï¼Œååé‡è¿‘ä¼¼äºå•ç›˜çš„ n å€ï¼›å¯¹äºéšæœº I&#x2F;Oï¼Œç”±äºæ²¡æœ‰æ ¡éªŒè®¡ç®—ï¼Œä¹Ÿæ— é¢å¤–å¼€é”€ï¼Œæ€§èƒ½ä¸»è¦å–å†³äºå¹¶å‘ I&#x2F;O è´Ÿè½½èƒ½å¦æœ‰æ•ˆåˆ©ç”¨å¤šç£ç›˜å¹¶è¡Œæ€§ã€‚
å†—ä½™ä¸å®¹é”™ï¼šæ— å†—ä½™ã€‚ä»»æ„ä¸€ç›˜æ•…éšœå³é˜µåˆ—å´©æºƒï¼Œæ•…éšœè€å—åº¦ &#x3D; 0ï¼ˆä¸å¯å®¹å¿ä»»ä½•ç£ç›˜æŸåï¼‰ã€‚æ•°æ®æ¢å¤å‡ ä¹ä¸å¯èƒ½ï¼Œåªèƒ½é€šè¿‡å¤‡ä»½è¿˜åŸï¼Œå› ä¸º RAID 0 æ²¡æœ‰æ ¡éªŒæ•°æ®å¯ç”¨äºé‡å»ºã€‚
ä¼˜ç‚¹ï¼šå®ç°æœ€å¤§çš„å­˜å‚¨åˆ©ç”¨ç‡å’Œæœ€é«˜çš„ I&#x2F;O æ€§èƒ½ï¼›æˆæœ¬æœ€ä½ï¼ˆæ— é¢å¤–å†—ä½™ç£ç›˜ï¼‰ã€‚
ç¼ºç‚¹ï¼šæ•°æ®å®‰å…¨æ€§æä½ï¼Œå•ç›˜æ•…éšœä¼šé€ æˆå…¨éƒ¨æ•°æ®ä¸¢å¤±ï¼›MTBFï¼ˆå¹³å‡æ— æ•…éšœæ—¶é—´ï¼‰å®é™…ä¸Šæ¯”å•ç›˜æ›´ä½ï¼ˆå› ä¸ºæ›´å¤šç›˜å¸¦æ¥æ›´é«˜æ•…éšœæ¦‚ç‡ï¼‰ã€‚
å…¸å‹åº”ç”¨åœºæ™¯ï¼šé€‚ç”¨äºå¯¹æ€§èƒ½è¦æ±‚æé«˜ä¸”èƒ½æ¥å—æ•°æ®ä¸¢å¤±é£é™©çš„åœºåˆï¼Œä¾‹å¦‚è§†é¢‘å‰ªè¾‘çš„é«˜é€Ÿç¼“å­˜ &#x2F; ä¸´æ—¶å¤„ç†ç›˜ã€éå…³é”®æ€§çš„ä¸´æ—¶è®¡ç®—ç©ºé—´ç­‰ã€‚è¿™äº›åœºæ™¯é€šå¸¸æœ‰ç‹¬ç«‹çš„æ•°æ®å¤‡ä»½æˆ–æºæ–‡ä»¶ï¼Œå¯åœ¨é˜µåˆ—æ•…éšœåé‡æ–°è·å–æ•°æ®ã€‚

RAID 1 â€“ ç£ç›˜é•œåƒï¼ˆMirroringï¼‰RAID 1 é€šè¿‡ç£ç›˜é•œåƒå®ç°æ•°æ®å†—ä½™ï¼Œå³å°†ç›¸åŒçš„æ•°æ®å®æ—¶å†™å…¥ä¸¤å—æˆ–å¤šå—ç¡¬ç›˜ä¸­ã€‚æ¯å†™å…¥ä¸€ä»½æ•°æ®éƒ½ä¼šåŒæ­¥å¤åˆ¶åˆ°é•œåƒç›˜ä¸Šï¼Œä»è€Œåœ¨æ‰€æœ‰æˆå‘˜ç›˜ä¿å­˜å®Œæ•´çš„å‰¯æœ¬ã€‚RAID 1 æä¾›äº†æœ€é«˜çš„æ•°æ®å®‰å…¨æ€§ï¼šåªè¦é˜µåˆ—ä¸­è‡³å°‘æœ‰ä¸€å—ç£ç›˜å®Œå¥½ï¼Œæ•°æ®å³å®Œæ•´æ— æŸã€‚å…¸å‹æƒ…å†µä¸‹ RAID 1 ç”±ä¸¤å—ç£ç›˜ç»„æˆé•œåƒå¯¹ï¼ˆä¹Ÿå¯æ‰©å±•ä¸ºå¤šç›˜é•œåƒï¼Œä»¥å¢åŠ è¯»å–æ€§èƒ½æˆ–é¢å¤–å¤‡ä»½å‰¯æœ¬ï¼‰ã€‚

ç©ºé—´è®¡ç®—æ–¹å¼ï¼šRAID 1 å¯ç”¨å®¹é‡ç­‰äºå…¶ä¸­æœ€å°å®¹é‡ç£ç›˜çš„å®¹é‡ï¼ˆç›¸å½“äºä»…åˆ©ç”¨äº†ä¸€å—ç›˜çš„å®¹é‡ï¼‰ã€‚ä¾‹å¦‚ï¼Œä¸¤å— 4TB é•œåƒï¼Œåˆ™å¯ç”¨æ€»å®¹é‡ä¸º 4TBï¼›è‹¥é•œåƒç”±å¤§å°ä¸åŒç£ç›˜ç»„æˆï¼Œåˆ™ä»¥è¾ƒå°ç£ç›˜å®¹é‡ä¸ºå‡†ã€‚ç”±äºæ¯ä»½æ•°æ®éƒ½å†™å…¥ä¸¤ä»½ï¼Œç£ç›˜åˆ©ç”¨ç‡ä»… 50%ï¼ˆä¸¤ç›˜æƒ…å†µä¸‹ï¼‰ï¼›ç”¨æ›´å¤šç£ç›˜åšå¤šé‡é•œåƒæ—¶ï¼Œåˆ©ç”¨ç‡æ›´ä½ï¼Œæ˜¯æ‰€æœ‰ RAID ä¸­ç£ç›˜åˆ©ç”¨ç‡æœ€ä½çš„çº§åˆ«ã€‚
æ€§èƒ½ç‰¹æ€§ï¼šRAID 1 çš„è¯»å–æ€§èƒ½è‰¯å¥½ã€‚å› ä¸ºæ¯å—ç›˜ä¸Šéƒ½æœ‰å®Œæ•´æ•°æ®ï¼Œæ§åˆ¶å™¨ &#x2F; æ“ä½œç³»ç»Ÿå¯ä»¥å°†è¯»å–ä»»åŠ¡åˆ†æ•£åˆ°å¤šä¸ªç›˜å¹¶è¡Œå®Œæˆã€‚åœ¨ç†æƒ³æƒ…å†µï¼ˆå¤šçº¿ç¨‹è¯»å–æˆ–æ™ºèƒ½è°ƒåº¦ï¼‰ä¸‹ï¼Œè¯»å–ååé‡å¯æ¥è¿‘ n å€äºå•ç›˜ï¼ˆn ä¸ºé•œåƒç›˜æ•°ï¼‰ã€‚å®é™…ä¸­å¯¹äºå•ä¸€é¡ºåºè¯»å–ï¼Œéƒ¨åˆ†å®ç°ä¹Ÿèƒ½é€šè¿‡äº¤æ›¿ä»ä¸åŒç›˜è¯»å–æ¥ç•¥å¾®æå‡é€Ÿåº¦ã€‚å†™å…¥æ€§èƒ½ç•¥ä½äºå•ä¸€ç¡¬ç›˜ï¼šéœ€è¦å¯¹æ¯å—é•œåƒç›˜éƒ½å†™å…¥ä¸€æ¬¡ï¼Œä½†è¿™äº›å†™æ“ä½œå¯ä»¥å¹¶è¡Œè¿›è¡Œï¼Œå› æ­¤æ€»ä½“å†™å…¥é€Ÿåº¦æ¥è¿‘å•ç›˜æ°´å¹³ï¼Œå¼€é”€ä¸»è¦æ˜¯åŒæ­¥å¤šç›˜å†™å…¥çš„å¾®å°å»¶è¿Ÿã€‚
å†—ä½™ä¸å®¹é”™ï¼šRAID 1 å…·æœ‰æœ€é«˜å®¹é”™èƒ½åŠ›ã€‚åªè¦æœ‰ä¸€å—ç£ç›˜æ­£å¸¸ï¼Œæ•°æ®å³ä¸ä¸¢å¤±ã€‚åœ¨ä¸¤ç›˜é•œåƒä¸­ï¼Œå¯å®¹å¿ 1 ç›˜æ•…éšœï¼›åœ¨ n ç›˜é•œåƒä¸­ï¼Œæœ€å¤šå¯å®¹å¿ n-1 å—ç£ç›˜åŒæ—¶æ•…éšœï¼ˆåªå‰©ä¸€ç›˜ä»å¯è¿è¡Œï¼‰ã€‚æ•…éšœç›˜æ›´æ¢åï¼Œé˜µåˆ—ä¼šé€šè¿‡å°†å‰©ä½™å®Œå¥½ç›˜çš„æ•°æ®æ‹·è´åˆ°æ–°ç›˜æ¥é‡å»ºé•œåƒï¼Œæ¢å¤æ»¡å†—ä½™çŠ¶æ€ã€‚é‡å»ºè¿‡ç¨‹ç›¸å¯¹ç®€å•ï¼ˆä¸ºæ•´ç›˜å¤åˆ¶ï¼‰ï¼Œé€Ÿåº¦å–å†³äºç£ç›˜å¤§å°å’Œæ¥å£å¸¦å®½ã€‚
ä¼˜ç‚¹ï¼šæä¾›æé«˜çš„æ•°æ®å®‰å…¨æ€§å’Œå¯é æ€§ï¼Œæ˜¯å®¹é”™èƒ½åŠ›æœ€å¼ºçš„ RAID çº§åˆ«ï¼›è¯»å–æ€§èƒ½æœ‰æå‡ï¼ˆå°¤å…¶åœ¨å¤šç”¨æˆ·åœºæ™¯ä¸‹å¹¶å‘è¯»å–æ•ˆèƒ½å¥½ï¼‰ï¼›é‡å»ºé€»è¾‘ç®€å•ã€‚
ç¼ºç‚¹ï¼šå­˜å‚¨åˆ©ç”¨ç‡ä½ï¼ˆ50% æˆ–æ›´ä½ï¼‰ï¼›æˆæœ¬é«˜æ˜‚ï¼ˆæœ‰ä¸€åŠä»¥ä¸Šçš„å­˜å‚¨æŠ•å…¥ç”¨äºå†—ä½™ï¼‰ï¼›å†™å…¥å¼€é”€ç•¥æœ‰å¢åŠ ï¼›æ— æ³•å®¹å¿æ•°æ®ä¸ä¸€è‡´ï¼ˆéœ€ç¡®ä¿é•œåƒå®æ—¶åŒæ­¥ï¼Œå¦åˆ™å¯èƒ½å‡ºç°é•œåƒä¸åŒæ­¥é—®é¢˜ï¼Œä½†ä¸€èˆ¬ RAID æ§åˆ¶å™¨ä¼šå¤„ç†åŒæ­¥ï¼‰ã€‚
å…¸å‹åº”ç”¨åœºæ™¯ï¼šé€‚ç”¨äºæ•°æ®å®‰å…¨è¦æ±‚æœ€é«˜ã€å°å®¹é‡ä¸”éšæœºå†™å…¥è¾ƒå¤šçš„åœºæ™¯ã€‚ä¾‹å¦‚æ“ä½œç³»ç»Ÿç›˜ã€æ•°æ®åº“æ—¥å¿—ç›˜ã€å°å‹ä¼ä¸šæˆ–ä¸ªäººçš„é‡è¦æ•°æ®å­˜å‚¨ã€æœåŠ¡å™¨ç³»ç»Ÿç›˜ç­‰ã€‚å¾ˆå¤šä¸ªäºº NAS å’Œä¼ä¸šçº§å­˜å‚¨ä¼šé‡‡ç”¨ RAID 1 æ¥ä¿è¯ç£ç›˜ä»»ä¸€æŸåæ—¶æ•°æ®ä¸ä¸¢å¤±ã€‚åœ¨åªæœ‰ä¸¤å—ç£ç›˜çš„æƒ…å†µä¸‹ï¼ŒRAID 1 å¾€å¾€æ˜¯å”¯ä¸€å¯ä»¥æä¾›å†—ä½™ä¿æŠ¤çš„é€‰æ‹©ã€‚

RAID 2 â€“ æ±‰æ˜ç æ ¡éªŒï¼ˆHamming Code ECCï¼‰RAID 2 æ˜¯æ—©æœŸçš„ä¸€ç§å®éªŒæ€§ RAID çº§åˆ«ï¼Œåˆ©ç”¨æ±‰æ˜ç ï¼ˆHamming Codeï¼‰çš„é”™è¯¯æ ¡éªŒå’Œçº æ­£æœºåˆ¶æ¥æä¾›æ•°æ®å†—ä½™ã€‚å®ƒå¯ä»¥çœ‹ä½œå¯¹ RAID 0 çš„æ”¹è‰¯ï¼šæ•°æ®åœ¨å†™å…¥å‰ä¼šç¼–ç æ‹†åˆ†æˆä½ï¼ˆbitï¼‰æ¡å¸¦ï¼Œåˆ†æ•£å†™å…¥å¤šä¸ªæ•°æ®ç›˜ï¼›åŒæ—¶è®¡ç®—é”™è¯¯æ ¡æ­£ç ï¼ˆECCï¼‰å­˜æ”¾åœ¨é¢å¤–çš„æ ¡éªŒç›˜ä¸Šã€‚æ±‰æ˜ç èƒ½å¤Ÿæ£€æµ‹å¹¶çº æ­£å•ä¸ªä½é”™è¯¯ï¼Œå› æ­¤ RAID 2 å¯ä»¥å®¹å¿å•ä¸€ç£ç›˜æ•…éšœï¼ˆç›¸å½“äºä¸€æ•´ä¸ªç›˜ä½çš„æ•°æ®ä¸¢å¤±ï¼Œå¯è¢« ECC çº æ­£ï¼‰ã€‚è‹¥åŒæ—¶æœ‰ä¸¤å—æˆ–ä»¥ä¸Šç£ç›˜å‡ºé—®é¢˜ï¼Œè¶…å‡ºæ±‰æ˜ç çº é”™èƒ½åŠ›ï¼Œåˆ™é˜µåˆ—æ•°æ®æ— æ³•å®Œå…¨æ¢å¤ã€‚

ç©ºé—´è®¡ç®—æ–¹å¼ï¼šRAID 2 éœ€è¦é¢„ç•™å¤šä¸ªç£ç›˜ç”¨äºå­˜æ”¾ ECC æ ¡éªŒä½ï¼Œå…·ä½“æ•°é‡å–å†³äºæ•°æ®ç›˜æ•°é‡å’Œæ±‰æ˜ç ç®—æ³•ï¼ˆæ±‰æ˜ç éœ€è¦è‹¥å¹²æ ¡éªŒä½è¦†ç›–ç‰¹å®šä½å®½çš„æ•°æ®ä½ï¼‰ã€‚å› æ­¤é˜µåˆ—æ€»å®¹é‡ç•¥å°äºæ•°æ®ç›˜å®¹é‡ä¹‹å’Œï¼Œè€Œä¸”æ¯” RAID 5&#x2F;6 è¿™ç±»åªéœ€ 1-2 ç›˜æ ¡éªŒçš„æ–¹æ¡ˆå¼€é”€æ›´å¤§ã€‚ä¾‹å¦‚ä¸€ä¸ªç®€å•å®ç°å¯èƒ½ç”¨ 4 ä¸ªæ•°æ®ç›˜ + 3 ä¸ªæ ¡éªŒç›˜ï¼ˆå…± 7 ç›˜ï¼‰æ¥ç»„ç»‡æ±‰æ˜ç ï¼Œä½¿å¾—å¯ç”¨å®¹é‡çº¦ä¸º 4 ç›˜æ€»å®¹é‡ï¼Œå†—ä½™å¼€é”€è¾ƒé«˜ã€‚æ€»çš„æ¥è¯´ï¼ŒRAID 2 å¯ç”¨å®¹é‡ä¼šå› ä¸ºå­˜å‚¨ ECC ä¿¡æ¯è€Œâ€œæ¯”åŸå§‹æ•°æ®å¤§ä¸€äº›â€ã€‚
æ€§èƒ½ç‰¹æ€§ï¼šRAID 2 è¿›è¡Œä½çº§åˆ«çš„æ¡å¸¦åŒ–ï¼Œæ‰€æœ‰ç£ç›˜ï¼ˆæ•°æ®ç›˜å’Œæ ¡éªŒç›˜ï¼‰åœ¨æ¯æ¬¡è¯»å†™ä¸­éƒ½å‚ä¸æ“ä½œã€‚ä¸€æ®µæ•°æ®é€šå¸¸åˆ†æ•£åˆ°ä½ç²’åº¦ï¼Œéœ€è¦æ‰€æœ‰ç›˜åŒæ­¥è¯» &#x2F; å†™æ‰èƒ½ç»„åˆ &#x2F; æ ¡éªŒæ•°æ®ã€‚è¿™æ„å‘³ç€ RAID 2 æ— æ³•ç‹¬ç«‹è®¿é—®å•ç›˜å®Œæˆ I&#x2F;Oï¼Œå³ä½¿å¾ˆå°çš„æ•°æ®è¯»å†™ä¹Ÿéœ€è¦æ•´ä¸ªé˜µåˆ—ååŒï¼Œè¿™ä½¿å…¶éšæœº I&#x2F;O æ€§èƒ½è¾ƒå·®ã€å»¶è¿Ÿè¾ƒé«˜ã€‚ç„¶è€Œåœ¨é¡ºåºä¼ è¾“æ—¶ï¼Œå¤šç›˜å¹¶è¡Œä»å¸¦æ¥å¸¦å®½æå‡ã€‚æ­¤å¤–ï¼ŒECC è®¡ç®—ä¼šå¸¦æ¥é¢å¤–çš„è®¡ç®—å¼€é”€ï¼Œçº¯è½¯ä»¶å®ç°æ—¶å¯¹ CPU æœ‰è¾ƒå¤§è´Ÿè½½ã€‚
å†—ä½™ä¸å®¹é”™ï¼šå¯å®¹å¿ 1 å—ç£ç›˜æ•…éšœï¼ˆå•ç›˜æ•°æ®å¯ç”± ECC çº æ­£ï¼‰ã€‚å½“ä¸€ç›˜å¤±æ•ˆæ—¶ï¼Œé˜µåˆ—å¯é€šè¿‡å‰©ä½™æ•°æ®ç›˜å’Œæ ¡éªŒç›˜çš„æ±‰æ˜ç è®¡ç®—é‡å»ºå‡ºä¸¢å¤±çš„æ•°æ®ä½ï¼Œçº é”™è¿‡ç¨‹ç±»ä¼¼äºå†…å­˜ ECC æ ¡éªŒçº æ­£å•æ¯”ç‰¹é”™è¯¯çš„åŸç†ã€‚ä¸€æ—¦æ•…éšœç›˜æ›´æ¢ï¼Œç³»ç»Ÿå¯é‡æ–°è®¡ç®—è¯¥ç›˜çš„æ‰€æœ‰ ECC æˆ–æ•°æ®ä½è¿›è¡Œæ¢å¤ã€‚å¦‚æœå¤šäº 1 ç›˜åŒæ—¶æ•…éšœï¼Œçº é”™å¤±è´¥ï¼Œé˜µåˆ—å°†å´©æºƒæ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚
ä¼˜ç‚¹ï¼šå¼•å…¥äº†å…ˆè¿›çš„çº é”™ç ï¼ˆECCï¼‰ï¼Œç›¸è¾ƒæ—©æœŸåªæ¡å¸¦åŒ–çš„æ–¹æ¡ˆï¼Œæœ‰ä¸€å®šçš„å®¹é”™èƒ½åŠ›ï¼›åœ¨ç‰¹å®šå®ç°ä¸­ï¼Œè¯»æ€§èƒ½å’Œé¡ºåºååä»èƒ½å—ç›Šäºå¤šç›˜å¹¶è¡Œã€‚
ç¼ºç‚¹ï¼šå®ç°å¤æ‚ï¼Œéœ€ä¸“ç”¨ç¡¬ä»¶æ”¯æŒé«˜é€Ÿçš„ä½çº§æ¡å¸¦å’Œ ECC è®¡ç®—ï¼›å­˜å‚¨å¼€é”€å¤§ï¼ˆéœ€è¦å¤šä¸ªæ ¡éªŒç›˜ï¼‰ï¼›éšæœº I&#x2F;O æ€§èƒ½ä¸ä½³ï¼›å®é™…åº”ç”¨æå°‘ã€‚å¤šæ•°ç°ä»£ RAID ç³»ç»Ÿæ²¡æœ‰é‡‡ç”¨ RAID 2ã€‚
å…¸å‹åº”ç”¨åœºæ™¯ï¼šRAID 2 ä¸»è¦å…·æœ‰å†å²æ„ä¹‰ï¼Œç°ä»£å®è·µä¸­å‡ ä¹æ‰¾ä¸åˆ°å®ç°çš„ RAID 2 æ§åˆ¶å™¨æˆ–è½¯ä»¶ã€‚å®ƒæ›´å¤šä½œä¸ºå†—ä½™ç¼–ç æ€æƒ³çš„å±•ç¤ºï¼Œç”¨äºæ•™ç§‘ä¹¦æˆ–ç ”ç©¶ã€‚ç°å®ä¸­æ›´é«˜æ•ˆçš„ RAID 5&#x2F;6 ç­‰å–ä»£äº† RAID 2ã€‚

RAID 3 â€“ å­—èŠ‚äº¤é”™å¥‡å¶æ ¡éªŒï¼ˆByte-Interleaved Parityï¼‰RAID 3 é‡‡ç”¨å­—èŠ‚ï¼ˆæˆ–ä½ï¼‰äº¤é”™çš„æ¡å¸¦åŒ–æ–¹å¼ï¼Œå¹¶åœ¨ä¸€ä¸ªä¸“ç”¨å¥‡å¶æ ¡éªŒç›˜ä¸Šå­˜å‚¨æ ¡éªŒä¿¡æ¯ã€‚å’Œ RAID 2 ç±»ä¼¼ï¼ŒRAID 3 ä¹Ÿéœ€è¦æ‰€æœ‰æˆå‘˜ç›˜åŒæ­¥å·¥ä½œæ¥å®Œæˆ I&#x2F;O æ“ä½œï¼Œä½†ä¸åŒçš„æ˜¯ RAID 3 ä½¿ç”¨ç®€å•çš„å¼‚æˆ–ï¼ˆXORï¼‰æ ¡éªŒè€Œéå¤æ‚ ECC ç ã€‚è¿™æ„å‘³ç€æ•°æ®æŒ‰å­—èŠ‚ &#x2F; ä½åˆ†å¸ƒåœ¨å¤šä¸ªæ•°æ®ç›˜ä¸Šï¼Œè€Œæ¯ä¸ªæ¡å¸¦çš„å¥‡å¶æ ¡éªŒä½é›†ä¸­å­˜å‚¨åœ¨ä¸“é—¨çš„ Parity ç›˜ä¸Šã€‚RAID 3 èƒ½å®¹å¿å•ç›˜æ•…éšœï¼Œé€šè¿‡å¥‡å¶æ ¡éªŒç›˜çš„æ•°æ®ä¸å…¶ä½™æ•°æ®ç›˜å†…å®¹è¿›è¡Œå¼‚æˆ–è¿ç®—å³å¯é‡å»ºä¸¢å¤±æ•°æ®ã€‚

ç©ºé—´è®¡ç®—æ–¹å¼ï¼šRAID 3 è‡³å°‘éœ€è¦ 3 å—ç£ç›˜ï¼ˆ2 ä¸ªæ•°æ®ç›˜ + 1 ä¸ªæ ¡éªŒç›˜ï¼‰ã€‚å¯ç”¨å®¹é‡ &#x3D; (æ€»ç£ç›˜æ•° - 1) Ã— å•ç›˜å®¹é‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ‰ä¸€æ•´å—ç›˜çš„å®¹é‡ç”¨äºå­˜å‚¨å¥‡å¶æ ¡éªŒï¼Œå†—ä½™å¼€é”€çº¦å æ€»å®¹é‡çš„ 1&#x2F;nï¼ˆn ä¸ºç£ç›˜æ•°ï¼‰ã€‚ä¾‹å¦‚ 4 ç›˜ RAID 3 çš„å¯ç”¨å®¹é‡ä¸º 3 ç›˜æ•°æ®æ€»å’Œï¼Œ25% å®¹é‡ç”¨äºæ ¡éªŒã€‚
æ€§èƒ½ç‰¹æ€§ï¼šRAID 3 çš„é¡ºåºè¯»å†™æ€§èƒ½å¾ˆå¥½ã€‚ç”±äºæ•°æ®è¢«æŒ‰å­—èŠ‚æ¡å¸¦åˆ°æ‰€æœ‰ç£ç›˜ä¸Šï¼Œè¯»å–æˆ–å†™å…¥å¤§å—é¡ºåºæ•°æ®æ—¶ï¼Œæ‰€æœ‰ç›˜å¯å¹¶è¡Œä¼ è¾“ï¼Œä¸åŒå­—èŠ‚åœ¨ä¸åŒç›˜ä¸ŠåŒæ­¥è¯» &#x2F; å†™ï¼Œæ•´ä½“ååé‡æ¥è¿‘å¤šç›˜åˆè®¡å¸¦å®½ã€‚ç„¶è€Œï¼Œéšæœºè®¿é—®æ€§èƒ½è¾ƒå·®ï¼šå› ä¸ºå³ä½¿è¯»å–å°‘é‡æ•°æ®ï¼Œä¹Ÿéœ€è¦æ‰€æœ‰æ•°æ®ç›˜å®šä½å¹¶åŒæ—¶è¯»å–å„è‡ªçš„éƒ¨åˆ†ï¼Œå†ç»„åˆæˆå®Œæ•´æ•°æ®ã€‚è¿™å¯¼è‡´å° I&#x2F;O è¯·æ±‚æ— æ³•åœ¨ç›˜é—´å¹¶è¡ŒæœåŠ¡ï¼Œå“åº”æ—¶é—´å—é™äºé˜µåˆ—ä¸­æœ€æ…¢çš„ä¸€å—ç›˜ã€‚å¦å¤–ï¼Œæ¯æ¬¡å†™å…¥é™¤äº†æ›´æ–°æ•°æ®ç›˜ä¸Šçš„å¯¹åº”å­—èŠ‚ï¼Œè¿˜éœ€è¦æ›´æ–°å¥‡å¶æ ¡éªŒç›˜ï¼Œä¼šé¢‘ç¹åœ°å¯¹æ ¡éªŒç›˜è¿›è¡Œæ“ä½œã€‚
å†—ä½™ä¸å®¹é”™ï¼šå¯å®¹å¿ 1 å—ç£ç›˜æ•…éšœï¼ˆæ•°æ®ç›˜æˆ–å¥‡å¶ç›˜ä»»æ„ä¸€å—ï¼‰ã€‚å½“ä»»ä¸€æ•°æ®ç›˜æŸåæ—¶ï¼Œå…¶ä¸Šæ•°æ®å¯ç”±å‰©ä½™æ‰€æœ‰æ•°æ®ç›˜å­—èŠ‚å¼‚æˆ–ç»“æœä¸æ ¡éªŒç›˜æ•°æ®è®¡ç®—æ¢å¤ï¼›å½“æ ¡éªŒç›˜æŸåæ—¶ï¼Œæ²¡æœ‰æ•°æ®å®é™…ä¸¢å¤±ï¼Œåªéœ€é‡å»ºæ–°çš„æ ¡éªŒç›˜å†…å®¹å³å¯ã€‚RAID 3 å‘ç”Ÿå•ç›˜æ•…éšœåé˜µåˆ—èƒ½ç»§ç»­å·¥ä½œï¼Œä½†æ‰€æœ‰ I&#x2F;O éƒ½ä¼šå—å½±å“ï¼Œå› ä¸ºç¼ºç›˜æ—¶æ¯æ¬¡è®¿é—®ä»éœ€è®¡ç®—æˆ–è·³è¿‡ç¼ºå¤±éƒ¨åˆ†çš„æ•°æ®ï¼Œæ€§èƒ½ä¸‹é™æ˜æ˜¾ã€‚æ›´æ¢ä¸Šæ–°ç›˜åï¼Œç³»ç»Ÿé€šè¿‡å‰©ä½™æ•°æ®è®¡ç®—é‡å»ºæ ¡éªŒæˆ–æ•°æ®å†…å®¹ï¼Œæ¢å¤åˆ°å†—ä½™ä¿æŠ¤çŠ¶æ€ã€‚
ä¼˜ç‚¹ï¼šé¡ºåºè¯»å†™æ€§èƒ½é«˜ï¼Œé€‚åˆå¤§å‹æµå¼æ•°æ®ä¼ è¾“ï¼›æä¾›åŸºæœ¬å®¹é”™èƒ½åŠ›ï¼ˆå•ç›˜ï¼‰ï¼›å®ç°åŸç†æ¯” RAID 2 ç®€å•ï¼ˆä»…ç”¨ XOR æ ¡éªŒï¼‰ï¼›ç£ç›˜åˆ©ç”¨ç‡ç›¸å¯¹å¯æ¥å—ï¼ˆæµªè´¹ä¸€ç›˜å®¹é‡ï¼‰ã€‚
ç¼ºç‚¹ï¼šéšæœº I&#x2F;O æ€§èƒ½ä½ï¼Œæ¯æ¬¡æ“ä½œéƒ½ç‰µæ¶‰æ‰€æœ‰ç£ç›˜ï¼›å­˜åœ¨å•ä¸€å¥‡å¶æ ¡éªŒç›˜ç“¶é¢ˆâ€”â€”æ ¡éªŒç›˜åœ¨æ¯æ¬¡å†™å…¥æ—¶éƒ½è¦æ›´æ–°ï¼Œæˆä¸ºå…¨é˜µåˆ—æœ€ç¹å¿™çš„ç›˜ï¼Œå¯èƒ½é™åˆ¶å†™æ€§èƒ½å¹¶åŠ é€Ÿè¯¥ç›˜ç£¨æŸï¼›åªèƒ½å®¹å¿å•ç›˜æ•…éšœï¼Œæ— æ³•åº”å¯¹åŒç›˜å¤±æ•ˆã€‚
å…¸å‹åº”ç”¨åœºæ™¯ï¼šRAID 3 é€‚åˆä»¥é¡ºåºè¯»å†™ä¸ºä¸»çš„åœºæ™¯ï¼Œå¦‚æµåª’ä½“æœåŠ¡å™¨ã€è§†é¢‘ç¼–è¾‘å’Œæ’­æ”¾ç³»ç»Ÿç­‰ï¼Œåœ¨è¿™ç±»åœºæ™¯ä¸‹éœ€è¦åŒæ—¶è¯»å–å¤§é‡è¿ç»­æ•°æ®ã€‚ä½†æ˜¯ç”±äºéšæœºæ€§èƒ½ä¸ä½³å’Œæ ¡éªŒç›˜ç“¶é¢ˆï¼ŒRAID 3 åœ¨é€šç”¨è®¡ç®—ç¯å¢ƒä¸­å¹¶ä¸å¸¸è§ï¼Œå·²è¢« RAID 5 ç­‰æ›´çµæ´»çš„æ–¹æ¡ˆå–ä»£ã€‚ç›®å‰å°‘æ•°ä¸“ç”¨å­˜å‚¨è®¾å¤‡æˆ–è€æ—§ç³»ç»Ÿå¯èƒ½å®ç° RAID 3ï¼Œä½†æ–°é¡¹ç›®ä¸­å‡ ä¹ä¸å†é€‰ç”¨ã€‚

RAID 4 â€“ ç‹¬ç«‹å—å¥‡å¶æ ¡éªŒï¼ˆDedicated Parity with Block Stripingï¼‰RAID 4 ä¸ RAID 3 ç±»ä¼¼ï¼Œä¹Ÿé‡‡ç”¨ä¸€ä¸ªä¸“é—¨çš„å¥‡å¶æ ¡éªŒç›˜ï¼Œä½†æ•°æ®ä¸æ˜¯æŒ‰å­—èŠ‚è€Œæ˜¯æŒ‰å—ï¼ˆBlockï¼‰è¿›è¡Œæ¡å¸¦åŒ–ã€‚è¿™æ„å‘³ç€æ¯ä¸ªç£ç›˜å¯ä»¥ç‹¬ç«‹å­˜å‚¨å®Œæ•´çš„æ•°æ®å—ï¼Œä¸åŒå—åˆ†æ•£åœ¨ä¸åŒç£ç›˜ä¸Šï¼ŒåŒæ—¶åœ¨ä¸€ä¸ªå›ºå®šç£ç›˜ä¸Šä¸ºå¯¹åº”æ¡å¸¦å­˜å‚¨å¥‡å¶æ ¡éªŒä¿¡æ¯ã€‚RAID 4 çš„å…³é”®åŒºåˆ«åœ¨äºå—çº§æ¡å¸¦å…è®¸æ¯æ¬¡ I&#x2F;O å®šä½å¹¶ä½œç”¨äºå•ä¸ªç£ç›˜ä¸Šçš„å®Œæ•´æ•°æ®å—ï¼Œä»è€Œæ”¹è¿›äº†å¹¶å‘æ€§èƒ½ã€‚

ç©ºé—´è®¡ç®—æ–¹å¼ï¼šRAID 4 è‡³å°‘éœ€è¦ 3 ç›˜ï¼ˆ2 æ•°æ® + 1 æ ¡éªŒï¼‰ã€‚å¯ç”¨å®¹é‡ä¸ RAID 3 ç›¸åŒï¼Œå³ &#x3D; (n-1)Ã— å•ç›˜å®¹é‡ã€‚ä¸€å—ç›˜çš„å®¹é‡ä¸“ç”¨äºå¥‡å¶æ ¡éªŒä¿¡æ¯ï¼Œå…¸å‹å®ç°ä¸­å„æ¡å¸¦çš„æ ¡éªŒå—éƒ½åœ¨è¿™åŒä¸€ç›˜ä¸Šã€‚
æ€§èƒ½ç‰¹æ€§ï¼šRAID 4 çš„è¯»å–æ€§èƒ½ç›¸å¯¹äº RAID 3 æœ‰æ˜¾è‘—æå‡ã€‚ç”±äºæ•°æ®æŒ‰å—å­˜å‚¨ï¼Œä¸åŒå—å¯èƒ½åœ¨ä¸åŒç£ç›˜ï¼Œå› æ­¤å¯¹ä¸åŒå—çš„è¯»å–å¯ä»¥ç”±ä¸åŒç£ç›˜ç‹¬ç«‹å®Œæˆâ€”â€”ä¾‹å¦‚å¤šä¸ªç”¨æˆ·å¹¶å‘è¯»å–ä¸åŒæ–‡ä»¶æ—¶ï¼ŒI&#x2F;O è¯·æ±‚å¯ä»¥åˆ†æ•£åˆ°å¤šä¸ªç›˜ï¼Œå„è‡ªå¹¶è¡ŒæœåŠ¡ï¼Œä»è€Œæé«˜å¹¶å‘ååé‡ã€‚è¿™ç§ç‹¬ç«‹ç£ç›˜è¯»èƒ½åŠ›æ˜¯ RAID 3 ä¸å…·å¤‡çš„ï¼ˆRAID 3 æ‰€æœ‰ I&#x2F;O éƒ½éœ€å…¨ç›˜å‚ä¸ï¼‰ã€‚é¡ºåºè¯»çš„æ€§èƒ½åœ¨ RAID 4 ä¸­ä¸ RAID 3 ç±»ä¼¼ï¼ˆå¤šç›˜å¹¶è¡Œï¼‰ï¼›éšæœºè¯»å› èƒ½å¤Ÿå•ç›˜å®Œæˆï¼Œæ€§èƒ½æ¥è¿‘å•ç›˜éšæœºè¯»ä¹˜ä»¥å¹¶å‘ç›˜æ•°ã€‚å†™å…¥æ€§èƒ½åˆ™ä»ç„¶å—åˆ°ä¸“ç”¨æ ¡éªŒç›˜çš„å½±å“ï¼šæ¯æ¬¡å†™å…¥ä¸€ä¸ªæ•°æ®å—ï¼Œéœ€è¦åŒæ—¶è®¿é—®æ ¡éªŒç›˜æ¥æ›´æ–°å¯¹åº”æ ¡éªŒå—ã€‚æµç¨‹é€šå¸¸ä¸ºâ€œè¯»å‡ºæ—§æ•°æ®å—å’Œå¯¹åº”æ—§æ ¡éªŒå— -&gt; ç”¨æ–°æ•°æ®è®¡ç®—æ–°çš„æ ¡éªŒå€¼ -&gt; å†™å…¥æ–°æ•°æ®å—å’Œæ–°æ ¡éªŒå—â€ï¼Œç”±æ­¤æ ¡éªŒç›˜çš„å†™æ“ä½œé¢‘ç‡æé«˜ã€‚ç»“æœæ˜¯å¥‡å¶ç›˜æˆä¸ºç“¶é¢ˆï¼Œé™åˆ¶å†™å…¥ååï¼Œå¹¶å¯¼è‡´è¯¥ç›˜è´Ÿè½½è¿œé«˜äºæ•°æ®ç›˜ã€‚
å†—ä½™ä¸å®¹é”™ï¼šå¯å®¹å¿å•ç›˜æ•…éšœï¼ˆä¸ RAID 3 ç›¸åŒï¼‰ã€‚æ•°æ®ç›˜æ•…éšœå¯é€šè¿‡ä½™ä¸‹æ‰€æœ‰æ•°æ®ç›˜å’Œæ ¡éªŒç›˜é‡ç®—æ¢å¤ï¼Œæ ¡éªŒç›˜æ•…éšœåˆ™åªéœ€é‡å»ºæ ¡éªŒä¿¡æ¯ã€‚å•ç›˜å¤±æ•ˆæœŸé—´ï¼Œé˜µåˆ—å¯ä»¥è¿è¡Œä½†æ€§èƒ½é™ä½ï¼Œéœ€è¦å¯¹æ¯æ¬¡ç›¸å…³è¯»è¯·æ±‚è¿›è¡Œé¢å¤–è®¡ç®—ã€‚é‡å»ºæ–°ç›˜è¿‡ç¨‹ä¸ RAID 3 ä¸€è‡´ï¼Œéœ€è¦éå†æ•´ä¸ªé˜µåˆ—è®¡ç®—ç¼ºå¤±ç›˜çš„æ•°æ®æˆ–æ ¡éªŒã€‚
ä¼˜ç‚¹ï¼šæ”¯æŒå¹¶è¡Œè¯»æ“ä½œï¼Œéšæœºè¯»å–æ€§èƒ½è¾ƒå¥½ï¼›ç®€å•æ˜“å®ç°ï¼ˆXOR æ ¡éªŒï¼‰ï¼›å®¹é‡åˆ©ç”¨ç‡ä¸ RAID 3 ç›¸åŒä½†æä¾›äº†æ›´é«˜è¯»å–å¹¶å‘åº¦ã€‚
ç¼ºç‚¹ï¼šå†™å…¥æ€§èƒ½å—é™äºæ ¡éªŒç›˜ç“¶é¢ˆï¼Œæ¯æ¬¡å†™æ“ä½œéƒ½æ¶‰åŠæ ¡éªŒç›˜æ›´æ–°ï¼›æ— æ³•å®¹å¿å¤šç›˜æ•…éšœï¼›åœ¨é«˜ IO å†™å…¥åœºæ™¯ä¸‹ï¼Œæ ¡éªŒç›˜å‹åŠ›å¤§æˆä¸ºå¯é æ€§çŸ­æ¿ã€‚
å…¸å‹åº”ç”¨åœºæ™¯ï¼šRAID 4 åœ¨çº¯è¯»å–å¯†é›†åœºæ™¯ä¸‹è¾ƒ RAID 3 æœ‰ä¼˜åŠ¿ï¼Œä½†å…¶å†™å…¥ç“¶é¢ˆä»¤å®é™…åº”ç”¨ä¸å¹¿æ³›ã€‚å†å²ä¸Š NetApp ç­‰å‚å•†åœ¨è‡ªç ”æ–‡ä»¶ç³»ç»Ÿä¸­æ›¾é‡‡ç”¨ RAID 4ï¼ˆå› ä¸ºä»–ä»¬æœ‰ NVRAM ç­‰æ‰‹æ®µç¼“è§£å†™å…¥ç“¶é¢ˆï¼‰ï¼Œä½†æ€»ä½“è€Œè¨€ï¼ŒRAID 4 å·²ç»è¢« RAID 5 æ‰€å–ä»£ã€‚ç°ä»£ç³»ç»Ÿå¾ˆå°‘ç›´æ¥é…ç½® RAID 4ï¼Œä¸€èˆ¬åªåœ¨è®¨è®º RAID åŸç†æˆ–å°‘æ•°é—ç•™ç³»ç»Ÿä¸­æåŠã€‚

RAID 5 â€“ åˆ†å¸ƒå¼å¥‡å¶æ ¡éªŒï¼ˆDistributed Parityï¼‰RAID 5 æ˜¯ç›®å‰åº”ç”¨æœ€å¹¿æ³›çš„ RAID çº§åˆ«ä¹‹ä¸€ã€‚å®ƒé‡‡ç”¨åˆ†å¸ƒå¼å¥‡å¶æ ¡éªŒæŠ€æœ¯ï¼Œå°†æ•°æ®æ¡å¸¦å’Œå¥‡å¶æ ¡éªŒæ¡å¸¦åˆ†å¸ƒåœ¨é˜µåˆ—ä¸­æ‰€æœ‰ç£ç›˜ä¸Šã€‚ç®€å•è¯´ï¼Œåœ¨ RAID 5 ä¸­ä¸å­˜åœ¨å›ºå®šçš„â€œæ ¡éªŒç›˜â€ç“¶é¢ˆï¼Œæ ¡éªŒä¿¡æ¯ï¼ˆParityï¼‰å’Œæ•°æ®ä¸€èµ·å‡åŒ€åœ°åˆ†å¸ƒåˆ°æ¯ä¸€å—ç£ç›˜ã€‚æ¯ä¸€æ¡å¸¦ï¼ˆStripeï¼‰å†…ï¼Œæœ‰ä¸€å—ç£ç›˜å­˜å‚¨è¯¥æ¡å¸¦çš„å¥‡å¶æ ¡éªŒå—ï¼Œå…¶ä½™ç£ç›˜å­˜å‚¨æ•°æ®å—ï¼Œè€Œä¸”å¥‡å¶å—çš„ä½ç½®åœ¨å„æ¡å¸¦é—´å¾ªç¯è½®æ¢ï¼Œä½¿æ¯å—ç£ç›˜ä¸Šæ—¢æœ‰æ•°æ®åˆæœ‰éƒ¨åˆ†æ¡å¸¦çš„æ ¡éªŒã€‚è¿™ç§è®¾è®¡é¿å…äº†æ¯æ¬¡å†™å…¥éƒ½é›†ä¸­æ›´æ–°åŒä¸€ç£ç›˜çš„æƒ…å†µï¼Œä»è€Œæ¶ˆé™¤äº† RAID 4 ä¸­æ ¡éªŒç›˜çš„æ€§èƒ½ç“¶é¢ˆã€‚

ç©ºé—´è®¡ç®—æ–¹å¼ï¼šRAID 5 è‡³å°‘éœ€è¦ 3 å—ç£ç›˜ã€‚å¯ç”¨å®¹é‡ &#x3D; (æ€»ç£ç›˜æ•° - 1) Ã— æœ€å°å•ç›˜å®¹é‡ã€‚æ¢è¨€ä¹‹ï¼Œç›¸å½“äºæµªè´¹äº†ä¸€å—ç›˜çš„å®¹é‡ç”¨äºå­˜å‚¨åˆ†å¸ƒåœ¨å„ç›˜çš„å¥‡å¶æ ¡éªŒä¿¡æ¯ã€‚ä¾‹å¦‚ 4 ç›˜ RAID 5ï¼Œå¯ç”¨å®¹é‡çº¦ä¸º 3 ç›˜ä¹‹å’Œï¼ˆ75%åˆ©ç”¨ç‡ï¼‰ï¼›8 ç›˜ RAID 5 åˆ™å¯ç”¨å®¹é‡çº¦ä¸º 7 ç›˜ä¹‹å’Œï¼ˆ87.5%åˆ©ç”¨ç‡ï¼‰ã€‚å„ç›˜å®¹é‡ä¸åŒæ—¶æŒ‰æœ€å°ç›˜å®¹é‡è®¡ç®—æ€»å®¹é‡ã€‚æ ¡éªŒå¼€é”€å›ºå®šä¸ºä¸€ç›˜å®¹é‡ï¼Œå› æ­¤éšç€ç£ç›˜æ•°é‡å¢åŠ ï¼Œç©ºé—´åˆ©ç”¨ç‡è¶Šé«˜ï¼ˆæ¥è¿‘ 100% ä½†æ°¸è¿œå°‘ä¸€ç›˜å®¹é‡ï¼‰ã€‚
æ€§èƒ½ç‰¹æ€§ï¼šRAID 5 æä¾›äº†å‡è¡¡çš„è¯»å†™æ€§èƒ½å’Œå†—ä½™ä¿æŠ¤ï¼Œæ˜¯ä¸€ç§å…¼é¡¾å­˜å‚¨æ€§èƒ½ä¸æˆæœ¬çš„æŠ˜è¡·æ–¹æ¡ˆã€‚
è¯»å–æ€§èƒ½ï¼šå› ä¸ºæ•°æ®æ¡å¸¦åˆ†å¸ƒåœ¨ (n-1) å—ç›˜ä¸Šï¼ˆæ¯æ¡å¸¦æœ‰ä¸€ç›˜æ˜¯æ ¡éªŒæ— å®é™…æ•°æ®ï¼‰ï¼Œé¡ºåºè¯»å–æ—¶å‡ ä¹ç›¸å½“äºå¹¶è¡Œè¯»å– (n-1) å—ç£ç›˜çš„æ•°æ®ï¼Œè¯»å–ååé‡æ¥è¿‘ RAID 0ï¼ˆåªæ¯” RAID 0 å°‘ç”¨äº†å­˜å‚¨å¥‡å¶çš„é‚£éƒ¨åˆ†å¸¦å®½ï¼‰ã€‚éšæœºè¯»ä¹Ÿèƒ½ä»ä¸åŒç›˜å¹¶è¡Œè·å–æ•°æ®ï¼Œæ€§èƒ½é€šå¸¸è‰¯å¥½ã€‚
å†™å…¥æ€§èƒ½ï¼šå†™å…¥æ—¶ç”±äºéœ€è¦æ›´æ–°å¥‡å¶æ ¡éªŒï¼Œæœ‰ä¸€å®šå¼€é”€ã€‚å¯¹ä¸€ä¸ªæ•°æ®å—çš„å†™å…¥ï¼ŒRAID 5 æ§åˆ¶å™¨é€šå¸¸éœ€è¦è¯»å–ç›¸å…³æ¡å¸¦ä¸Šæ—§çš„æ•°æ®å’Œæ—§çš„æ ¡éªŒå—ï¼Œè®¡ç®—å‡ºæ–°çš„æ ¡éªŒï¼Œç„¶åå†™å…¥æ–°æ•°æ®å’Œæ–°æ ¡éªŒï¼ˆç§°ä¸ºâ€œè¯» - æ”¹ - å†™â€æ“ä½œï¼‰ã€‚å› æ­¤å°å—éšæœºå†™å…¥çš„ IOPS æ€§èƒ½ç›¸æ¯”å•ç›˜ä¼šæœ‰æ‰€ä¸‹é™ã€‚ä¸è¿‡ï¼Œå¯¹äºå¤§å—é¡ºåºå†™å…¥ï¼ˆå¦‚æ•´æ¡å¸¦å†™æ»¡ï¼‰ï¼Œå¯ä»¥ä¸€æ¬¡æ€§è®¡ç®—æ•´ä¸ªæ¡å¸¦çš„æ–°æ ¡éªŒå¹¶å†™å…¥ï¼Œæ•ˆç‡è¾ƒé«˜ã€‚åœ¨æœ‰å†™ç¼“å­˜ï¼ˆå¦‚ç¡¬ä»¶ RAID å¡å¼€å¯å†™å›ç¼“å­˜ï¼‰çš„æƒ…å†µä¸‹ï¼ŒRAID 5 çš„å°å†™å…¥æ€§èƒ½ä¹Ÿå¯æ˜¾è‘—æ”¹å–„ã€‚æ€»ä½“æ¥è¯´ï¼ŒRAID 5 çš„å†™æ€§èƒ½ç•¥ä½äº RAID 0ï¼Œä½†é€šå¸¸å¯è¾¾å•ç›˜æ€§èƒ½çš„æ•°å % ä»¥ä¸Šï¼Œè¯»æ€§èƒ½æ¥è¿‘ RAID 0 æ°´å¹³ã€‚


å†—ä½™ä¸å®¹é”™ï¼šå¯å®¹å¿ 1 å—ç£ç›˜æ•…éšœã€‚å½“é˜µåˆ—ä¸­æŸä¸€ç›˜å¤±æ•ˆæ—¶ï¼Œå…¶ä¸Šçš„æ•°æ®å¯ç”±å‰©ä½™æ‰€æœ‰æ•°æ®å—å’Œå¯¹åº”çš„å¥‡å¶æ ¡éªŒå—è®¡ç®—é‡å»ºã€‚ä¾‹å¦‚ï¼Œå¯¹äºä»»æ„ä¸€æ¡å¸¦ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªæ•°æ®å—ä¸¢å¤±ï¼Œæ§åˆ¶å™¨ä¼šä»è¯¥æ¡å¸¦çš„å…¶ä»–æ•°æ®å—å’Œå¥‡å¶å—å¼‚æˆ–è¿ç®—æ¢å¤ä¸¢å¤±æ•°æ®ã€‚é˜µåˆ—åœ¨å•ç›˜æ•…éšœæ—¶ä»å¯å·¥ä½œï¼Œä½†ä¼šè¿›å…¥â€œé™çº§æ¨¡å¼â€ï¼šæ¯æ¬¡è¯»å–ç¼ºå¤±ç›˜çš„æ•°æ®éƒ½éœ€è¦åŠ¨æ€è®¡ç®—ï¼ˆå½±å“æ€§èƒ½ï¼‰ï¼Œå†™å…¥ä¹Ÿéœ€æ›´æ–°é¢å¤–æ ¡éªŒã€‚ä¸€èˆ¬ä¼šå°½å¿«æ›´æ¢æ•…éšœç›˜ï¼›æ–°ç›˜åŠ å…¥åï¼ŒRAID æ§åˆ¶å™¨ä¼šæ ¹æ®å…¶ä½™ç›˜çš„æ•°æ®å’Œæ ¡éªŒä¿¡æ¯è‡ªåŠ¨é‡å»ºå¤±å»çš„æ•°æ®åˆ°æ–°ç›˜ä¸Šã€‚é‡å»ºæœŸé—´ç£ç›˜è´Ÿè½½å¾ˆé«˜ï¼Œéœ€è¦è¯»å–æ‰€æœ‰å…¶ä½™ç›˜çš„æ•°æ®ï¼Œé˜µåˆ—æ€§èƒ½ä¼šå—å½±å“ä¸”åœ¨æ­¤çª—å£å¦‚æœå†æœ‰ç¬¬äºŒå—ç›˜æ•…éšœå°†å¯¼è‡´æ•°æ®ä¸å¯æ¢å¤ã€‚
ä¼˜ç‚¹ï¼šå­˜å‚¨ç©ºé—´åˆ©ç”¨ç‡é«˜ï¼Œå†—ä½™æˆæœ¬ä½ï¼ˆä»…æŸå¤±ä¸€ç›˜å®¹é‡å°±è·å¾—å®¹é”™èƒ½åŠ›ï¼‰ï¼›è¯»å–æ€§èƒ½æ¥è¿‘æ— å†—ä½™çš„æ¡å¸¦åŒ–æ–¹æ¡ˆï¼›èƒ½å¤Ÿå®¹å¿å•ç›˜å¤±æ•ˆï¼Œæä¾›åŸºæœ¬çš„æ•°æ®å®‰å…¨ä¿éšœï¼›é€‚ç”¨äºå¤šç§åº”ç”¨ï¼Œæ€§ä»·æ¯”çªå‡ºã€‚
ç¼ºç‚¹ï¼šåªå…è®¸å•ç›˜æ•…éšœï¼Œè‹¥å‡ºç°åŒç›˜åŒæ—¶æ•…éšœåˆ™æ•°æ®å…¨éƒ¨ä¸¢å¤±ï¼›å°éšæœºå†™æ€§èƒ½è¾ƒå·®ï¼ˆæœ‰å¥‡å¶æ ¡éªŒè®¡ç®—å’Œè¯»æ”¹å†™å¼€é”€ï¼‰ï¼Œä¸é€‚åˆæé«˜å†™å…¥ IOPS éœ€æ±‚çš„åœºæ™¯ï¼›é‡å»ºè¿‡ç¨‹è€—æ—¶ä¸”å¯¹å­˜å‚¨ç³»ç»Ÿæ˜¯é«˜å‹æ“ä½œï¼Œå¤§å®¹é‡ç›˜åœ¨ RAID 5 ä¸­é‡å»ºå¯èƒ½éœ€è¦æ•°å°æ—¶åˆ°æ•°åå°æ—¶ï¼Œåœ¨æ­¤æœŸé—´è‹¥å†å‘ç”Ÿæ•…éšœé£é™©å¾ˆé«˜ã€‚
å…¸å‹åº”ç”¨åœºæ™¯ï¼šRAID 5 å¹¿æ³›ç”¨äºéœ€è¦å¹³è¡¡æ€§èƒ½ã€å®¹é‡å’Œå¯é æ€§çš„åœºåˆã€‚ä¾‹å¦‚ä¸­å°ä¼ä¸šçš„æ–‡ä»¶æœåŠ¡å™¨ã€æ•°æ®åº“æœåŠ¡å™¨ï¼ˆè¯»å¤šå†™å°‘çš„è´Ÿè½½ï¼‰ã€è™šæ‹ŸåŒ–å­˜å‚¨ã€å¤‡ä»½å­˜å‚¨ç­‰ã€‚è®¸å¤š NAS è®¾å¤‡æ”¯æŒ RAID 5ï¼Œä¹Ÿæ˜¯å®¶åº­ç”¨æˆ·åœ¨æœ‰ 3 å—ä»¥ä¸Šç¡¬ç›˜æ—¶ç»å¸¸é€‰æ‹©çš„æ¨¡å¼ã€‚åœ¨äº‘æœåŠ¡å’Œä¼ä¸šå­˜å‚¨ä¸­ï¼ŒRAID 5 å¸¸ç”¨äºå¯¹æ€§èƒ½è¦æ±‚ä¸­ç­‰ä¸”å¸Œæœ›èŠ‚çº¦æˆæœ¬çš„å­˜å‚¨æ± ã€‚ä¸è¿‡éšç€ç¡¬ç›˜å®¹é‡å¢å¤§ã€é‡å»ºæ—¶é—´å¢é•¿ï¼Œåœ¨è¦æ±‚æ›´é«˜å¯é æ€§çš„åœºæ™¯ä¸‹ï¼ŒRAID 6 æ­£é€æ¸å–ä»£ RAID 5 çš„ä½ç½®ã€‚

RAID 6 â€“ åŒé‡å¥‡å¶æ ¡éªŒï¼ˆDouble Distributed Parityï¼‰RAID 6 è¿›ä¸€æ­¥å¢å¼ºäº† RAID 5ï¼Œé€šè¿‡å­˜å‚¨ä¸¤å¥—ç‹¬ç«‹çš„å¥‡å¶æ ¡éªŒä¿¡æ¯æ¥æä¾›æ›´é«˜çš„æ•°æ®ä¿æŠ¤èƒ½åŠ›ã€‚ç®€å•æ¥è¯´ï¼ŒRAID 6 åœ¨æ¯ä¸ªæ¡å¸¦ä¸­æœ‰ä¸¤ä¸ªä¸åŒçš„æ ¡éªŒå—ï¼ˆä¾‹å¦‚å¸¸ç”¨ P+Q åŒæ ¡éªŒï¼Œå…¶ä¸­ P å¯ä»¥ç†è§£ä¸ºç±»ä¼¼ RAID 5 çš„å¼‚æˆ–æ ¡éªŒï¼ŒQ ä¸ºåŸºäºé«˜çº§ç®—æ³•å¦‚é‡Œå¾· - æ‰€ç½—é—¨ç¼–ç çš„ç¬¬äºŒæ ¡éªŒï¼‰ã€‚è¿™ä½¿å¾— RAID 6 å³ä½¿åŒæ—¶æœ‰ä¸¤å—ç£ç›˜æŸåï¼Œä»å¯åˆ©ç”¨å‰©ä½™æ•°æ®å’Œä¸¤å¥—æ ¡éªŒä¿¡æ¯å®Œæ•´æ¢å¤æ•°æ®ã€‚

ç©ºé—´è®¡ç®—æ–¹å¼ï¼šRAID 6 è‡³å°‘éœ€è¦ 4 å—ç£ç›˜ã€‚å¯ç”¨å®¹é‡ &#x3D; (æ€»ç£ç›˜æ•° - 2) Ã— æœ€å°å•ç›˜å®¹é‡ã€‚ä¹Ÿå°±æ˜¯ç›¸å½“äºæœ‰ä¸¤å—ç›˜çš„å®¹é‡ç”¨äºå­˜å‚¨æ ¡éªŒä¿¡æ¯ï¼ˆåˆ†å¸ƒåœ¨æ‰€æœ‰ç›˜ä¸Šï¼‰ã€‚ä¾‹å¦‚ï¼Œ6 ç›˜ RAID 6 çš„å¯ç”¨å®¹é‡ä¸º 4 ç›˜ä¹‹å’Œï¼ˆæŸå¤± 2 ç›˜å®¹é‡ç”¨äºå†—ä½™ï¼Œåˆ©ç”¨ç‡ â‰ˆ 66.7%ï¼‰ï¼›10 ç›˜ RAID 6 åˆ™å¯ç”¨ 8 ç›˜å®¹é‡ï¼ˆåˆ©ç”¨ç‡ 80%ï¼‰ã€‚ç›¸è¾ƒ RAID 5ï¼ŒRAID 6 å¢åŠ äº†ä¸€ä»½æ ¡éªŒå†—ä½™ï¼Œå› æ­¤åœ¨ç›¸åŒç£ç›˜æ•°é‡ä¸‹æ€»å¯ç”¨ç©ºé—´ç•¥å°‘ã€‚
æ€§èƒ½ç‰¹æ€§ï¼šRAID 6 çš„è¯»å–æ€§èƒ½ä¸ RAID 5 ç±»ä¼¼ï¼Œè¯»å–æ—¶ä¸»è¦è®¿é—®æ•°æ®ç›˜ï¼Œä¸¤ä¸ªæ ¡éªŒç›˜ä½é€šå¸¸ä¸å‚ä¸æ­£å¸¸è¯»å–ï¼ˆé™¤éåšæ•°æ®æ ¡éªŒæˆ–å‘ç”Ÿæ•…éšœæ—¶é‡æ„ï¼‰ï¼Œå› æ­¤é¡ºåºè¯»ååé‡çº¦ç­‰äº (n-2) å—ç›˜å¹¶è¡Œï¼Œæ¥è¿‘ RAID 0 æ€§èƒ½ï¼›éšæœºè¯»ä¹Ÿèƒ½å¹¶è¡Œå¤„ç†å¤šä¸ªè¯·æ±‚ï¼Œæ€§èƒ½è‰¯å¥½ã€‚å†™å…¥æ€§èƒ½ç›¸å¯¹ RAID 5 è¿›ä¸€æ­¥ä¸‹é™ä¸€äº›ï¼Œå› ä¸ºæ¯æ¬¡å†™å…¥éœ€è¦è®¡ç®—å’Œæ›´æ–°ä¸¤ç§æ ¡éªŒã€‚å†™å…¥ä¸€ä¸ªæ•°æ®å—å¯èƒ½æ¶‰åŠè¯»å–æ—§æ•°æ®åŠä¸¤ä»½æ—§æ ¡éªŒã€è®¡ç®—ä¸¤ä»½æ–°æ ¡éªŒï¼Œå†å†™å…¥æ–°æ•°æ®å’Œæ–°æ ¡éªŒå…±ä¸‰ä¸ªç›˜çš„å†™æ“ä½œï¼ˆè¢«ç§°ä¸ºâ€œè¯» - æ”¹ - å†™â€å¼€é”€ï¼‰ã€‚å› æ­¤ RAID 6 çš„å°å—å†™å…¥æœ‰æ›´é«˜çš„ I&#x2F;O å’Œè®¡ç®—å¼€é”€ï¼ˆå†™å…¥ä»£ä»·æ¯” RAID 5 æ›´å¤§ï¼‰ã€‚åœ¨æ²¡æœ‰ç¡¬ä»¶åŠ é€Ÿçš„æƒ…å†µä¸‹ï¼ŒRAID 6 çš„å†™æ€§èƒ½å¯¹ CPU å’Œæ€»çº¿è´Ÿè·è¦æ±‚æ›´é«˜ï¼Œé€šå¸¸æ›´é€‚åˆç”±ç¡¬ä»¶ RAID å¡å®ç°ã€‚å¦‚æœæœ‰é«˜æ•ˆçš„ RAID å¡æˆ–å¯ç”¨å†™ç¼“å­˜ï¼ŒRAID 6 çš„å†™æ€§èƒ½å¯è¢«ä¼˜åŒ–åˆ°æ¥è¿‘ RAID 5 æ°´å¹³ã€‚
å†—ä½™ä¸å®¹é”™ï¼šå¯å®¹å¿ä»»æ„ä¸¤å—ç£ç›˜åŒæ—¶æ•…éšœã€‚è¿™æ˜¯ RAID 6 æœ€å¤§çš„ä¼˜åŠ¿ã€‚å½“ä¸€å—ç›˜æŸåæ—¶ï¼ŒRAID 6 ä¸ RAID 5 ç±»ä¼¼ï¼Œå¯é€šè¿‡å‰©ä½™æ•°æ® + ä¸¤æ ¡éªŒä¹‹ä¸­çš„ä¸€ä»½æ¥é‡å»ºæ•°æ®ï¼›å½“åœ¨é‡å»ºå°šæœªå®ŒæˆæœŸé—´åˆæœ‰ç¬¬äºŒå—ç›˜æŸåï¼Œå‰©ä½™çš„æ•°æ®åŠ ä¸¤ä»½æ ¡éªŒä»ç„¶è¶³ä»¥æ¢å¤è¿™ä¸¤å—æŸåç›˜çš„æ•°æ®ã€‚åªæœ‰å½“åŒæ—¶è¶…è¿‡ä¸¤å—ç£ç›˜æŸåï¼ˆä¾‹å¦‚ç¬¬ä¸‰å—ç›˜åœ¨å‰ä¸¤å—æœªæ¢å¤å‰æŸåï¼‰æ—¶ï¼Œé˜µåˆ—æ‰ä¼šå´©æºƒä¸¢å¤±æ•°æ®ã€‚RAID 6 å¤§å¤§é™ä½äº†åœ¨å¤§å®¹é‡é˜µåˆ—ä¸­é‡å»ºè¿‡ç¨‹ä¸­å†æ¬¡å‘ç”Ÿç›˜æŸåè€Œå¯¼è‡´æ•°æ®å½»åº•ä¸¢å¤±çš„é£é™©ã€‚æ›´æ¢åç›˜åï¼Œç³»ç»Ÿä¼šåˆ©ç”¨å‰©ä½™ç›˜ä¸Šçš„æ•°æ®å’ŒåŒæ ¡éªŒé‡æ–°è®¡ç®—å¹¶å†™å…¥æ–°ç›˜ï¼Œé‡å»ºè¿‡ç¨‹è¾ƒ RAID 5 æ›´è€—æ—¶ä¸€äº›ï¼ˆå› ä¸ºè®¡ç®—æ›´å¤æ‚ã€å†™å…¥æ›´å¤šï¼‰ã€‚ä½†æ€»ä½“é‡å»ºæµç¨‹ä¸ RAID 5 ç±»ä¼¼ï¼Œåªæ˜¯éœ€è¦å¤„ç†ä¸¤å¥—æ ¡éªŒã€‚
ä¼˜ç‚¹ï¼šæä¾›æ¯” RAID 5 æ›´é«˜çš„å®‰å…¨æ€§ï¼Œå¯è€å—åŒç›˜å¤±æ•ˆï¼Œé€‚åˆå¯¹æ•°æ®å¯é æ€§è¦æ±‚é«˜çš„åº”ç”¨ï¼›è¯»å–æ€§èƒ½ä¾ç„¶æ¥è¿‘ RAID 0ï¼›å®¹é‡åˆ©ç”¨ç‡åœ¨é˜µåˆ—è¾ƒå¤§æ—¶ä¾ç„¶å¯è§‚ï¼ˆä¾‹å¦‚ 10 ç›˜é˜µåˆ—æœ‰ 80% å®¹é‡å¯ç”¨ï¼Œæ¯”é•œåƒæ–¹æ¡ˆæ•ˆç‡é«˜å¾—å¤šï¼‰ã€‚
ç¼ºç‚¹ï¼šå®ç°å’Œè®¡ç®—å¤æ‚åº¦æ›´é«˜ï¼Œå°å†™å…¥æ€§èƒ½è¾ƒå¼±ï¼ˆåŒæ ¡éªŒæ›´æ–°å¸¦æ¥æ›´å¤§å†™å…¥æƒ©ç½šï¼‰ï¼›éœ€è¦è‡³å°‘ 4 ç›˜èµ·æ­¥ï¼Œçµæ´»æ€§ç•¥å·®ï¼›é‡å»ºæ—¶é—´æ›´é•¿ã€‚åŒæ—¶ï¼ŒRAID 6 å¯¹ç¡¬ä»¶è¦æ±‚è¾ƒé«˜ï¼Œä¸€èˆ¬éœ€è¦ä¸“ç”¨ RAID å¡æˆ–å¼ºå¤§çš„ CPU æ¥é¿å…æ€§èƒ½ç“¶é¢ˆã€‚
å…¸å‹åº”ç”¨åœºæ™¯ï¼šRAID 6 å¸¸ç”¨äºä¸­å¤§å‹å­˜å‚¨é˜µåˆ—ä¸­ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦å¤§å®¹é‡ä¸”å¼ºè°ƒé«˜å¯é æ€§çš„åœºæ™¯ï¼Œå¦‚ä¼ä¸šçº§å­˜å‚¨ç³»ç»Ÿã€æ–‡ä»¶æœåŠ¡å™¨ã€å¤‡ä»½å’Œå½’æ¡£ç³»ç»Ÿã€å¤§å‹ NAS&#x2F;SAN é˜µåˆ—ç­‰ã€‚å½“å•é˜µåˆ—ä¸­ç£ç›˜æ•°é‡è¾ƒå¤šæˆ–ä½¿ç”¨äº†å¤§å®¹é‡ç£ç›˜æ—¶ï¼ŒRAID 6 æ˜¯æ¯” RAID 5 æ›´å®‰å…¨çš„é€‰æ‹©ï¼Œå› ä¸ºåŒç›˜å¤±æ•ˆçš„æ¦‚ç‡åœ¨é•¿æ—¶é—´é‡å»ºä¸­ä¸å¯å¿½è§†ã€‚è®¸å¤šç¡¬ä»¶ RAID æ§åˆ¶å™¨å¹¿æ³›æ”¯æŒ RAID 6ï¼Œç°ä»£å­˜å‚¨æ–¹æ¡ˆï¼ˆå¦‚åˆ†å¸ƒå¼å­˜å‚¨é‡Œçš„æ•°æ®ä¿æŠ¤ï¼‰ä¹Ÿå€Ÿé‰´äº†åŒå†—ä½™æ ¡éªŒçš„æ€æƒ³ã€‚

RAID 0+1 ï¼ˆRAID 01ï¼‰â€“ å…ˆæ¡å¸¦åé•œåƒçš„ç»„åˆRAID 0+1ï¼ˆå¸¸ç§° RAID 01ï¼‰æ˜¯ RAID 0 å’Œ RAID 1 çš„åµŒå¥—ç»„åˆï¼Œå®ç°ä¸Šå…ˆè¿›è¡Œæ¡å¸¦åŒ–ï¼ˆRAID 0ï¼‰ï¼Œå†å¯¹æ¡å¸¦åŒ–ç»“æœåšé•œåƒï¼ˆRAID 1ï¼‰ã€‚å‡è®¾æœ‰ 6 å—ç›˜æ„æˆ RAID 01ï¼Œé¦–å…ˆå°†æ•°æ®åœ¨ 3 å—ç›˜ä¸Šæ¡å¸¦å­˜å‚¨ï¼ˆRAID 0 è·å¾—é«˜æ€§èƒ½å’Œå®¹é‡ï¼‰ï¼Œç„¶åä½¿ç”¨å¦å¤– 3 å—ç›˜é•œåƒè¿™ 3 å—æ•°æ®ç›˜ï¼ˆæä¾›å†—ä½™ï¼‰ã€‚æ¢è¨€ä¹‹ï¼ŒRAID 01 æŠŠæ‰€æœ‰ç£ç›˜åˆ†æˆä¸¤ç»„ï¼Œå„è‡ªå…ˆåš RAID 0ï¼Œç„¶åä¸¤ç»„ä¹‹é—´å†åš RAID 1 ä½œä¸ºé•œåƒå‰¯æœ¬ã€‚

ç©ºé—´è®¡ç®—æ–¹å¼ï¼šRAID 01 çš„å¯ç”¨å®¹é‡ç­‰äºé˜µåˆ—ä¸­ä¸€åŠç£ç›˜å®¹é‡ä¹‹å’Œï¼ˆå› ä¸ºå¦ä¸€åŠç”¨äºé•œåƒï¼‰ã€‚æ¯”å¦‚ 6 ç›˜ RAID 01ï¼Œç”±äºä¸€åŠåšæ¡å¸¦æ•°æ®ç›˜ï¼Œä¸€åŠåšé•œåƒç›˜ï¼Œå¯ç”¨å®¹é‡ä¸º 3 ç›˜å®¹é‡æ€»å’Œï¼ˆåˆ©ç”¨ç‡ 50%ï¼‰ã€‚æ€»ä½“å®¹é‡åˆ©ç”¨ç‡ä¸ RAID 10 ç±»ä¼¼ï¼Œå‡æ˜¯ 50%ï¼ˆå½“ä½¿ç”¨å¯¹ç§°åˆ†ç»„æ—¶ï¼‰ã€‚
æ€§èƒ½ç‰¹æ€§ï¼šRAID 01 æ­£å¸¸æƒ…å†µä¸‹çš„æ€§èƒ½ä¸ RAID 0+RAID 1 ç±»ä¼¼ï¼šè¯»å–å¯ä»¥åˆ©ç”¨é•œåƒçš„å¹¶è¡Œï¼Œç†è®ºä¸Šæœ‰ä¸€å®šæå‡ï¼›å†™å…¥éœ€è¦å°†æ¡å¸¦åŒ–çš„æ•°æ®å†™åˆ°ä¸¤ä¸ªé•œåƒç»„ä¸­ï¼Œå†™æ€§èƒ½ç•¥ä½äºåŒç­‰ RAID 0ï¼Œä½†ä»ä¿æŒè¾ƒé«˜æ°´å¹³ã€‚é¡ºåºè¯»å†™æ€§èƒ½åŸºæœ¬æ¥è¿‘ RAID 0ï¼Œéšæœºè¯»åœ¨å¤šçº¿ç¨‹åœºæ™¯ä¸‹å¯æœ‰æ‰€æå‡ï¼Œéšæœºå†™ç”±äºé•œåƒéœ€è¦åŒå†™å…¥ï¼Œæ€§èƒ½ä¸ RAID 10 ç›¸è¿‘ã€‚æ€»çš„æ¥è¯´ï¼ŒRAID 01 åœ¨æ— æ•…éšœæ—¶æ€§èƒ½ä¸ RAID 10 ç›¸å·®ä¸å¤§ï¼Œå±äºé«˜æ€§èƒ½é˜µåˆ—ã€‚
å†—ä½™ä¸å®¹é”™ï¼šå¯å®¹å¿è‡³å°‘ä¸€å—ç£ç›˜æ•…éšœï¼Œä½†å®¹é”™æœºåˆ¶è¾ƒå¾®å¦™ï¼šå½“ RAID 01 ä¸­ä¸€å—ç£ç›˜æŸåæ—¶ï¼Œè¯¥ç›˜æ‰€åœ¨çš„ RAID 0 ç»„æ•´ä½“å¤±æ•ˆï¼Œå› ä¸º RAID 0 æ— å†—ä½™ã€‚æ­¤æ—¶æ•´ä¸ªé˜µåˆ—é€€åŒ–ä¸ºå¦ä¸€ç»„ RAID 0ï¼ˆå³åªæœ‰é•œåƒçš„å¦ä¸€åŠè¿˜åœ¨ï¼‰ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œ6 ç›˜ RAID 01ï¼ˆä¸¤ç»„ RAID 0ï¼Œæ¯ç»„ 3 ç›˜ï¼‰ä¸­ï¼Œä»»æ„ä¸€ç›˜åï¼Œä¼šå¯¼è‡´è¯¥ç›˜æ‰€åœ¨çš„æ•´ä¸ª RAID 0 ç»„çš„æ•°æ®ä¸å¯ç”¨ï¼Œç›¸å½“äºä¸€ä¸‹æŸå¤±äº†è¯¥ç»„çš„ 3 ç›˜æ•°æ®ï¼Œä½†ç”±äºæœ‰é•œåƒï¼Œå¦ä¸€ 3 ç›˜ç»„è¿˜æœ‰ä¸€ä»½å®Œæ•´çš„æ•°æ®ï¼Œå¯ç»§ç»­æä¾›æœåŠ¡ã€‚ç„¶è€Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé˜µåˆ—å˜ä¸ºæ— å†—ä½™çŠ¶æ€ï¼ˆåªå‰©ä¸‹ä¸€ä¸ª RAID 0 åœ¨è¿è¡Œï¼‰ã€‚å¦‚æœå†æŸåä»»ä½•ä¸€å—ç›˜ï¼ˆä¸è®ºåœ¨å“ªç»„ï¼Œå› ä¸ºä¸€ç»„å·²ç»å…¨å¤±æ•ˆï¼Œå¦ä¸€ç»„ä»»ä½•ç›˜åéƒ½ç›´æ¥ä»¤é˜µåˆ—å´©æºƒï¼‰ï¼Œåˆ™é˜µåˆ—æ•°æ®å½»åº•ä¸¢å¤±ã€‚å› æ­¤ RAID 01 åœ¨ç¬¬ä¸€æ¬¡æ•…éšœåå˜å¾—éå¸¸è„†å¼±ï¼Œåªèƒ½å®¹å¿ä»»æ„ä¸€ç»„ä¸­çš„å•ç›˜æ•…éšœã€‚å¦‚æœæ°å·§ç¬¬ä¸€ç»„æœ‰ç›˜åäº†ï¼Œç¬¬äºŒç»„ç»ä¸èƒ½å†åã€‚æ€»æ•…éšœå®¹å¿åº¦ç­‰ä»·äºåªèƒ½æ‰¿å—ä¸€æ¬¡å•ç»„æ•…éšœã€‚
ä¼˜ç‚¹ï¼šåœ¨æ— æ•…éšœæ—¶æä¾›äº†ä¸ RAID 10 æ¥è¿‘çš„é«˜æ€§èƒ½å’Œé«˜ååé‡ï¼›å®ç°å’Œç†è§£ç›¸å¯¹ç®€å•ï¼ˆå°±æ˜¯ 0 å’Œ 1 ä¸¤çº§åµŒå¥—ï¼‰ã€‚
ç¼ºç‚¹ï¼šå®¹é”™èƒ½åŠ›è¾ƒå·®ï¼Œç›¸æ¯” RAID 10 æ›´å®¹æ˜“åœ¨å¤šç›˜æ•…éšœæ—¶å¤±æ•ˆã€‚ä¸€æ¬¡æ•…éšœåæ•´ä¸ªé˜µåˆ—ç«‹å³é™ä¸º RAID 0 çŠ¶æ€ï¼Œå¤±å»å†—ä½™ä¿æŠ¤ï¼›ç£ç›˜åˆ©ç”¨ç‡ä½ï¼ˆ50%ï¼‰ï¼›éœ€è¦è¾ƒå¤šç£ç›˜æ•°ï¼ˆè‡³å°‘ 4 ä¸ªï¼‰æ‰èƒ½å®ç°ã€‚
å…¸å‹åº”ç”¨åœºæ™¯ï¼šç”±äº RAID 01 åœ¨æ•…éšœåçš„å®‰å…¨æ€§ä¸ä½³ï¼Œå®é™…åº”ç”¨ä¸­å¾ˆå°‘ç›´æ¥é‡‡ç”¨ RAID 0+1ã€‚ä¸€èˆ¬åªæœ‰åœ¨æŸäº›å¯¹æ€§èƒ½è¦æ±‚æé«˜ä¸”å·²å¦æœ‰å¤‡ä»½çš„æ•°æ®åœºæ™¯ä¸‹æ‰å¯èƒ½ä½¿ç”¨ï¼ˆä¾‹å¦‚å°†ä¸¤ä¸ªå·²æœ‰ RAID 0 å·åšé•œåƒä»¥æé«˜å¯ç”¨æ€§ï¼‰ï¼Œä½†æ›´å¤šæƒ…å†µä¸‹äººä»¬ä¼šé€‰æ‹© RAID 10 ä½œä¸ºæ›¿ä»£ï¼Œå› ä¸º RAID 10 æä¾›æ›´å¥½çš„å®¹é”™ã€‚æ€»çš„æ¥è¯´ï¼ŒRAID 01 ä½œä¸ºç†è®ºå­˜åœ¨å¤šäºå®è·µåº”ç”¨ã€‚

RAID 1+0 ï¼ˆRAID 10ï¼‰ â€“ å…ˆé•œåƒåæ¡å¸¦çš„ç»„åˆRAID 10ï¼ˆåˆç§° RAID 1+0ï¼‰æ˜¯æœ€å¸¸ç”¨çš„åµŒå¥— RAID ä¹‹ä¸€ï¼Œå®ƒé€šè¿‡å…ˆåšé•œåƒã€å†åšæ¡å¸¦çš„æ–¹å¼ï¼Œå°† RAID 1 å’Œ RAID 0 çš„ä¼˜åŠ¿ç»“åˆåœ¨ä¸€èµ·ã€‚å®ç°ä¸Šï¼ŒRAID 10 å…ˆå°†æ‰€æœ‰ç£ç›˜ä¸¤ä¸¤ç»„æˆé•œåƒå¯¹ï¼ˆRAID 1 æä¾›å†—ä½™ï¼‰ï¼Œç„¶åå†å°†è¿™äº›é•œåƒå¯¹ä½œä¸ºç‹¬ç«‹â€œç›˜â€æ¡å¸¦åŒ–ï¼ˆRAID 0 æä¾›æ€§èƒ½å’Œå®¹é‡ï¼‰ã€‚ä¾‹å¦‚ï¼Œæœ‰ 4 å—ç›˜æ—¶ï¼ŒRAID 10 ä¼šå…ˆç»„æˆä¸¤ä¸ªé•œåƒï¼ˆæ¯å¯¹ 2 ç›˜ï¼‰ï¼Œå†å°†ä¸¤ä¸ªé•œåƒç»„åˆæˆæ¡å¸¦ï¼›8 å—ç›˜åˆ™ç»„æˆ 4 å¯¹é•œåƒï¼Œå† 4 ç»„åšæ¡å¸¦ï¼Œä»¥æ­¤ç±»æ¨ã€‚RAID 10 å¸¸è¢«èª‰ä¸ºâ€œä¸¤å…¨å…¶ç¾â€çš„æ–¹æ¡ˆï¼Œå…·æœ‰ RAID 0 çš„é«˜é€Ÿæ€§èƒ½å’Œ RAID 1 çš„é•œåƒå®‰å…¨æ€§ã€‚

ç©ºé—´è®¡ç®—æ–¹å¼ï¼šRAID 10 çš„å¯ç”¨å®¹é‡çº¦ä¸ºé˜µåˆ—ä¸­ä¸€åŠç£ç›˜å®¹é‡æ€»å’Œã€‚åŒ RAID 01 ä¸€æ ·ï¼Œæ¯ä¸¤å—ç›˜åšé•œåƒï¼Œåªèƒ½ä½¿ç”¨å…¶ä¸­ä¸€ç›˜å®¹é‡ï¼›é•œåƒå¯¹æ•°é‡ä¸ºç£ç›˜æ•°çš„ä¸€åŠï¼Œç„¶åæ‰€æœ‰é•œåƒå¯¹å†æ¡å¸¦ï¼Œæ€»å®¹é‡ &#x3D; é•œåƒå¯¹æ•° Ã— å•å¯¹å®¹é‡ã€‚ç®€è€Œè¨€ä¹‹ï¼Œåˆ©ç”¨ç‡ 50%ï¼ˆå¶æ•°ç›˜æƒ…å†µä¸‹ï¼‰ã€‚ä¾‹å¦‚ 8 ç›˜ RAID 10ï¼Œå¯ç”¨å®¹é‡ç­‰äº 4 ç›˜å®¹é‡ä¹‹å’Œï¼ˆå…¶ä½™ 4 ç›˜ç”¨äºé•œåƒå†—ä½™ï¼‰ã€‚
æ€§èƒ½ç‰¹æ€§ï¼šRAID 10 åœ¨æ€§èƒ½æ–¹é¢è¡¨ç°ä¼˜å¼‚ä¸”ç¨³å®šã€‚å› ä¸ºæ•°æ®åœ¨æ¯å¯¹é•œåƒä¸­æœ‰ä¸¤ä»½ï¼Œè¯»å–æ—¶æ§åˆ¶å™¨å¯ä»¥æ™ºèƒ½åœ°ä»ä¸­é€‰æ‹©æ›´å¿«çš„ä¸€ä»½è¯»å–ï¼Œæˆ–è€…å¹¶è¡Œè¯»ä¸åŒé•œåƒä»¥æé«˜æ€»ååã€‚é¡ºåºè¯»å– &#x2F; å†™å…¥æ€§èƒ½æ¥è¿‘ RAID 0 æ¡å¸¦åŒ–çš„æ°´å¹³ï¼ˆä½¿ç”¨ä¸€åŠæ•°é‡çš„ç›˜ï¼Œå› ä¸ºå¦ä¸€åŠæ˜¯é•œåƒå†—ä½™ï¼‰ã€‚ä¾‹å¦‚ 8 ç›˜ RAID 10 çš„é¡ºåºååé‡å¤§è‡´ç›¸å½“äº 4 ç›˜ RAID 0ï¼Œå› ä¸º 8 ç›˜ç»„æˆ 4 ä¸ªé•œåƒå¯¹å†æ¡å¸¦ã€‚éšæœºè¯»å–æ€§èƒ½å°¤å…¶çªå‡ºï¼šå¤šä¸ªé•œåƒå¯ä»¥åŒæ—¶å¤„ç†ä¸åŒçš„è¯»è¯·æ±‚ï¼Œéšæœºè¯» IOPS åœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹è¿œè¶…å•ç›˜ã€‚å†™å…¥æ€§èƒ½åˆ™ä¸é•œåƒç±»ä¼¼ï¼šæ¯å¯¹é•œåƒå†…éƒ¨éœ€è¦å†™å…¥ä¸¤ä»½ï¼Œä½†è¿™äº›é•œåƒå¯¹ä¹‹é—´æ˜¯å¹¶è¡Œæ¡å¸¦çš„å…³ç³»ï¼Œæ‰€ä»¥æ•´ä½“å†™å…¥ååä»å¯æ¥è¿‘å¤šç›˜å¹¶è¡Œã€‚å¯¹æ¯” RAID 5&#x2F;6ï¼ŒRAID 10 çš„å†™å…¥æ²¡æœ‰å¥‡å¶æ ¡éªŒå¼€é”€ï¼Œéšæœºå†™æ€§èƒ½æ˜æ˜¾æ›´å¥½ï¼Œå»¶è¿Ÿæ›´ä½ï¼Œéå¸¸é€‚åˆé«˜ I&#x2F;O åº”ç”¨ã€‚
å†—ä½™ä¸å®¹é”™ï¼šRAID 10 å…·æœ‰è¾ƒé«˜çš„å®¹é”™èƒ½åŠ›å’Œå¯é æ€§ã€‚å®ƒèƒ½å®¹å¿çš„æ•…éšœæ•°å–å†³äºæ•…éšœåˆ†å¸ƒï¼šåªè¦ä¸æ˜¯åŒä¸€é•œåƒå¯¹çš„ä¸¤ç›˜éƒ½åï¼Œé˜µåˆ—å°±èƒ½ä¿æŒæ•°æ®å®Œæ•´ã€‚å…·ä½“æ¥è¯´ï¼Œæ¯ä¸ªé•œåƒå¯¹å¯ä»¥å®¹å¿ 1 ç›˜æ•…éšœã€‚å¦‚æœä¸åŒé•œåƒå¯¹å„æŸåä¸€ç›˜ï¼ŒRAID 10 ä»èƒ½æ­£å¸¸è¿è¡Œï¼›ç†è®ºä¸Šå¯¹äºæœ‰ m å¯¹é•œåƒçš„ RAID 10ï¼Œæœ€ç†æƒ³æƒ…å†µä¸‹å¯å®¹å¿ m å—ç›˜åˆ†åˆ«åœ¨ä¸åŒå¯¹ä¸­æŸåï¼ˆæ¯å¯¹å 1 ç›˜ï¼‰è€Œä¸ä¸¢å¤±æ•°æ®ã€‚ä¸è¿‡ï¼Œå¦‚æœæŸä¸€é•œåƒå¯¹ä¸¤ç›˜å…¨éƒ¨æ•…éšœï¼Œé‚£ç»„æ•°æ®æ— å‰¯æœ¬å¯ç”¨ï¼Œæ•´ä¸ªé˜µåˆ—å³å¤±æ•ˆã€‚å› æ­¤æœ€åæƒ…å†µä¸‹ RAID 10 åªèƒ½å®¹å¿ä¸ RAID 1 ç›¸åŒçš„ 1 å¯¹ç›˜æ•…éšœï¼ˆé•œåƒå¯¹å†…åŒç›˜ååˆ™å´©æºƒï¼‰ã€‚ä½†ç›¸æ¯” RAID 01ï¼ŒRAID 10 åœ¨ç¬¬ä¸€æ¬¡æ•…éšœåçš„å®‰å…¨æ€§æ›´é«˜ï¼šå‡è®¾ 8 ç›˜ RAID 10 æœ‰ 1 ç›˜æ•…éšœï¼Œåˆ™ä»…å½±å“è¯¥é•œåƒå¯¹ï¼Œå…¶ä»–é•œåƒå¯¹ä¸å—ç‰µè¿ï¼Œé˜µåˆ—ä»ä»¥ RAID 1 æ¨¡å¼ä¿æŠ¤å‰©ä½™æ•°æ®ã€‚é™¤éåŒä¸€å¯¹çš„ç¬¬äºŒç›˜åœ¨é‡å»ºå®Œæˆå‰æ•…éšœï¼Œå¦åˆ™æ•°æ®ä»ç„¶å®‰å…¨ã€‚è¿™ç§æ•…éšœæ¨¡å¼æ˜¾è‘—ä¼˜äº RAID 0+1ã€‚åœ¨æ›¿æ¢æ‰æ•…éšœç›˜åï¼Œæ§åˆ¶å™¨ä¼šå°†å…¶é•œåƒå¯¹çš„å¦ä¸€ç›˜æ•°æ®æ‹·è´åˆ°æ–°ç›˜è¿›è¡Œé‡å»ºï¼Œæ¢å¤æˆå®Œæ•´é•œåƒã€‚é‡å»ºæœŸé—´åªéœ€è¦è¯»å–è¯¥å¯¹ä¸­å®Œå¥½ç›˜å³å¯ï¼Œé€Ÿåº¦è¾ƒå¿«ä¸”å¯¹å…¶å®ƒç›˜æ— é¢å¤–å‹åŠ›ã€‚
ä¼˜ç‚¹ï¼šå…¼å…·é«˜æ€§èƒ½å’Œé«˜å¯é æ€§ï¼šè¯»å†™é€Ÿåº¦æ¥è¿‘ RAID 0ï¼Œæ•…éšœè€å—æ¥è¿‘ RAID 1ï¼›æ— å¥‡å¶æ ¡éªŒè®¡ç®—ï¼Œå»¶è¿Ÿä½ï¼›åœ¨å¤šç›˜é˜µåˆ—ä¸­ä»æœ‰å¼¹æ€§çš„å®¹é”™èƒ½åŠ›ï¼ˆéåŒç»„æ•…éšœä¸ä¸¢æ•°æ®ï¼‰ï¼›é‡å»ºå¿«é€Ÿã€‚
ç¼ºç‚¹ï¼šå­˜å‚¨åˆ©ç”¨ç‡ä½ï¼ˆ50%ï¼‰ï¼›ç£ç›˜æ•°é‡è¦æ±‚è‡³å°‘ 4 ä¸ªï¼Œæ‰©å±•æˆæœ¬é«˜ï¼›ç›¸æ¯”å•çº¯ RAID 5&#x2F;6ï¼Œå®¹é‡å¼€é”€è¾ƒå¤§ï¼ˆé€‚åˆç£ç›˜å®¹é‡å……è£•æƒ…å†µä¸‹ä½¿ç”¨ï¼‰ã€‚
å…¸å‹åº”ç”¨åœºæ™¯ï¼šRAID 10 éå¸¸é€‚åˆéœ€è¦é«˜é€Ÿéšæœºè¯»å†™ä¸”è¦æ±‚é«˜å¯ç”¨æ€§çš„åœºæ™¯ã€‚ä¾‹å¦‚ OLTP æ•°æ®åº“ã€å¤§å‹äº‹åŠ¡ç³»ç»Ÿã€è™šæ‹ŸåŒ–ç¯å¢ƒï¼ˆVM å­˜å‚¨ï¼‰ã€é«˜è´Ÿè½½é‚®ä»¶æœåŠ¡å™¨ç­‰ã€‚è¿™äº›åœºæ™¯ä¸‹ RAID 5&#x2F;6 çš„å†™å…¥æ€§èƒ½å¯èƒ½æ— æ³•æ»¡è¶³è¦æ±‚ï¼Œè€Œ RAID 10 æä¾›äº†å‡ºè‰²çš„ I&#x2F;O æ€§èƒ½å’Œå†—ä½™ä¿éšœã€‚å¾ˆå¤šä¼ä¸šçº§æ•°æ®åº“å’Œ I&#x2F;O å¯†é›†åº”ç”¨æ¨èä½¿ç”¨ RAID 10ã€‚ç”±äºå…¶ä¼˜ç§€çš„æ€§èƒ½å’Œå†—ä½™ï¼ŒRAID 10 ä¹Ÿè¢«ç”¨äºä¸€äº›ä¸­é«˜ç«¯ NAS&#x2F;SAN ä¸­ä»¥æ”¯æ’‘å…³é”®ä¸šåŠ¡ã€‚

RAID 50 â€“ æ¡å¸¦åŒ–çš„ RAID 5 ç»„åˆRAID 50ï¼ˆæœ‰æ—¶ç§°ä¸º RAID 5+0ï¼‰æ˜¯å°†å¤šä¸ª RAID 5 é˜µåˆ—å†åšæ¡å¸¦åŒ–çš„ç»„åˆçº§åˆ«ã€‚å®ç°æ–¹å¼é€šå¸¸æ˜¯å…ˆå°†ç£ç›˜åˆ†æˆè‹¥å¹²ç»„ï¼Œæ¯ç»„ç‹¬ç«‹ç»„æˆ RAID 5 é˜µåˆ—ï¼Œå†å°†è¿™äº› RAID 5 ç»„æŒ‰ç…§ RAID 0 æ–¹å¼è·¨åŒºæ¡å¸¦ã€‚ä¾‹å¦‚ï¼Œæœ€å°çš„ RAID 50 å¯ä»¥ç”¨ 6 å—ç›˜æ„æˆï¼šå…ˆåˆ†æˆä¸¤ç»„å„ 3 ç›˜åš RAID 5ï¼ˆæ¯ç»„æœ‰ 1 ç›˜ä½œä¸ºå¥‡å¶æ ¡éªŒï¼‰ï¼Œå¾—åˆ°ä¸¤ä¸ª RAID 5 é€»è¾‘ç›˜ï¼›ç„¶åå†å¯¹è¿™ä¸¤ä¸ªé€»è¾‘ç›˜åšæ¡å¸¦ï¼ˆRAID 0ï¼‰ã€‚è¿™æ ·çš„ç»“æ„åŒæ—¶åˆ©ç”¨äº† RAID 5 çš„å†—ä½™å’Œ RAID 0 çš„æ€§èƒ½æ‹“å±•ã€‚

ç©ºé—´è®¡ç®—æ–¹å¼ï¼šRAID 50 çš„å¯ç”¨å®¹é‡å–å†³äºå­é˜µåˆ—ä¸ªæ•°å’Œæ¯ç»„å¤§å°ã€‚ä¸€èˆ¬å…¬å¼ä¸ºï¼šå¯ç”¨å®¹é‡ &#x3D; æ€»ç£ç›˜æ•° - æ¯ç»„ RAID5 çš„ç»„æ•°ï¼ˆå› ä¸ºæ¯ç»„æµªè´¹ä¸€å—åšæ ¡éªŒï¼‰ã€‚å¦‚æœæ€»ç›˜æ•°ä¸º Nï¼Œåˆ†æˆ g ç»„ï¼Œåˆ™æ¯ç»„å¤§å° k &#x3D; N&#x2F;gï¼Œæ¯ç»„æœ‰æ•ˆç›˜æ•° (k-1)ï¼Œæ€»æœ‰æ•ˆç›˜æ•° &#x3D; g(k-1) &#x3D; N - gã€‚ä¾‹å¦‚ä¸Šè¿° 6 ç›˜ä¾‹å­ï¼šåˆ† 2 ç»„ RAID5ï¼Œæ¯ç»„ 3 ç›˜ï¼ˆæœ‰æ•ˆ 2 ç›˜ï¼‰ï¼Œä¸¤ç»„æ€»æœ‰æ•ˆç›˜ 4ï¼Œå®¹é‡åˆ©ç”¨ç‡ &#x3D; 4&#x2F;6 â‰ˆ 66.7%ã€‚å†å¦‚ 9 å—ç›˜å¦‚æœåš RAID 50ï¼Œå¯ä»¥åˆ† 3 ç»„æ¯ç»„ 3 ç›˜ RAID5ï¼Œåˆ™å¯ç”¨å®¹é‡ &#x3D; 9 - 3 &#x3D; 6 ç›˜å®¹é‡ï¼ˆåˆ©ç”¨ç‡ â‰ˆ 66.7%ï¼‰ï¼›è‹¥åˆ†æˆ 2 ç»„ä¸€ç»„ 5 ç›˜ä¸€ç»„ 4 ç›˜åˆ™ä¸å¤ªå‡è¡¡ï¼Œä¸€èˆ¬ä¼šå°½é‡å¹³å‡åˆ†ç»„ã€‚ä¸å•ç»„ RAID 5 ç›¸æ¯”ï¼ŒRAID 50 ç”±äºæ¯ç»„éƒ½æœ‰å¥‡å¶å¼€é”€ï¼Œæ€»çš„å†—ä½™å¼€é”€ç•¥é«˜ã€‚ä¾‹å¦‚ 9 ç›˜å• RAID5 åˆ©ç”¨ç‡çº¦ 88.9%ï¼Œè€Œ 3 ç»„ 3 ç›˜ RAID50 åˆ©ç”¨ç‡åªæœ‰ 66.7%ã€‚ä½†æ›´å¸¸è§çš„æ˜¯åœ¨æœ‰å¾ˆå¤šç›˜æ—¶è€ƒè™‘ RAID 50ï¼Œä»¥é¿å…å•ä¸€ RAID 5 ç»„è¿‡å¤§å¯¼è‡´é‡å»ºé£é™©å¢é«˜ã€‚
æ€§èƒ½ç‰¹æ€§ï¼šRAID 50 å°† RAID 5 é˜µåˆ—è¿›è¡Œæ¡å¸¦åŒ–ï¼Œæé«˜äº†å¹¶è¡Œ I&#x2F;O æ€§èƒ½ã€‚
è¯»å–æ€§èƒ½ï¼šå¤šä¸ª RAID 5 ç»„å¹¶è¡Œæä¾›æ•°æ®ï¼Œé¡ºåºè¯»å†™å¯ä»¥ä»å¤šä¸ªç»„åŒæ—¶è¿›è¡Œï¼Œç†è®ºååæ¯”å• RAID 5 é«˜ã€‚åŒæ—¶å„ç»„å†…éƒ¨åˆæœ‰æ¡å¸¦ï¼Œéšæœºè¯»å¯åŒæ—¶è®¿é—®ä¸åŒç»„ï¼Œæé«˜å¹¶å‘èƒ½åŠ›ã€‚
å†™å…¥æ€§èƒ½ï¼šRAID 50 çš„å°å†™å…¥æ€§èƒ½ä»ç„¶å—é™äº RAID 5 çš„â€œè¯»æ”¹å†™â€æœºåˆ¶ï¼Œæ¯ç»„å†…éƒ¨å†™å…¥éœ€è¦è®¡ç®—å¥‡å¶æ ¡éªŒï¼Œä½†å› ä¸ºå­˜åœ¨å¤šä¸ªç»„ï¼Œå¹¶å‘å†™å…¥å¯ä»¥åˆ†æ•£åˆ°ä¸åŒç»„ï¼Œç¼“è§£äº†å•ä¸€ RAID5 åœ¨é«˜å¹¶å‘å†™å…¥æ—¶çš„ç“¶é¢ˆã€‚æ€»ä½“æ¥è¯´ï¼ŒRAID 50 çš„é¡ºåºååé‡å’Œ IOPS å‡é«˜äºå•ä¸€ RAID 5 é˜µåˆ—ï¼Œæ¥è¿‘ RAID 0 ç­‰çº§ï¼›ä½†åœ¨å•ä¸€å†™å…¥çº¿ç¨‹æƒ…å†µä¸‹ï¼Œå…¶å†™æ€§èƒ½ä»éœ€æ‰§è¡Œ RAID5 æ ¡éªŒè®¡ç®—ï¼Œä¸å¦‚ RAID 0&#x2F;10ã€‚


å†—ä½™ä¸å®¹é”™ï¼šRAID 50 å¯ä»¥çœ‹ä½œæä¾›ä¸€å®šå¤šç›˜å®¹é”™èƒ½åŠ›ï¼šæ¯ä¸ªå­é˜µåˆ— RAID 5 å¯å®¹å¿ 1 ç›˜æ•…éšœï¼Œå› æ­¤åªè¦æ¯ä¸ªå­é˜µåˆ—æ•…éšœç›˜ä¸è¶…è¿‡ 1 ä¸ªï¼ŒRAID 50 æ•´ä½“æ•°æ®ä¸ä¸¢å¤±ã€‚ä¾‹å¦‚ 2 ç»„ RAID5ï¼Œå³ä½¿æ¯ç»„å„å 1 ç›˜ï¼ˆæ€»å 2 ç›˜ï¼‰ï¼Œé˜µåˆ—ä»ç„¶å¯ç”¨ã€‚ä½†å¦‚æœä»»æ„ä¸€ç»„ä¸­æœ‰ 2 ç›˜å¤±æ•ˆï¼ˆè¶…å‡º RAID5 å†—ä½™èƒ½åŠ›ï¼‰ï¼Œåˆ™è¯¥ç»„æ•°æ®ä¸å¯æ¢å¤ï¼Œç»§è€Œæ•´ä¸ª RAID 50 å¤±æ•ˆã€‚å› æ­¤ RAID 50 çš„å®é™…å®¹é”™å–å†³äºæ•…éšœåˆ†å¸ƒï¼šä¸åŒç»„å¯ä»¥å„åä¸€ç›˜è€Œæ— äº‹ï¼Œä½†å¦‚æœå¤šç›˜æ•…éšœè½åœ¨åŒä¸€ç»„å°±å±é™©ã€‚ç›¸è¾ƒå•ä¸€å¤§ RAID 5 ç»„åªèƒ½å®¹å¿ 1 ç›˜å¤±æ•ˆï¼ŒRAID 50 åœ¨ç†æƒ³æƒ…å†µä¸‹å®¹å¿åº¦æå‡ï¼ˆæ¯”å¦‚ 4 ç»„ RAID5 ç†è®ºå¯å®¹å¿ 4 ç›˜å„åœ¨ä¸åŒç»„æ•…éšœï¼‰ï¼›ä½†æ˜¯å®¹å¿çš„å‰ææ˜¯æ•…éšœåˆ†æ•£ã€‚é‡å»ºè¿‡ç¨‹ä¹Ÿæ˜¯åˆ†ç»„è¿›è¡Œï¼šæŸç›˜æ•…éšœä»…éœ€è¦å…¶æ‰€åœ¨ RAID5 ç»„è¿›è¡Œæ ¡éªŒé‡å»ºï¼Œå…¶ä½™ç»„ä¸å—å½±å“ã€‚è¿™æ„å‘³ç€é‡å»ºå‹åŠ›å¯ä»¥éš”ç¦»åœ¨è¾ƒå°èŒƒå›´å†…ï¼Œé™ä½å¯¹æ•´ä¸ªé˜µåˆ—æ€§èƒ½çš„å†²å‡»ã€‚
ä¼˜ç‚¹ï¼šç›¸æ¯”å•ä¸€å¤§å‹ RAID 5ï¼ŒRAID 50 åœ¨æ€§èƒ½å’Œå¯é æ€§ä¸Šéƒ½æœ‰æå‡ï¼šå¹¶è¡Œæ¡å¸¦æé«˜ååï¼Œå¹¶å‘é‡å»ºé™ä½é£é™©ï¼›å¯ä¸€å®šç¨‹åº¦å®¹å¿å¤šç›˜æ•…éšœï¼ˆå„ç»„å„ 1 ç›˜ï¼‰ï¼›é‡å»ºæ—¶é—´ç¼©çŸ­ï¼ˆæ¯ç»„ç‹¬ç«‹é‡å»ºæ›´å¿«ï¼‰ã€‚
ç¼ºç‚¹ï¼šæœ‰æ•ˆå®¹é‡æ¯”åŒç­‰ç£ç›˜æ•°åš RAID 5 æ›´ä½ï¼ˆå› ä¸ºå¤šä¸ªç»„å¤šæ¬¡æŸå¤±æ ¡éªŒç›˜å®¹é‡ï¼‰ï¼›å®ç°ç»“æ„æ›´å¤æ‚ï¼Œé…ç½®ä¸å½“å¯èƒ½å¯¼è‡´å®¹é‡æµªè´¹ï¼ˆéœ€è¦å‡è¡¡åˆ†ç»„ï¼‰ï¼›ä»æ— æ³•å®¹å¿å•ç»„å†…çš„åŒç›˜å¤±æ•ˆï¼›ç›¸æ¯” RAID 10ï¼ŒRAID 50 åœ¨åŒç›˜ä¸åŒç»„æ•…éšœä¸‹è™½ç„¶è¿˜èƒ½è¿è¡Œï¼Œä½†æ•°æ®å®‰å…¨æ€§ä¸å¦‚åŒé•œåƒå¯é ã€‚
å…¸å‹åº”ç”¨åœºæ™¯ï¼šRAID 50 é€‚ç”¨äºå…·æœ‰å¤§é‡ç£ç›˜çš„å­˜å‚¨ç³»ç»Ÿï¼Œå¸Œæœ›åœ¨ RAID 5 çš„ç©ºé—´æ•ˆç‡åŸºç¡€ä¸Šå¢å¼ºæ€§èƒ½å’Œå¯é æ€§ã€‚ä¾‹å¦‚ä¸€äº›å¤§å®¹é‡çš„ç›˜æŸœ &#x2F; ç£ç›˜é˜µåˆ—ï¼Œå¯èƒ½æœ‰ 20 å—ç›˜ä»¥ä¸Šï¼Œä¸ºé™ä½å•ç»„ RAID 5 é‡å»ºé£é™©å’Œæå‡æ€§èƒ½ï¼Œå¯ä»¥è€ƒè™‘å°†å…¶åˆ†æˆ 2 æˆ–æ›´å¤šç»„ RAID5 å†æ¡å¸¦ã€‚å¸¸è§ç”¨äºæ•°æ®ä»“åº“ã€å¤§å‹ NAS è®¾å¤‡ã€è§†é¢‘ç›‘æ§å­˜å‚¨ç­‰éœ€è¦é«˜é¡ºåºååä¸”å®¹é‡è¾ƒå¤§çš„åœºæ™¯ï¼Œä¹Ÿæœ‰ç”¨äºæŸäº›æœåŠ¡å™¨çš„æœ¬åœ°å­˜å‚¨ã€‚å½“ç£ç›˜æ•°é‡è¾ƒå¤šæ—¶ï¼Œä¸å…¶åšä¸€ä¸ª RAID 5ï¼Œä¸å¦‚æ‹†åˆ†ä¸ºå¤šä¸ª RAID5 åš RAID50 ä¼šæ˜¯æ›´å¥½çš„æŠ˜ä¸­ã€‚

RAID 60 â€“ æ¡å¸¦åŒ–çš„ RAID 6 ç»„åˆRAID 60ï¼ˆRAID 6+0ï¼‰ä¸ RAID 50 ç±»ä¼¼ï¼Œæ˜¯å°†å¤šä¸ª RAID 6 é˜µåˆ—æ¡å¸¦åŒ–åçš„ç»„åˆçº§åˆ«ã€‚å®ç°ä¸Šï¼Œå…ˆå°†ç£ç›˜åˆ†æˆè‹¥å¹²ç»„ï¼Œå„ç»„åš RAID 6ï¼ˆå…·æœ‰åŒå¥‡å¶æ ¡éªŒå®¹é”™ï¼‰ï¼Œå†å°†è¿™äº›ç»„ä½œä¸ºç‹¬ç«‹å•å…ƒè¿›è¡Œ RAID 0 æ¡å¸¦ã€‚ä¾‹å¦‚ï¼Œ8 å—ç›˜å¯åšæˆä¸¤ä¸ª 4 ç›˜ RAID 6 ç»„ï¼Œç„¶åä¸¤ç»„æ¡å¸¦åŒ–å¾—åˆ° RAID 60ï¼›å…¸å‹é…ç½®å¸¸ç”¨æ›´å¤šç›˜ï¼Œä¾‹å¦‚ 16 ç›˜å¯åˆ†æˆä¸¤ç»„ 8 ç›˜ RAID6 æˆ– 4 ç»„ 4 ç›˜ RAID6ï¼Œå†æ¡å¸¦åŒ–ã€‚

ç©ºé—´è®¡ç®—æ–¹å¼ï¼šRAID 60 è‡³å°‘éœ€è¦8 å—ç›˜ï¼ˆå› ä¸ºæ¯ç»„ RAID6 æœ€å°‘ 4 ç›˜ï¼Œä¸¤ç»„èµ·æ¡å¸¦ï¼‰ã€‚å¯ç”¨å®¹é‡ &#x3D; æ€»ç›˜æ•° - 2Ã—(ç»„æ•°)ã€‚å³æ¯ç»„æœ‰ 2 ç›˜å®¹é‡ç”¨äºæ ¡éªŒï¼Œæ€»çš„æ ¡éªŒç›˜å¼€é”€æ˜¯ 2Ã—ç»„æ•°ã€‚ä¾‹å¦‚ï¼Œ8 ç›˜åˆ†ä¸¤ç»„ 4 ç›˜ RAID6ï¼Œå¯ç”¨å®¹é‡ &#x3D; 8 - 2Ã—2 &#x3D; 4 ç›˜å®¹é‡ï¼ˆåˆ©ç”¨ç‡ 50%ï¼‰ï¼›16 ç›˜åˆ†ä¸¤ç»„ 8 ç›˜ï¼Œåˆ™å¯ç”¨å®¹é‡ &#x3D; 16 - 2Ã—2 &#x3D; 12 ç›˜å®¹é‡ï¼ˆåˆ©ç”¨ç‡ 75%ï¼‰ï¼›å¦‚æœ 16 ç›˜åˆ† 4 ç»„ 4 ç›˜ï¼Œåˆ™å¯ç”¨å®¹é‡ &#x3D; 16 - 2Ã—4 &#x3D; 8 ç›˜å®¹é‡ï¼ˆåˆ©ç”¨ç‡ 50%ï¼‰ã€‚ç”±æ­¤å¯è§ RAID 60 çš„å®¹é‡åˆ©ç”¨ç‡å–å†³äºæ¯ç»„å¤§å°ï¼Œç»„è¶Šå¤§åˆ©ç”¨ç‡è¶Šé«˜ï¼Œä½†è¿‡å¤§ç»„ä¼šç‰ºç‰²å¯é æ€§ä¼˜åŠ¿ã€‚
æ€§èƒ½ç‰¹æ€§ï¼šRAID 60 å…·æœ‰ä¼˜å¼‚çš„é¡ºåºååæ€§èƒ½ã€‚å¤šç»„ RAID 6 å¹¶è¡Œæ¡å¸¦ï¼Œé¡ºåºè¯»å†™å¯ä»¥åŒæ—¶ä»å¤šä¸ªç»„è·å–æ•°æ®ï¼Œå¸¦å®½æ¯”å•ä¸€ RAID 6 æ›´é«˜ã€‚æ¯ç»„å†…éƒ¨æœ‰åŒæ ¡éªŒï¼Œå•ç»„é¡ºåºæ€§èƒ½ç•¥é€Šäº RAID 5ï¼Œä½†å¤šä¸ªç»„å¹¶è¡Œå¯ä»¥å¼¥è¡¥ç”šè‡³è¶…è¶Šå•ç»„æ€§èƒ½ã€‚éšæœºæ€§èƒ½æ–¹é¢ï¼Œè¯»å–å¹¶å‘æ€§å’Œ RAID 50 ç±»ä¼¼ï¼Œå¤šç»„å¯åŒæ—¶æœåŠ¡å¤šä¸ªè¯·æ±‚ï¼›å†™å…¥æ€§èƒ½å— RAID 6 åŒæ ¡éªŒå½±å“ï¼Œæ¯ç»„å†…éƒ¨å°å†™çš„å¼€é”€è¾ƒå¤§ï¼Œä½†å¹¶è¡Œç»„ä»æœ‰åŠ©äºæé«˜æ€» IOPSã€‚åœ¨é‡è´Ÿè½½ä¸‹ï¼ŒRAID 60 æ¯”å•ä¸€ RAID 6 èƒ½æä¾›æ›´å¥½çš„æ€§èƒ½æ‰©å±•ï¼Œå› ä¸º I&#x2F;O å‹åŠ›åˆ†æ‘Šåˆ°å¤šä¸ªå­é˜µåˆ—ä¸Šã€‚
å†—ä½™ä¸å®¹é”™ï¼šRAID 60 å¯ä»¥å®¹å¿æ¯ä¸ªå­é˜µåˆ—ä¸­æœ€å¤š 2 å—ç£ç›˜æ•…éšœã€‚å› æ­¤åªè¦æ¯ç»„æŸåç›˜æ•° â‰¤2ï¼Œæ•´ä¸ªé˜µåˆ—æ•°æ®ä¿æŒå®Œå¥½ã€‚ä¾‹å¦‚ 2 ç»„ RAID6 çš„ RAID 60ï¼Œå³ä½¿æ€»å…±ååˆ° 4 å—ç›˜ï¼ˆæ¯ç»„å„ 2 å—ï¼‰ï¼Œä»ç„¶ä¸ä¸¢å¤±æ•°æ®ã€‚ä½†å¦‚æœä»»ä¸€ç»„ä¸­å‡ºç°ç¬¬ 3 å—ç£ç›˜æ•…éšœï¼Œè¯¥ç»„å°†å´©æºƒï¼Œä»è€Œå¯¼è‡´æ•´ä¸ªé˜µåˆ—å¤±æ•ˆã€‚è¿™ç§æƒ…å†µå‘ç”Ÿçš„æ¦‚ç‡æä½ï¼Œä½†è¦æ³¨æ„ RAID 60 è™½ç„¶æé«˜äº†å¯é æ€§ï¼Œä»éæ— é™å®‰å…¨ã€‚åŒæ ·åœ°ï¼Œå¤šç›˜æ•…éšœçš„å½±å“å–å†³äºåˆ†å¸ƒï¼šRAID 60 èƒ½æ‰¿å—å¤šå—ç›˜åŒæ—¶å¤±æ•ˆï¼Œåªè¦ä¸è¶…è¿‡ä¸¤ç›˜è½åœ¨åŒä¸€ç»„å†…ã€‚ç›¸æ¯”å•ä¸€å¤§å‹ RAID 6 é˜µåˆ—åªèƒ½æŠ— 2 ç›˜åï¼ŒRAID 60 åœ¨ä¸€å®šç¨‹åº¦ä¸Šé™ä½äº†å¤šç›˜è¿ç»­æ•…éšœå¯¼è‡´æ•°æ®ä¸¢å¤±çš„é£é™©ã€‚é‡å»ºæ—¶ï¼Œæ¯ä¸ªæ•…éšœç›˜åœ¨å…¶æ‰€å±çš„å°ç»„å†…è¿›è¡ŒåŒå¥‡å¶æ ¡éªŒæ¢å¤ï¼Œå…¶ä½™ç»„ä¸å—ç‰µè¿ï¼Œè¿™æ¯”åœ¨ä¸€ä¸ªè¶…å¤§ RAID6 ä¸­é‡å»ºè¦æ›´å¿«ä¹Ÿæ›´å®‰å…¨ï¼ˆé‡å»ºå¹¶è¡Œä¸”æ•°æ®åˆ’åˆ†åœ¨æ›´å°ç»„é‡Œï¼‰ã€‚
ä¼˜ç‚¹ï¼šéå¸¸é«˜çš„å®¹é”™èƒ½åŠ›ï¼Œå¯è€å—å¤šç›˜æ•…éšœï¼ˆå„ç»„å¯å„å 2 ç›˜ï¼‰ï¼›è¯»å–æ€§èƒ½æä½³ï¼Œå¤šç»„å¹¶è¡Œè¯»å†™æå‡ååï¼›ç›¸æ¯”è¶…å¤§ RAID6ï¼Œé‡å»ºå‹åŠ›åˆ†æ•£ï¼Œé‡å»ºé€Ÿåº¦åŠ å¿«ï¼Œæ€»ä½“å¯é æ€§æå‡ã€‚
ç¼ºç‚¹ï¼šå¯ç”¨å®¹é‡æ¯”å•ä¸€ RAID6 ç¨ä½ï¼ˆå¤šä¸ªç»„æœ‰å¤šä»½æ ¡éªŒå¼€é”€ï¼‰ï¼›å®ç°å¤æ‚ï¼Œé…ç½®éœ€è¦åˆç†è§„åˆ’ç»„å¤§å°å’Œå¹³è¡¡ï¼›å°å†™å…¥æ€§èƒ½ä¾ç„¶å—é™äºåŒé‡æ ¡éªŒå¼€é”€ï¼›éœ€è¦è¾ƒå¤šç£ç›˜èµ·æ­¥ï¼ˆé€šå¸¸åªæœ‰åœ¨ç£ç›˜æ•°é‡å¾ˆå¤šæ—¶æ‰è€ƒè™‘ RAID 60ï¼‰ã€‚
å…¸å‹åº”ç”¨åœºæ™¯ï¼šRAID 60 å¤šè§äºè¶…å¤§å®¹é‡å­˜å‚¨æœåŠ¡å™¨æˆ–ç›˜é˜µä¸­ï¼Œæ¯”å¦‚åŠ¨è¾„å‡ åå—ç›˜çš„å¤§å‹ SAN&#x2F;NASã€‚å½“å•ä¸ª RAID6 åŒ…å«è¿‡å¤šç£ç›˜æ—¶ï¼Œé‡å»ºæ—¶é—´æ¼«é•¿ä¸”åŒç›˜æ•…éšœé£é™©å¢åŠ ï¼Œé‡‡ç”¨ RAID 60 åˆ†ç»„èƒ½ç¼“è§£è¿™äº›é—®é¢˜ã€‚å…¸å‹åº”ç”¨å¦‚ä¸æ–¹ä¾¿é¢‘ç¹å¤‡ä»½çš„å¤§å‹è§†é¢‘ç›‘æ§å­˜å‚¨ã€æµ·é‡æ•°æ®å½’æ¡£ã€é«˜æ€§èƒ½è®¡ç®—é›†ç¾¤å­˜å‚¨ç­‰ï¼Œè¿™äº›åœºæ™¯éœ€è¦æ—¢é˜²æ­¢å¤šç›˜æ•…éšœåˆå…¼é¡¾æ€§èƒ½ã€‚æ€»ä¹‹ï¼Œåœ¨æ‹¥æœ‰éå¸¸å¤šç¡¬ç›˜å¹¶è¦æ±‚æé«˜æ•°æ®å†—ä½™çš„æƒ…å†µä¸‹ï¼ŒRAID 60 æ˜¯æ¯” RAID 50 æ›´å®‰å…¨çš„æ–¹æ¡ˆï¼Œä½†å…¶å¤æ‚æ€§å’Œå®¹é‡ä»£ä»·ä¹Ÿæ›´é«˜ã€‚

JBOD â€“ ç‹¬ç«‹ç£ç›˜ &#x2F; å¹¶åˆ—ç›˜ç»„ (Just a Bunch of Disks)JBOD å¹¶éä¸¥æ ¼çš„ RAID çº§åˆ«ï¼Œè€Œæ˜¯ä¸€ä¸ªæœ¯è¯­ï¼Œæ„æ€æ˜¯â€œä¸€å †ç£ç›˜â€ï¼ˆJust a Bunch of Disksï¼‰ã€‚JBOD é€šå¸¸æŒ‡ä¸¤ç§æƒ…å†µä¹‹ä¸€ï¼šå…¶ä¸€æ˜¯å¤šä¸ªç£ç›˜ç‹¬ç«‹å­˜åœ¨ï¼Œä¸åšä»»ä½• RAID æˆ–é€»è¾‘ç»„åˆï¼Œæ¯å—ç£ç›˜å„è‡ªä½œä¸ºå•ç‹¬å·ä½¿ç”¨ï¼›å…¶äºŒæ˜¯å°†å¤šä¸ªç‰©ç†ç£ç›˜çš„ç©ºé—´ç®€å•ç›¸åŠ åˆå¹¶æˆä¸€ä¸ªå¤§é€»è¾‘å·ï¼ˆæœ‰æ—¶ç§°ä¸º Span æˆ– Concatenation æ¨¡å¼ï¼‰ã€‚åè€…åœ¨æŸäº›æ“ä½œç³»ç»Ÿ &#x2F; æ§åˆ¶å™¨ä¸­ä¹Ÿè¢«ç§°ä¸º JBOD æ¨¡å¼ï¼Œå³æŠŠå¤šå—ç£ç›˜é¡ºåºæ‹¼æ¥æˆä¸€ä¸ªè™šæ‹Ÿç›˜ï¼Œä»¥å¢åŠ å•ä¸€å·çš„å®¹é‡ã€‚

ç©ºé—´è®¡ç®—æ–¹å¼ï¼šå¦‚æœæ˜¯ç‹¬ç«‹ç£ç›˜æ¨¡å¼ï¼Œæ¯å—ç›˜å®¹é‡ä¸å˜ï¼Œæ€»å®¹é‡ä¸ºå„ç›˜å®¹é‡æ€»å’Œï¼Œä½†åˆ†åˆ«å‘ˆç°ä¸ºå¤šä¸ªå·ï¼›å¦‚æœæ˜¯æ‹¼æ¥æ¨¡å¼ï¼Œæ‰€æœ‰ç›˜å®¹é‡ç®€å•ç´¯åŠ å‘ˆç°ä¸ºä¸€ä¸ªå·ã€‚å› æ­¤ JBOD æ¨¡å¼æ²¡æœ‰å†—ä½™å¼€é”€ï¼Œå¯ç”¨ç©ºé—´ç­‰äºç£ç›˜å®¹é‡æ€»å’Œï¼ˆæ‹¼æ¥æ—¶éœ€è¦æ‰€æœ‰ç›˜å°ºå¯¸ç›¸åŠ ï¼‰ã€‚éœ€è¦æ³¨æ„æ‹¼æ¥å·çš„å•ä¸€æ–‡ä»¶ç³»ç»Ÿè·¨è¶Šå¤šç›˜ï¼Œä¸€æ—¦å…¶ä¸­ä¸€ç›˜æ•…éšœï¼Œè¯¥å·çš„æ•°æ®å®Œæ•´æ€§å—åˆ°ç ´åã€‚
æ€§èƒ½ç‰¹æ€§ï¼šJBODï¼ˆç‹¬ç«‹ç›˜ï¼‰ä¸æä¾›ä»»ä½•æ€§èƒ½èšåˆï¼Œæ¯å—ç£ç›˜æ€§èƒ½ç‹¬ç«‹ï¼›åœ¨æ‹¼æ¥æ¨¡å¼ä¸‹ï¼Œæ•°æ®é¡ºåºå†™æ»¡ç¬¬ 1 ç›˜å†å†™ç¬¬ 2 ç›˜ï¼Œä»¥æ­¤ç±»æ¨ã€‚å› æ­¤å¯¹äºé¡ºåº I&#x2F;Oï¼Œå½“å†™æ»¡å‰ä¸€ç›˜è½¬ç§»åˆ°ä¸‹ä¸€ç›˜æ—¶ï¼Œå¯èƒ½å‡ºç°çŸ­æš‚å»¶è¿Ÿï¼Œæ€»ä½“æ€§èƒ½åŸºæœ¬ä¸å•ç›˜ç›¸å½“ã€‚æ²¡æœ‰å¹¶è¡Œæ¡å¸¦ï¼Œä¹Ÿæ— æ ¡éªŒè®¡ç®—ï¼ŒIOPS å’Œååä¸ä¼šè¶…å‡ºå•ç›˜èŒƒå›´ï¼ˆé™¤éå¤šä¸ªç‹¬ç«‹ç›˜å¹¶è¡ŒæœåŠ¡ä¸åŒè¯·æ±‚ï¼Œé‚£åªæ˜¯å› ä¸ºæ“ä½œç³»ç»Ÿçœ‹åˆ°å¤šå·å¹¶è°ƒåº¦å®ƒä»¬å¹¶è¡Œï¼‰ã€‚æ¢å¥è¯è¯´ï¼ŒJBOD ä¸æå‡æ€§èƒ½ï¼Œä¹Ÿä¸ä¼šåƒ RAID é‚£æ ·æœ‰å†™å…¥æƒ©ç½šæˆ–æ ¡éªŒå¼€é”€ã€‚å®ƒçš„æ€§èƒ½ç‰¹å¾è¿‘ä¼¼äº RAID 0 åœ¨æ²¡æœ‰å¹¶è¡Œä¼˜åŠ¿çš„æƒ…å†µä¸‹ï¼šæ²¡æœ‰å†—ä½™ä¹Ÿæ²¡æœ‰æ€§èƒ½ä¼˜åŒ–ã€‚
å†—ä½™ä¸å®¹é”™ï¼šJBOD ä¸æä¾›å†—ä½™ã€‚ç‹¬ç«‹ç£ç›˜åœºæ™¯ä¸‹ï¼Œæ¯å—ç›˜æ•…éšœåªå½±å“è¯¥ç›˜çš„æ•°æ®ï¼Œå…¶å®ƒç›˜ä¸å—å½±å“ï¼ˆå› ä¸ºæ²¡æœ‰å…³è”ï¼‰ï¼›æ‹¼æ¥å·åœºæ™¯ä¸‹ï¼Œä»»æ„ä¸€ç›˜æ•…éšœéƒ½ä¼šå¯¼è‡´æ•´ä¸ªé€»è¾‘å·çš„æ•°æ®ä¸å®Œæ•´ï¼ˆå·å°†æŸåï¼Œä½äºæ•…éšœç›˜ä¹‹åçš„æ•°æ®å…¨éƒ¨ä¸¢å¤±ï¼‰ã€‚å› æ­¤ JBODï¼ˆæ‹¼æ¥æ¨¡å¼ï¼‰çš„æ•…éšœåŸŸå’Œ RAID 0 ç›¸å½“ï¼šä¸€ç›˜ååˆ™æ•´ä¸ªå·ä¸å¯ç”¨ã€‚æ•°æ®æ¢å¤åªèƒ½é’ˆå¯¹å•ç›˜è¿›è¡Œï¼ˆç‹¬ç«‹æ¨¡å¼ï¼‰æˆ–å°è¯•éƒ¨åˆ†æ¢å¤ï¼ˆæ‹¼æ¥æ¨¡å¼é€šå¸¸éš¾ä»¥æ¢å¤å®Œæ•´å·ï¼Œåªèƒ½æ ¹æ®å¤‡ä»½è¿˜åŸï¼‰ã€‚
ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œæ— éœ€ä¸“é—¨ RAID æ§åˆ¶ï¼›å®¹é‡åˆ©ç”¨ç‡ 100% æ²¡æœ‰æŸå¤±ï¼›å¯ä»¥æ··åˆä¸åŒå¤§å°çš„ç£ç›˜æ‹¼æ¥åˆ©ç”¨æ¯ä¸€å­—èŠ‚ç©ºé—´ï¼›å¯¹äºä¸€äº›ä¸éœ€è¦æ€§èƒ½æå‡ä¸”æ›´å…³æ³¨å®¹é‡åˆ©ç”¨çš„åœºåˆï¼Œæ˜¯ç§çµæ´»é€‰æ‹©ã€‚ç‹¬ç«‹ç›˜æ–¹å¼ä¸‹æŸç›˜æ•…éšœä¸å½±å“å…¶ä»–ç›˜çš„æ•°æ®ã€‚
ç¼ºç‚¹ï¼šæ— ä»»ä½•å†—ä½™ä¿æŠ¤ï¼Œå¯é æ€§ä½ï¼›æ‹¼æ¥åçš„å·ä¸€ç›˜æŸåå¯èƒ½å¯¼è‡´æ•´ä¸ªå·æ–‡ä»¶ç³»ç»Ÿå´©æºƒï¼›ä¸æä¾›æ€§èƒ½æå‡ï¼›ç®¡ç†ä¸Šå¤šä¸ªç‹¬ç«‹ç›˜ç¼ºä¹æ•´åˆï¼Œæˆ–è€…æ‹¼æ¥ç›˜å¯¹æ•…éšœéå¸¸æ•æ„Ÿã€‚
å…¸å‹åº”ç”¨åœºæ™¯ï¼šJBOD å¸¸ç”¨äºä¸´æ—¶æ€§æˆ–éå…³é”®æ•°æ®å­˜å‚¨ï¼Œä»¥åŠéœ€è¦å°†è‹¥å¹²æ‚ä½™ç¡¬ç›˜å®¹é‡æ±‡èšèµ·æ¥çš„æƒ…å†µã€‚ä¾‹å¦‚ä¸ªäººç”¨æˆ·å°†æ•°å—æ—§ç¡¬ç›˜æ‹¼æˆä¸€ä¸ªå¤§å·æ¥å­˜æ”¾åª’ä½“æ–‡ä»¶ã€ä¸‹è½½æ–‡ä»¶ç­‰éé‡è¦æ•°æ®ï¼›æˆ–è€…ä¸€äº›ç®€å•å¤‡ä»½ï¼ŒæŠŠä¸åŒæ•°æ®åˆ†åˆ«å­˜å‚¨åœ¨ä¸åŒç‹¬ç«‹ç£ç›˜ä¸Šã€‚è®¸å¤š NAS è®¾å¤‡æä¾› JBOD æ¨¡å¼ä¾›ç”¨æˆ·åœ¨ä¸éœ€è¦ RAID æ—¶ä½¿ç”¨å…¨éƒ¨å®¹é‡ã€‚ä½†æ€»çš„æ¥è¯´ï¼ŒJBOD ç”±äºç¼ºä¹å†—ä½™ï¼Œåœ¨ä»»ä½•é‡è¦åœºæ™¯ä¸‹éƒ½åº”è°¨æ…å¯¹å¾…ï¼Œç¡®ä¿æœ‰é¢å¤–çš„æ•°æ®å¤‡ä»½ã€‚

RAID-DP â€“ åŒå¥‡å¶æ ¡éªŒçš„ä¸“æœ‰å®ç° (NetApp RAID-DP)RAID-DPï¼ˆDouble Parity RAIDï¼‰æ˜¯å­˜å‚¨å‚å•† NetApp å¼•å…¥çš„ä¸€ç§ä¸“æœ‰ RAID å®ç°ï¼Œå¯è§†ä¸º RAID 6 çš„ä¸€ç§å˜ä½“ã€‚RAID-DP ä½¿ç”¨äº†åŒé‡å¥‡å¶æ ¡éªŒæœºåˆ¶æ¥æä¾›æ›´é«˜çš„æ•°æ®ä¿æŠ¤èƒ½åŠ›ï¼Œèƒ½å¤Ÿåœ¨ä¸¤å—ç£ç›˜åŒæ—¶å¤±æ•ˆçš„æƒ…å†µä¸‹ä»ç„¶ä¿è¯æ•°æ®å®Œå¥½ã€‚ä¸æ ‡å‡† RAID 6 ç±»ä¼¼ï¼ŒRAID-DP åœ¨æ¯ä¸ª RAID ç»„ä¸­æŒ‡å®šäº†ä¸¤å—ç›˜ä½œä¸ºå¥‡å¶æ ¡éªŒç›˜ï¼Œç”¨æ¥å­˜å‚¨ä¸¤ç§ä¸åŒç®—æ³•è®¡ç®—çš„æ ¡éªŒä¿¡æ¯ã€‚ä¸åŒä¹‹å¤„åœ¨äºï¼ŒNetApp çš„ RAID-DP åŸºäºå…¶ WAFL æ–‡ä»¶ç³»ç»Ÿå’Œ RAID4 æ¶æ„åšäº†ä¼˜åŒ–ï¼Œä½¿æ€§èƒ½æŸå¤±è¾ƒå°ã€‚

ç©ºé—´è®¡ç®—æ–¹å¼ï¼šRAID-DP æ¯ä¸ªé˜µåˆ—ç»„æ‹¥æœ‰ä¸¤å—ä¸“ç”¨å¥‡å¶æ ¡éªŒç›˜ã€‚å¯ç”¨å®¹é‡ &#x3D; (æ€»ç›˜æ•° - 2) Ã— å•ç›˜å®¹é‡ï¼Œå’Œ RAID 6 ç›¸åŒçš„è®¡ç®—æ–¹æ³•ã€‚å¦‚æœä¸€ä¸ª NetApp èšåˆï¼ˆaggregateï¼‰ä½¿ç”¨ RAID-DPï¼Œä¾‹å¦‚æœ‰ 10 å—ç›˜ï¼Œåˆ™å…¶ä¸­ 2 ç›˜ä¸ºå¥‡å¶æ ¡éªŒï¼Œ8 ç›˜ç”¨äºæ•°æ®ï¼ˆåˆ©ç”¨ç‡ 80%ï¼‰ã€‚NetApp é€šå¸¸å»ºè®® RAID-DP ç»„å¤§å°åœ¨ä¸€å®šèŒƒå›´å†…ï¼ˆå¦‚ 12ï½20 ä¸ª HDD ä¸ºä¸€ç»„ï¼‰ï¼Œä»¥å¹³è¡¡å¥‡å¶å¼€é”€å’Œé‡å»ºæ—¶é—´ã€‚
æ€§èƒ½ç‰¹æ€§ï¼šNetApp å®£ç§° RAID-DP çš„æ€§èƒ½ä¸ RAID 10 ç›¸è¿‘ï¼Œåœ¨å¤šæ•°æƒ…å†µä¸‹å¹¶ä¸ä¼šæ¯” RAID 4&#x2F;RAID 5 æœ‰æ˜æ˜¾ä¸‹é™ã€‚è¿™æ˜¯å› ä¸º NetApp çš„å®ç°åˆ©ç”¨ NVRAM ç­‰æœºåˆ¶ï¼Œä¼˜åŒ–äº†å†™å…¥è·¯å¾„ï¼Œé¿å…äº†ä¼ ç»Ÿ RAID 6 é‚£ç§æ¯æ¬¡æ›´æ–°éœ€è¦å¤§é‡åŒæ­¥ IO çš„é—®é¢˜ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼ŒRAID-DP çš„é¡ºåºè¯»å†™æ€§èƒ½ä¸ RAID 4 æ¥è¿‘ï¼ˆå› ä¸ºæœ¬è´¨æ¶æ„ä»æ˜¯ç±»ä¼¼ RAID4ï¼Œåªæ˜¯å¤šä¸€ä¸ªæ ¡éªŒç›˜ï¼‰ï¼›éšæœºå†™ç”±äºåŒæ ¡éªŒï¼Œéœ€è¦ç•¥å¤šè®¡ç®—ï¼Œä½† NetApp é€šè¿‡å¹¶è¡Œå’Œç¼“å­˜å°†å…¶å½±å“é™åˆ°æå°ã€‚æ€»ä½“è€Œè¨€ï¼Œåœ¨ NetApp å­˜å‚¨ç³»ç»Ÿä¸Šï¼Œå¯ç”¨ RAID-DP ä¸ä¼šå¯¹æ€§èƒ½é€ æˆæ˜¾è‘—ç“¶é¢ˆï¼ŒåŒæ—¶æ˜¾è‘—æé«˜äº†å®¹é”™èƒ½åŠ›ã€‚
å†—ä½™ä¸å®¹é”™ï¼šRAID-DP èƒ½å®¹å¿åŒæ—¶ä¸¤ç›˜å¤±æ•ˆè€Œæ•°æ®ä¸ä¸¢å¤±ã€‚è¿™ä¸€ç‚¹ä¸ RAID 6 ä¸€è‡´ã€‚åœ¨ NetApp ç³»ç»Ÿä¸­ï¼ŒRAID-DP å·²æˆä¸ºé»˜è®¤ RAID ç±»å‹ã€‚å½“ä¸€ç›˜æŸåæ—¶ï¼Œåˆ©ç”¨å‰©ä½™æ•°æ® + 2 æ ¡éªŒå¯æ¢å¤ï¼›ä¸¤ç›˜æŸåäº¦å¯é€šè¿‡å‰©ä½™ç›˜å’Œæ ¡éªŒé‡å»ºä¸¤ç›˜æ•°æ®ã€‚åªæœ‰å½“è¶…è¿‡ä¸¤ç›˜åŒæ—¶æŸåæˆ–åœ¨é‡å»ºè¿‡ç¨‹ä¸­åˆå‘ç”Ÿç¬¬ä¸‰ç›˜æ•…éšœï¼Œæ•°æ®æ‰ä¼šä¸å¯æ¢å¤ã€‚NetApp çš„ RAID-DP è¿˜é…åˆäº†çƒ­å¤‡ç›˜ï¼ˆHot Spareï¼‰å’Œé¢„é˜²æ€§æ•…éšœæ£€æµ‹ç­‰ç­–ç•¥ï¼Œè¿›ä¸€æ­¥é™ä½äº†é˜µåˆ—å´©æºƒæ¦‚ç‡ã€‚
ä¼˜ç‚¹ï¼šæä¾›æ¥è¿‘ RAID 10 çš„æ€§èƒ½ä»¥åŠè¿œé«˜äº RAID 5 çš„å¯é æ€§ï¼ˆåŒç›˜å†—ä½™ï¼‰ï¼Œåœ¨ä¼ä¸šå­˜å‚¨ç¯å¢ƒä¸­éå¸¸å®ç”¨ï¼›ç›¸æ¯”é•œåƒå†—ä½™ï¼Œå­˜å‚¨æ•ˆç‡é«˜å¾—å¤šï¼ˆä»… 2 ç›˜å†—ä½™å¼€é”€å¯ä¿æŠ¤å¤§é‡æ•°æ®ç›˜ï¼‰ï¼›NetApp å®ç°æœ‰è®¸å¤šä¼˜åŒ–ä½¿å¾—é‡å»ºå¿«é€Ÿä¸”å¯¹ä¸šåŠ¡å½±å“å°ã€‚å¯¹äºéœ€è¦é«˜å¯é æ€§åˆè¦å…¼é¡¾å®¹é‡åˆ©ç”¨çš„åœºæ™¯ï¼ŒRAID-DP æ˜¯ä¸€ä¸ªç†æƒ³é€‰æ‹©ã€‚
ç¼ºç‚¹ï¼šä½œä¸º NetApp çš„ä¸“æœ‰æŠ€æœ¯ï¼ŒRAID-DP å¹¶éæ‰€æœ‰å¹³å°éƒ½æ”¯æŒï¼›å…¶ç†å¿µç±»ä¼¼ RAID 6ï¼Œå› æ­¤å¦‚æœè„±ç¦» NetApp ç¯å¢ƒï¼Œè½¯ä»¶å®ç° RAID-DP çš„æ€§èƒ½ä¼šæœ‰ä¸ä¸€èˆ¬ RAID 6 ç›¸ä¼¼çš„å¼€é”€ï¼›åªèƒ½ç”±ç‰¹å®šå­˜å‚¨ç³»ç»Ÿä½¿ç”¨ï¼Œçµæ´»æ€§ä¸å¦‚é€šç”¨ RAID æ–¹æ¡ˆã€‚
å…¸å‹åº”ç”¨åœºæ™¯ï¼šRAID-DP å‡ ä¹åº”ç”¨äºæ‰€æœ‰ NetApp ONTAP å­˜å‚¨ç³»ç»Ÿä¸­ï¼Œä»ä¸­ç«¯çš„ FAS é˜µåˆ—åˆ°é«˜ç«¯å­˜å‚¨ï¼Œéƒ½é»˜è®¤é‡‡ç”¨ RAID-DP æ¥æ„å»ºåº•å±‚ RAID ç¾¤ç»„ï¼Œä»¥ä¿æŠ¤ä¼ä¸šæ•°æ®å®‰å…¨ã€‚é€‚åˆéœ€è¦æé«˜å¯ç”¨æ€§ä¸”ä½¿ç”¨ NetApp æ–¹æ¡ˆçš„åœºæ™¯ï¼Œæ¯”å¦‚å¤§å‹ä¼ä¸šæ–‡ä»¶å­˜å‚¨ã€è™šæ‹ŸåŒ–ç¯å¢ƒã€æ•°æ®åº“å­˜å‚¨ç­‰ã€‚åœ¨ NetApp ä¹‹å¤–ï¼Œä¸€èˆ¬ç”¨â€œRAID6â€å®ç°ç±»ä¼¼åŠŸèƒ½ï¼›ä½† NetApp RAID-DP çš„æˆåŠŸä¹Ÿå½±å“äº†ä¸šç•Œå¯¹åŒå¥‡å¶æ ¡éªŒ RAID çš„æ¥å—åº¦ï¼Œå¦‚ä»ŠåŒæ ¡éªŒå·²æˆä¸ºä¼ä¸šçº§å­˜å‚¨çš„æ ‡å‡†é…ç½®ä¹‹ä¸€ã€‚

RAID-Z â€“ åŠ¨æ€æ¡å¸¦çš„ ZFS RAID å®ç°RAID-Z æ˜¯å¼€æº ZFS æ–‡ä»¶ç³»ç»Ÿä¸­ç‰¹æœ‰çš„å†—ä½™ç£ç›˜é˜µåˆ—å®ç°ï¼Œå¯ä»¥çœ‹ä½œå¯¹åº”äºä¼ ç»Ÿ RAID 5&#x2F;6 çš„æ–°å‹å˜ç§ã€‚RAID-Z çš„è®¾è®¡ç›®æ ‡æ˜¯åœ¨æä¾›å¥‡å¶æ ¡éªŒå†—ä½™çš„åŒæ—¶æ¶ˆé™¤ RAID 5 çš„â€œå†™å…¥æ¼æ´â€é—®é¢˜ã€‚ZFS ç»“åˆæ–‡ä»¶ç³»ç»Ÿå’Œè®¾å¤‡ç®¡ç†ï¼Œå°†å†™å…¥æ“ä½œæ•´åˆæˆäº‹åŠ¡ï¼Œæ¯æ¬¡å†™å…¥æ—¶åŠ¨æ€å†³å®šæ¡å¸¦å®½åº¦ï¼Œä½¿æ‰€æœ‰å†™å…¥éƒ½æ˜¯å…¨æ¡å¸¦å†™å…¥ã€‚å› æ­¤ä¸ä¼šå‡ºç°ä¼ ç»Ÿ RAID åœ¨æœªå†™æ»¡ä¸€ä¸ªæ¡å¸¦æ—¶æ›´æ–°å¥‡å¶æ ¡éªŒå¯èƒ½å¯¼è‡´çš„ä¸ä¸€è‡´é—®é¢˜ï¼ˆå³ RAID-5 Write Holeï¼‰ã€‚
RAID-Z æ ¹æ®å†—ä½™ç¨‹åº¦ä¸åŒåˆ†ä¸ºä¸‰çº§ï¼šRAID-Z1ï¼ˆå•å¥‡å¶æ ¡éªŒï¼Œç›¸å½“äº RAID5ï¼‰ã€RAID-Z2ï¼ˆåŒå¥‡å¶æ ¡éªŒï¼Œç›¸å½“äº RAID6ï¼‰ã€RAID-Z3ï¼ˆä¸‰å¥‡å¶æ ¡éªŒï¼‰ã€‚

ç©ºé—´è®¡ç®—æ–¹å¼ï¼šRAID-Z1&#x2F;Z2&#x2F;Z3 çš„å¯ç”¨å®¹é‡ç±»ä¼¼äº RAID5&#x2F;6 é€»è¾‘ï¼šåˆ†åˆ«æŸå¤± 1ã€2ã€3 å—ç›˜ç©ºé—´ç”¨äºå†—ä½™æ ¡éªŒã€‚ä¾‹å¦‚ï¼Œ6 ç›˜ RAID-Z2 å¯ç”¨å®¹é‡çº¦ç­‰äº 4 ç›˜æ€»å’Œï¼ˆæŸå¤± 2 ç›˜å®¹é‡ï¼‰ï¼›10 ç›˜ RAID-Z3 å¯ç”¨å®¹é‡çº¦ç­‰äº 7 ç›˜æ€»å’Œï¼ˆæŸå¤± 3 ç›˜å®¹é‡ï¼‰ã€‚ZFS è¦æ±‚ä¸€ä¸ª RAID-Z vdevï¼ˆç±»ä¼¼äº RAID ç»„ï¼‰çš„æ‰€æœ‰æˆå‘˜ç›˜å¤§å°æœ€å¥½ä¸€è‡´ï¼Œå¦åˆ™ä¼šæµªè´¹é¢å¤–ç©ºé—´å¡«å……å¯¹é½ã€‚åœ¨å®¹é‡è®¡ç®—ä¸Šï¼ŒZFS è¿˜å…è®¸åŠ¨æ€æ‰©å±•ï¼ˆRAID-Z Expansion åŠŸèƒ½ï¼Œæœªæ¥å¯ä»¥é€šè¿‡å¢åŠ ç›˜æ¥æ‰©å®¹é˜µåˆ—ï¼‰ã€‚
æ€§èƒ½ç‰¹æ€§ï¼šRAID-Z çš„è¯»å–æ€§èƒ½ä¸ä¼ ç»Ÿ RAID 5&#x2F;6 ç±»ä¼¼ï¼Œåœ¨å•å—ç›˜å‘ç”Ÿæ•…éšœå‰ï¼Œè¯»å–é€šå¸¸åªè®¿é—®æ•°æ®ç›˜ï¼Œä¸éœ€é¢å¤–è®¡ç®—ï¼›é¡ºåºè¯»å–å¤šä¸ªç›˜å¹¶è¡Œï¼Œæ€§èƒ½æ¥è¿‘æ¡å¸¦åŒ–é˜µåˆ—ã€‚å†™å…¥æ€§èƒ½æ–¹é¢ï¼Œç”±äº RAID-Z ç¡®ä¿æ¯æ¬¡å†™å…¥éƒ½æ˜¯å®Œæ•´æ¡å¸¦å†™å…¥ï¼ˆé€šè¿‡æ”¶é›†è¶³å¤Ÿæ•°æ®æˆ–å¡«å……æ¥é¿å…éƒ¨åˆ†æ¡å¸¦æ›´æ–°ï¼‰ï¼Œå› æ­¤é¿å…äº†å°å†™å…¥åå¤è¯»æ”¹å†™æ ¡éªŒçš„å¼€é”€ã€‚è¿™ä½¿ RAID-Z åœ¨åº”å¯¹éšæœºåŒæ­¥å†™å…¥æ—¶æ¯”ä¼ ç»Ÿ RAID 5 æœ‰æ›´å¥½çš„æ€§èƒ½å’Œä¸€è‡´æ€§ã€‚åŒæ—¶ ZFS çš„ ARC ç¼“å­˜å’Œå†™æ—¥å¿—ï¼ˆZILï¼‰ä¹Ÿæé«˜äº†å†™å…¥æ•ˆç‡ã€‚æ€»ä½“æ¥è¯´ï¼ŒRAID-Z çš„æ€§èƒ½ç›¸å¯¹äº RAID 5&#x2F;6 æœ‰æ‰€æ”¹è¿›ï¼Œå°¤å…¶åœ¨å´©æºƒåæ— éœ€æ‹…å¿ƒæ•°æ®å’Œå¥‡å¶ä¸ä¸€è‡´ï¼Œå¯ç›´æ¥ç»§ç»­å·¥ä½œæˆ–å›æ»šäº‹åŠ¡ï¼Œå¯é æ€§å’Œæ€§èƒ½ç¨³å®šæ€§æ›´ä½³ã€‚
å†—ä½™ä¸å®¹é”™ï¼šRAID-Z1 å¯å®¹å¿ 1 ç›˜æ•…éšœï¼ŒRAID-Z2 å¯å®¹å¿ 2 ç›˜æ•…éšœï¼ŒRAID-Z3 åˆ™å¯å®¹å¿ 3 ç›˜åŒæ—¶æ•…éšœã€‚è¿™å¯¹åº”äºå„è‡ªå¥‡å¶æ ¡éªŒçš„æ•°é‡ã€‚å‘ç”Ÿæ•…éšœç›˜æ—¶ï¼ŒZFS ä¼šåˆ©ç”¨å¥‡å¶æ•°æ®å’Œå…¶ä»–ç›˜æ•°æ®åœ¨çº¿é‡å»ºä¸¢å¤±çš„æ•°æ®å—åˆ°çƒ­å¤‡ç›˜æˆ–æ–°ç›˜ã€‚åœ¨é‡å»ºè¿‡ç¨‹ä¸­ï¼ŒRAID-Z ä¾é  ZFS çš„æ ¡éªŒå’Œæœºåˆ¶ï¼Œå¯ä»¥ç¡®ä¿è¯»å–å‡ºçš„æ•°æ®æ­£ç¡®æ€§ï¼ˆZFS æ¯ä¸ªå—éƒ½æœ‰æ ¡éªŒå’Œï¼Œèƒ½å‘ç°æ•°æ®æŸåï¼‰ã€‚å¦‚æœå†æœ‰ç›˜æŸåè¶…è¿‡å†—ä½™èƒ½åŠ›ï¼Œåˆ™è¯¥ vdev å´©æºƒï¼Œæ¶‰åŠé‚£ä¸ª vdev çš„æ•°æ®æ± éƒ¨åˆ†ä¸å¯ç”¨ã€‚ä¸è¿‡ ZFS é€šå¸¸å¯ä»¥ç”±å¤šä¸ª vdev ç»„æˆæ± ï¼Œå•ä¸ª vdev æŒ‚æ‰ç›¸å½“äºæ± çš„ä¸€éƒ¨åˆ†æ•°æ®ä¸¢å¤±ï¼Œæ•´ä¸ªæ± ä¹Ÿå°±å¤±æ•ˆäº†ã€‚
ä¼˜ç‚¹ï¼šæ¶ˆé™¤äº† RAID-5 ç»å…¸é—®é¢˜ï¼ˆå†™å…¥æ¼æ´ï¼‰ï¼Œæ•°æ®ä¸€è‡´æ€§æ›´æœ‰ä¿éšœï¼›æ·±åº¦é›†æˆæ–‡ä»¶ç³»ç»Ÿçš„ä¼˜åŠ¿ï¼Œæ”¯æŒæ•°æ®è‡ªæ ¡éªŒã€è‡ªåŠ¨ä¿®å¤ï¼›æä¾›ä» 1 åˆ° 3 ç›˜çš„å†—ä½™é€‰æ‹©ï¼Œçµæ´»æ€§æ¯”ä¼ ç»Ÿ RAID é«˜ï¼›å†™å…¥æ€§èƒ½é’ˆå¯¹å° IO æœ‰æ‰€ä¼˜åŒ–ï¼›è¿˜èƒ½åœ¨çº¿æ‰©å±•é˜µåˆ—å®¹é‡ï¼ˆæ–°ç‰ˆæœ¬ ZFS æ”¯æŒ RAID-Z é€ç›˜å¢åŠ æ‰©å®¹ï¼‰ã€‚
ç¼ºç‚¹ï¼šRAID-Z å¯¹å†…å­˜è¦æ±‚è¾ƒé«˜ï¼ˆZFS æ•´ä½“è®¾è®¡éœ€è¦å¤§é‡å†…å­˜åšç¼“å­˜ï¼‰ï¼›åªæ”¯æŒåœ¨ ZFS æ–‡ä»¶ç³»ç»Ÿç¯å¢ƒä¸­ä½¿ç”¨ï¼Œä¸åƒç¡¬ä»¶ RAID é‚£æ ·é€šç”¨ï¼›å½“å‰ RAID-Z æ‰©å®¹é™åˆ¶è¾ƒå¤šï¼ˆéœ€è¦ä¸€æ¬¡æ€§å¢åŠ æ•´ç»„ç›˜æ‰èƒ½æ‰©å®¹ï¼Œç›´åˆ°æœ€è¿‘çš„æ–°ç‰¹æ€§æ‰å…è®¸é€ä¸ªå¢åŠ ç›˜ä½ï¼‰ï¼›ZFS ç®¡ç†å’Œè°ƒä¼˜æœ‰ä¸€å®šå­¦ä¹ æˆæœ¬ã€‚
å…¸å‹åº”ç”¨åœºæ™¯ï¼šRAID-Z å¹¿æ³›ç”¨äºå¼€æº NAS å’Œæ•°æ®å­˜å‚¨é¢†åŸŸï¼Œä¾‹å¦‚ FreeNAS&#x2F;TrueNAS ç­‰ ZFS ç³»ç»Ÿä¸­ã€‚ä¸ªäººå’Œä¼ä¸šç”¨æˆ·åˆ©ç”¨ ZFS çš„å…ˆè¿›ç‰¹æ€§ï¼ˆå¿«ç…§ã€å‹ç¼©ã€æ•°æ®å®Œæ•´æ€§ï¼‰æ¥æ„å»ºå¯é å­˜å‚¨ï¼ŒRAID-Z ä¸ºå…¶æä¾›äº†ç±»ä¼¼ RAID çš„å†—ä½™ä¿æŠ¤ã€‚å¸¸è§åœºæ™¯åŒ…æ‹¬å®¶ç”¨ NASã€å¤§å®¹é‡å¤‡ä»½æœåŠ¡å™¨ã€è™šæ‹Ÿæœºæ•°æ®å­˜å‚¨ã€å®¹å™¨å¹³å°æŒä¹…åŒ–å­˜å‚¨ç­‰ï¼Œç‰¹åˆ«æ˜¯å¯¹æ•°æ®å®Œæ•´æ€§è¦æ±‚é«˜çš„åœ°æ–¹ã€‚RAID-Z2 æ˜¯å¾ˆå¤š NAS é…ç½®ä¸­çš„æ¨èæ–¹æ¡ˆï¼Œå› ä¸ºå®ƒåœ¨å®¹é‡å’Œå®‰å…¨æ€§ä¸Šå¹³è¡¡è¾ƒå¥½ï¼›RAID-Z3 åˆ™ç”¨äºéœ€è¦æé«˜å®‰å…¨æ€§çš„ç¯å¢ƒï¼ˆæ¯”å¦‚å¤§å‹å­˜å‚¨é˜µåˆ—é˜²æ­¢ä¸‰ç›˜æ•…éšœï¼‰ã€‚æ€»çš„æ¥è¯´ï¼Œå¦‚æœé‡‡ç”¨ ZFSï¼ŒRAID-Z ç³»åˆ—æ˜¯é¦–é€‰çš„å†—ä½™æ–¹æ¡ˆã€‚

å„ RAID çº§åˆ«ç‰¹æ€§å¯¹æ¯”ä¸‹é¢çš„è¡¨æ ¼æ€»ç»“äº†ä¸»è¦ RAID çº§åˆ«çš„å…³é”®ç‰¹æ€§ï¼ŒåŒ…æ‹¬æ‰€éœ€æœ€å°‘ç£ç›˜æ•°ã€æœ€å¤§å®¹é”™ï¼ˆå¯å®¹å¿çš„åŒæ—¶æ•…éšœç£ç›˜æ•°ï¼‰ã€å¯ç”¨å®¹é‡è®¡ç®—ã€ä»¥åŠç›¸å¯¹çš„è¯»å†™æ€§èƒ½è¡¨ç°å’Œå…¸å‹åº”ç”¨åœºæ™¯ï¼Œä¾¿äºå¯¹æ¯”ä¸åŒæ–¹æ¡ˆï¼š



RAID çº§åˆ«
æœ€å°‘ç¡¬ç›˜æ•°
æœ€å¤§å®¹é”™ (æ•…éšœç›˜)
å¯ç”¨å®¹é‡ (ä»¥å•ç›˜å®¹é‡ S è®¡)
è¯»æ€§èƒ½ (é¡ºåº &#x2F; å¹¶å‘)
å†™æ€§èƒ½ (é¡ºåº &#x2F; éšæœº)
å…¸å‹åº”ç”¨åœºæ™¯åŠç‰¹ç‚¹



JBOD
1
0ï¼ˆæ— å†—ä½™ï¼‰
n Ã— Sï¼ˆæ‰€æœ‰ç›˜ä¹‹å’Œï¼‰
â‰ˆ å•ç›˜ (æ— å¹¶è¡Œæå‡)
â‰ˆ å•ç›˜ (æ— æ ¡éªŒå¼€é”€)
éå…³é”®æ•°æ®çš„å®¹é‡æ±‡èšï¼Œä¸ªäººä¸´æ—¶å­˜å‚¨ã€‚æ— æ€§èƒ½å¢ç›Šï¼Œæ•…éšœé£é™©åŒ RAID0ã€‚


RAID 0
2
0ï¼ˆæ— å†—ä½™ï¼‰
n Ã— S
n Ã— å•ç›˜ï¼ˆé¡ºåºï¼‰
n Ã— å•ç›˜ï¼ˆé¡ºåºï¼‰
å¹¶å‘è¯» &#x3D; nï¼Œéšæœºå†™ â‰ˆ å•ç›˜ã€‚è¿½æ±‚æœ€å¤§æ€§èƒ½å’Œå®¹é‡çš„åœºæ™¯ï¼Œå¦‚è§†é¢‘ç¼–è¾‘ä¸´æ—¶ç›˜ã€é«˜é€Ÿç¼“å­˜ç­‰ã€‚ä¸æ€•æ•°æ®ä¸¢å¤±ã€‚


RAID 1
2
n-1ï¼ˆé•œåƒç›˜æ•° - 1ï¼‰
1 Ã— Sï¼ˆä¸æœ€å°ç›˜ç›¸åŒï¼‰
â‰¤n Ã— å•ç›˜ï¼ˆè¯»å¯å¹¶è¡Œï¼‰
1 Ã— å•ç›˜ï¼ˆéœ€å†™å…¥é•œåƒï¼‰
æœ€é«˜æ•°æ®å®‰å…¨æ€§ï¼›ä¸ªäºº &#x2F; ä¼ä¸šé‡è¦æ•°æ®ã€ç³»ç»Ÿç›˜ã€‚ç£ç›˜åˆ©ç”¨ç‡ä½ã€‚


RAID 2
3
1
(â‰ˆ n - å¤šä¸ªæ ¡éªŒç›˜) Ã— S
æ‰€æœ‰ç›˜å¹¶è¡Œ (éœ€åŒæ­¥)
æ‰€æœ‰ç›˜å¹¶è¡Œ (é«˜ ECC å¼€é”€)
ç†è®ºçº§åˆ«ï¼Œé‡‡ç”¨ ECC æ±‰æ˜ç ã€‚å®é™…å¾ˆå°‘å®ç°ï¼Œäº†è§£æ¦‚å¿µä¸ºä¸»ã€‚


RAID 3
3
1
(n - 1) Ã— S
é«˜ â€“ å¤šç›˜å¹¶è¡Œé¡ºåºè¯»
ä½ â€“ å°éšæœºéœ€è¦å…¨ç›˜
ä¸­ â€“ é¡ºåºå†™å¹¶è¡Œï¼Œä½ â€“ æ ¡éªŒç›˜ç“¶é¢ˆ


RAID 4
3
1
(n - 1) Ã— S
ä¸­é«˜ â€“ å¹¶è¡Œè¯»ä¸åŒç›˜
ä¸­ç­‰ â€“ å†™å—é™äºæ ¡éªŒç›˜
å¾ˆå°‘å•ç‹¬ä½¿ç”¨ï¼Œæ›¾ç”¨äºç‰¹å®šå­˜å‚¨ç³»ç»Ÿã€‚æ€§èƒ½ä»‹äº RAID3 å’Œ 5 ä¹‹é—´ã€‚


RAID 5
3
1
(n - 1) Ã— S
é«˜ â€“ è¿‘ä¼¼ (n-1) å€è¯»
ä¸­ç­‰ â€“ é¡ºåºå†™æ¥è¿‘ (n-1) å€ï¼Œéšæœºå†™æœ‰æ ¡éªŒå¼€é”€
å¸¸ç”¨æŠ˜è¡·æ–¹æ¡ˆï¼Œå…¼é¡¾æ€§èƒ½ã€å®¹é‡å’Œå®‰å…¨ï¼›ä¸ªäººå’Œå°å‹ä¼ä¸šå­˜å‚¨å¸¸ç”¨ã€‚


RAID 6
4
2
(n - 2) Ã— S
é«˜ â€“ è¿‘ä¼¼ (n-2) å€è¯»
ä¸­ä¸‹ â€“ å†™å…¥æœ‰åŒæ ¡éªŒè¾ƒå¤§å¼€é”€
åŒå†—ä½™ä¿éšœï¼Œé«˜å¯é ä¼ä¸šå­˜å‚¨å¸¸ç”¨ã€‚é€‚åˆå¤§å®¹é‡ã€å¤šç›˜ç¯å¢ƒï¼Œè¯»å¤šå†™å°‘è´Ÿè½½ã€‚


RAID 0+1
4
1 ç»„å¤±æ•ˆ
Â½ n Ã— S
é«˜ â€“ è¿‘ä¼¼ RAID0 æ€§èƒ½ (æ— æ•…éšœ)
é«˜ â€“ è¿‘ä¼¼ RAID0 æ€§èƒ½ (æ— æ•…éšœ)
å…ˆæ¡å¸¦åé•œåƒã€‚æ€§èƒ½ä½³ä½†æ•…éšœåé£é™©é«˜ã€‚å®é™…ä¸å¸¸ç”¨ï¼Œé€šå¸¸ç”¨ RAID10 ä»£æ›¿ã€‚


RAID 1+0
4
æ¯ç»„ 1 ç›˜
Â½ n Ã— S
é«˜ â€“ æ¥è¿‘ RAID0ï¼Œéšæœºè¯»è¡¨ç°ä¼˜ç§€
é«˜ â€“ ç•¥ä½äº RAID0ï¼Œéšæœºå†™å¤§å¹…ä¼˜äº RAID5&#x2F;6
ç»¼åˆæ€§èƒ½å’Œå®¹é”™å‡ä¼˜ç§€ã€‚é€‚åˆæ•°æ®åº“ç­‰é«˜ I&#x2F;O åº”ç”¨ã€‚å¯æ‰¿å—éåŒç»„å¤šç›˜æ•…éšœã€‚


RAID 50
6
æ¯ç»„ 1 ç›˜
(n - ç»„æ•°) Ã— S
é«˜ â€“ å¤šç»„å¹¶è¡Œï¼Œé¡ºåºè¯»å†™ä¼˜å¼‚
ä¸­ç­‰ â€“ ç»„å†…å†™æœ‰æ ¡éªŒï¼Œç»„é—´å¹¶è¡Œæå‡
å¤šç”¨äº &gt;6 ç›˜çš„å¤§å‹é˜µåˆ—ï¼Œæå‡æ€§èƒ½å’Œé‡å»ºå¹¶è¡Œåº¦ã€‚å®¹å¿å„ç»„å„ 1 ç›˜æ•…éšœã€‚


RAID 60
8
æ¯ç»„ 2 ç›˜
(n - 2Ã—ç»„æ•°) Ã— S
é«˜ â€“ å¤šç»„å¹¶è¡Œï¼Œé¡ºåºæ€§èƒ½ä½³
ä¸­ç­‰åä½ â€“ ç»„å†…åŒæ ¡éªŒå½±å“å†™å…¥
è¶…å¤§å‹é˜µåˆ—ä½¿ç”¨ï¼Œæä¾›åŒé‡å†—ä½™å’Œé«˜ååã€‚å®¹å¿å„ç»„å„ 2 ç›˜æ•…éšœã€‚


RAID-DP
3-?
2
(n - 2) Ã— S
é«˜ â€“ ç±»ä¼¼ RAID4&#x2F;5 æ°´å¹³
ä¸­ â€“ NetApp ä¼˜åŒ–åæ¥è¿‘ RAID10
NetApp ä¸“æœ‰åŒæ ¡éªŒ RAIDï¼Œä¼ä¸šå­˜å‚¨é»˜è®¤é…ç½®ã€‚æ€§èƒ½å‡ ä¹ä¸å‡ï¼Œå®‰å…¨æ€§é«˜ã€‚


RAID-Z1&#x2F;Z2&#x2F;Z3
3&#x2F;4&#x2F;5
1&#x2F;2&#x2F;3
(n - 1&#x2F;2&#x2F;3) Ã— S
é«˜ â€“ è¿‘ä¼¼ RAID5&#x2F;6 è¯»æ€§èƒ½
ä¸­ â€“ åŠ¨æ€æ¡å¸¦æ”¹å–„å°å†™æ€§èƒ½
ZFS æ–‡ä»¶ç³»ç»Ÿä¸“ç”¨ï¼Œæ¶ˆé™¤ RAID5 å†™æ¼æ´ã€‚å•ç›˜åˆ°ä¸‰ç›˜å†—ä½™å¯é€‰ï¼Œé€‚åˆ NASã€‚


è¡¨æ³¨ï¼šä¸Šè¡¨ä¸­ n è¡¨ç¤ºé˜µåˆ—ä¸­ç£ç›˜æ€»æ•°ã€‚è¯»å†™æ€§èƒ½ä»¥ç›¸å¯¹äºå•ç›˜çš„ç†è®ºå€¼è¡¨ç¤ºï¼Œå®é™…æ•ˆèƒ½ä¼šå› å®ç°ç®—æ³•å’Œå·¥ä½œè´Ÿè½½ä¸åŒè€Œæœ‰æ‰€å·®å¼‚ã€‚RAID 10&#x2F;50&#x2F;60 ç­‰ç»„åˆçº§åˆ«çš„å®¹é‡å…¬å¼éœ€æ ¹æ®å…·ä½“åˆ†ç»„æ–¹å¼è®¡ç®—ï¼Œè¡¨ä¸­ç»™å‡ºçš„å…¬å¼å‡å®šå„ç»„å¤§å°å‡ç­‰ä¸”ä½¿ç”¨æ ‡å‡†å¥‡å¶ç®—æ³•ã€‚JBOD åˆ—å‡ºçš„æ€§èƒ½å’Œå®‰å…¨æ€§ç±»ä¼¼äºä¸å¸¦å†—ä½™çš„ RAID 0ã€‚
RAID çš„å®ç°ä¸é…ç½®æ–¹æ³•RAID å¯é€šè¿‡è½¯ä»¶æˆ–ç¡¬ä»¶ä¸¤ç§æ–¹å¼å®ç°ã€‚è½¯ä»¶ RAID ç”±æ“ä½œç³»ç»Ÿæˆ–è½¯ä»¶å±‚ç®¡ç†é˜µåˆ—ï¼›ç¡¬ä»¶ RAID åˆ™ç”±ç‹¬ç«‹çš„ RAID æ§åˆ¶å™¨ï¼ˆåŒ…å«å¤„ç†å™¨ &#x2F; ç¼“å­˜ï¼‰æ¥ç®¡ç†é˜µåˆ—ï¼Œå¯¹ç³»ç»Ÿé€æ˜ã€‚ä¸‹é¢åˆ†åˆ«ä»‹ç»å¸¸è§çš„è½¯ä»¶ RAID é…ç½®å’Œç¡¬ä»¶ RAID é…ç½®æ–¹æ³•ã€‚
è½¯ä»¶ RAID é…ç½®Linux è½¯ä»¶ RAIDï¼ˆmdadmï¼‰åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œå¯ä½¿ç”¨å†…æ ¸æä¾›çš„å¤šè®¾å¤‡é˜µåˆ—é©±åŠ¨ï¼ˆmdï¼‰å’Œå·¥å…· mdadm æ¥åˆ›å»º RAIDã€‚é…ç½®æ­¥éª¤æ¦‚è¿°å¦‚ä¸‹ï¼š

å‡†å¤‡ç£ç›˜ &#x2F; åˆ†åŒºï¼šç¡®ä¿å¾…åŠ å…¥ RAID çš„ç¡¬ç›˜å·²è¿æ¥ï¼Œå¹¶å¯¹å®ƒä»¬è¿›è¡Œåˆ†åŒºï¼ˆå¯ç›´æ¥ä½¿ç”¨æ•´ç›˜æˆ–åˆ›å»ºç­‰å¤§çš„åˆ†åŒºï¼‰ã€‚å¤šä¸ªç£ç›˜æœ€å¥½å®¹é‡ç›¸è¿‘ï¼Œå¦åˆ™ RAID å®¹é‡ä¼šä»¥æœ€å°ç›˜ä¸ºå‡†ã€‚

åˆ›å»ºé˜µåˆ—ï¼šä½¿ç”¨ mdadm å‘½ä»¤åˆ›å»º RAID è®¾å¤‡ã€‚ä¾‹å¦‚ï¼Œè¦åˆ›å»ºä¸€ä¸ªåŒ…å« 3 å—ç£ç›˜çš„ RAID5 é˜µåˆ—ï¼Œå¯ä»¥æ‰§è¡Œï¼š
mdadm --create /dev/md0 --level=5 --raid-devices=3 /dev/sda1 /dev/sdb1 /dev/sdc1
å…¶ä¸­ /dev/md0 æ˜¯è™šæ‹Ÿé˜µåˆ—è®¾å¤‡ï¼Œ--level=5 æŒ‡å®š RAID5ï¼Œ--raid-devices=3 æŒ‡å®šæˆå‘˜æ•°ï¼Œåé¢åˆ—å‡ºç»„æˆé˜µåˆ—çš„åˆ†åŒºæˆ–ç£ç›˜ã€‚åˆ›å»ºå‘½ä»¤ä¼šè§¦å‘æ„å»ºè¿‡ç¨‹ï¼Œå†…æ ¸å¼€å§‹è®¡ç®—å¥‡å¶æ ¡éªŒå¹¶åˆå§‹åŒ–é˜µåˆ—ï¼ˆå¯ä»¥é€šè¿‡ watch cat /proc/mdstat æŸ¥çœ‹è¿›åº¦ï¼‰ã€‚

åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿå¹¶æŒ‚è½½ï¼šé˜µåˆ—è®¾å¤‡å»ºå¥½åï¼Œåƒå¯¹å¾…æ™®é€šç£ç›˜ä¸€æ ·æ ¼å¼åŒ–ï¼ˆä¾‹å¦‚ mkfs.ext4 /dev/md0ï¼‰ï¼Œç„¶åæŒ‚è½½åˆ°ç³»ç»ŸæŸä¸ªæŒ‚è½½ç‚¹å³å¯ä½¿ç”¨ã€‚

é…ç½®å¼€æœºè‡ªåŠ¨ç»„è£…ï¼šç¼–è¾‘ /etc/mdadm/mdadm.conf æ·»åŠ é˜µåˆ—ä¿¡æ¯ï¼Œå¹¶æ›´æ–° initramfsï¼ˆæŸäº›å‘è¡Œç‰ˆè‡ªåŠ¨å®Œæˆï¼‰ã€‚è¿™æ ·é‡å¯æ—¶é˜µåˆ—ä¼šè‡ªåŠ¨è£…é…ã€‚åŒæ—¶å¯åœ¨ /etc/fstab ä¸­æ·»åŠ é˜µåˆ—çš„æŒ‚è½½ä¿¡æ¯ç¡®ä¿è‡ªåŠ¨æŒ‚è½½ã€‚

ç›‘æ§å’Œç®¡ç†ï¼šmdadm ä¹Ÿç”¨äºåç»­ç®¡ç†ï¼Œå¦‚æŸ¥çœ‹çŠ¶æ€ï¼ˆmdadm -D /dev/md0ï¼‰ã€æ·»åŠ  &#x2F; ç§»é™¤ç£ç›˜ã€è®¾ç½®çƒ­å¤‡ç›˜ï¼ˆ--add å‘½ä»¤ï¼‰ç­‰ã€‚å½“é˜µåˆ—å‘ç”Ÿç£ç›˜æ•…éšœï¼Œmdadm ä¼šå‘é€å†…æ ¸äº‹ä»¶ï¼Œå¯é…ç½® mdadm --monitor æˆ–ç³»ç»Ÿæ—¥å¿—åŠæ—¶è·çŸ¥ã€‚æ›´æ¢æ•…éšœç›˜åï¼Œç”¨ mdadm --add å°†æ–°ç›˜åŠ å…¥é˜µåˆ—è¿›è¡Œé‡å»ºã€‚


Linux çš„è½¯ä»¶ RAID å…·æœ‰è‰¯å¥½æ€§èƒ½å’Œçµæ´»æ€§ï¼Œå¯ä»¥å®ç° 0,1,4,5,6,10 ç­‰çº§åˆ«ï¼Œç”šè‡³æ”¯æŒåœ¨è¿è¡Œä¸­è°ƒæ•´é˜µåˆ—ï¼ˆå¦‚æ‰©å®¹ RAID5ï¼‰ã€‚ä½†éœ€è¦æ¶ˆè€—ä¸»æœº CPU è¿›è¡Œæ ¡éªŒè®¡ç®—ã€‚åœ¨ç°ä»£ CPU æ€§èƒ½å……è£•çš„æƒ…å†µä¸‹ï¼Œä¸€èˆ¬ä¸­ä½è´Ÿè½½åœºæ™¯è½¯ä»¶ RAID ç»°ç»°æœ‰ä½™ã€‚
Windows è½¯ä»¶ RAIDï¼ˆå­˜å‚¨ç©ºé—´ &#x2F; åŠ¨æ€ç£ç›˜ï¼‰Windows æ“ä½œç³»ç»Ÿæä¾›äº†è½¯ä»¶ RAID åŠŸèƒ½ï¼Œä¸»è¦æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼š

åŠ¨æ€ç£ç›˜æ¨¡å¼ï¼ˆLegacyï¼‰ï¼šåœ¨æ—©æœŸ Windows å’Œå½“å‰ä¸“ä¸šç‰ˆ Windows ä¸­ï¼Œå¯é€šè¿‡â€œç£ç›˜ç®¡ç†â€å°†åŸºæœ¬ç£ç›˜è½¬æ¢ä¸ºåŠ¨æ€ç£ç›˜ï¼Œä»è€Œåˆ›å»ºå¸¦åŒºå·ï¼ˆStriped, RAID0ï¼‰ã€é•œåƒå·ï¼ˆMirrored, RAID1ï¼‰æˆ– RAID-5 å·ã€‚ä¾‹å¦‚ï¼Œåœ¨ç£ç›˜ç®¡ç†ä¸­é€‰æ‹©ä¸¤ä¸ªç©ºé—²ç£ç›˜åŒºå¯ä»¥åˆ›å»ºä¸€ä¸ªé•œåƒå·ï¼Œå®ç° RAID1ï¼›é€‰æ‹©ä¸‰å—åŠ¨æ€ç£ç›˜å¯åˆ›å»º RAID-5 å·ã€‚åŠ¨æ€ç£ç›˜çš„ RAID åŠŸèƒ½æ¯”è¾ƒåŸºç¡€ï¼Œä¾‹å¦‚ RAID5 å·ä»…åœ¨ Windows æœåŠ¡å™¨ &#x2F; ä¸“ä¸šç‰ˆå¯ç”¨ï¼Œä¸”ç®¡ç†ä¸å¦‚ç°ä»£æ–¹æ¡ˆä¾¿åˆ©ã€‚ç›®å‰å¾®è½¯ä¸å†å¢å¼ºåŠ¨æ€ç£ç›˜åŠŸèƒ½ã€‚
**å­˜å‚¨ç©ºé—´ (Storage Spaces)**ï¼šè¿™æ˜¯ Windows 8&#x2F;10 åŠ Windows Server æä¾›çš„å­˜å‚¨æ± åŠŸèƒ½ã€‚ç”¨æˆ·å¯ä»¥å°†å¤šå—ç£ç›˜åŠ å…¥ä¸€ä¸ªå­˜å‚¨æ± ï¼Œç„¶ååœ¨æ± ä¸Šåˆ›å»ºè™šæ‹Ÿç£ç›˜ï¼ŒæŒ‡å®šæ‰€éœ€çš„å®¹é”™æ¨¡å¼ï¼šä¾‹å¦‚â€œåŒå‘é•œåƒâ€ï¼ˆ2 ç›˜é•œåƒï¼Œç›¸å½“äº RAID1ï¼‰ã€â€œä¸‰å‘é•œåƒâ€ï¼ˆ3 å‰¯æœ¬ï¼‰ã€â€œå¥‡å¶â€ï¼ˆå•å¥‡å¶ RAID5 ç±»ä¼¼ï¼‰æˆ–â€œåŒå¥‡å¶â€ï¼ˆç±»ä¼¼ RAID6ï¼Œä¸¤ç›˜å†—ä½™ï¼‰ã€‚å­˜å‚¨ç©ºé—´æ”¯æŒç²¾ç®€é…ç½®å’Œè‡ªåŠ¨é‡æ–°å¹³è¡¡ç­‰åŠŸèƒ½ï¼Œä½¿ç”¨ PowerShell å¯ä»¥æ›´ç»†ç²’åº¦æ§åˆ¶åˆ—æ•°ï¼ˆæ¡å¸¦å®½åº¦ï¼‰ç­‰å‚æ•°ã€‚å¯¹äºä¸€èˆ¬ç”¨æˆ·ï¼Œé€šè¿‡æ§åˆ¶é¢æ¿æˆ–æœåŠ¡å™¨ç®¡ç†å™¨çš„å‘å¯¼å³å¯é…ç½®ã€‚ä¾‹å¦‚åˆ›å»ºä¸€ä¸ªåŒ…å« 4 ç›˜çš„å­˜å‚¨æ± ï¼Œå†æ–°å»ºä¸€ä¸ªâ€œåŒå¥‡å¶â€çš„è™šæ‹Ÿç›˜ï¼Œå³å¾—åˆ°ä¸€ä¸ªå…·æœ‰ä¸¤ç›˜å®¹é”™çš„å†—ä½™å·ï¼ˆç±»ä¼¼ RAID6 çš„åŠŸèƒ½ï¼‰ã€‚

Windows è½¯ä»¶ RAID çš„é…ç½®é€šå¸¸æ¯”è¾ƒç›´è§‚ï¼Œä½†éœ€è¦æ³¨æ„ç‰ˆæœ¬é™åˆ¶ï¼ˆå¦‚ Win10 å®¶ç”¨ç‰ˆä¸æ”¯æŒåˆ›å»ºé•œåƒå·ï¼‰ã€‚å­˜å‚¨ç©ºé—´åœ¨ Windows Server ç³»ç»Ÿä¸­åŠŸèƒ½æ›´å¼ºå¤§ï¼Œå¯æ›¿ä»£éƒ¨åˆ†ç¡¬ä»¶ RAID éœ€æ±‚ã€‚
å…¶ä»–è½¯ä»¶ RAID æ–¹æ¡ˆï¼šé™¤ä¸Šè¿°ï¼ŒæŸäº›æ“ä½œç³»ç»Ÿæˆ–åº”ç”¨ä¹Ÿæä¾›è½¯ä»¶ RAID èƒ½åŠ›ã€‚ä¾‹å¦‚ FreeBSD çš„ gmirror&#x2F;graidï¼ŒLinux çš„ LVM ä¹Ÿèƒ½åš striping æˆ–é•œåƒï¼ˆç»“åˆ md æ›´çµæ´»ï¼‰ï¼Œä»¥åŠ UNRAID ç­‰è½¯ä»¶å®šä¹‰å­˜å‚¨æ–¹æ¡ˆç­‰ã€‚åŸåˆ™ä¸Šè½¯ä»¶ RAID éƒ½ä¾èµ–ä¸»æœºèµ„æºè¿è¡Œï¼Œä¼˜åŠ¿æ˜¯æˆæœ¬ä½ã€çµæ´»æ–¹ä¾¿ã€‚
è½¯ä»¶ RAID é…ç½®è¦ç‚¹ï¼šä½¿ç”¨è½¯ä»¶ RAID éœ€ç¡®ä¿ç¡¬ç›˜è¿æ¥ç¨³å®šï¼ˆç›´è¿ SATA&#x2F;SAS æˆ– JBOD èƒŒæ¿ï¼‰ï¼Œå¹¶ç•™æ„ä¸è¦è®©ä¸»æ¿çš„å‡ RAID åŠŸèƒ½å’Œè½¯ä»¶ RAID å†²çªã€‚å°½é‡åœ¨å®‰è£…æ“ä½œç³»ç»Ÿä¹‹å‰è§„åˆ’å¥½é˜µåˆ—æˆ–ä½¿ç”¨èƒ½å¤Ÿåœ¨çº¿è¿ç§»çš„æ–¹æ¡ˆã€‚å®šæœŸç›‘æ§é˜µåˆ—çŠ¶æ€ï¼Œå°¤å…¶åœ¨æ¶ˆè´¹çº§æ“ä½œç³»ç»Ÿä¸Šè½¯ä»¶ RAID æ•…éšœé€šçŸ¥å¯èƒ½ä¸æ˜æ˜¾ï¼Œéœ€ä¸»åŠ¨æ£€æŸ¥ã€‚
ç¡¬ä»¶ RAID é…ç½®ç¡¬ä»¶ RAID ç”±ä¸“ç”¨çš„ RAID æ§åˆ¶å™¨å¡æˆ–ä¸»æ¿ä¸Šçš„ RAID èŠ¯ç‰‡è´Ÿè´£ç®¡ç†é˜µåˆ—ã€‚ç¡¬ä»¶ RAID æ§åˆ¶å™¨æœ‰è‡ªå·±çš„å¤„ç†å™¨å’Œç¼“å­˜ï¼Œèƒ½åœ¨é˜µåˆ—ä¸Šå®ç°å¤æ‚è¿ç®—ä¸”å¯¹æ“ä½œç³»ç»Ÿé€æ˜ï¼ˆOS çœ‹åˆ°çš„åªæ˜¯ä¸€å—â€œå¤§ç¡¬ç›˜â€ï¼‰ã€‚é…ç½®ç¡¬ä»¶ RAID ä¸€èˆ¬é€šè¿‡æ§åˆ¶å¡çš„ BIOS&#x2F;UEFI è®¾ç½®ç•Œé¢æˆ–å‚å•†æä¾›çš„ç®¡ç†è½¯ä»¶å®Œæˆï¼š

å®‰è£… RAID æ§åˆ¶å™¨ &#x2F; ç¡¬ç›˜è¿æ¥ï¼šå¯¹äºä¸»æ¿è‡ªå¸¦ RAIDï¼ˆå¦‚å¸¸è§çš„ Intel RSTã€AMD RAIDï¼‰ï¼Œåœ¨ BIOS ä¸­å¯ç”¨ RAID æ¨¡å¼å¹¶å°†ç¡¬ç›˜æ¥åˆ°ä¸»æ¿å¯¹åº”æ¥å£ä¸Šã€‚å¯¹äºç‹¬ç«‹ RAID å¡ï¼ˆå¦‚ Dell PERCã€LSI MegaRAID ç­‰ï¼‰ï¼Œå°†å¡æ’å…¥ PCIe æ’æ§½å¹¶è¿æ¥ç¡¬ç›˜ &#x2F; èƒŒæ¿ã€‚å¯åŠ¨æœåŠ¡å™¨æ—¶é€šå¸¸ä¼šæ˜¾ç¤º RAID å¡ BIOS æç¤ºï¼Œå¦‚â€œPress Ctrl+R to enter RAID Configurationâ€ã€‚
è¿›å…¥ RAID è®¾ç½®ç•Œé¢ï¼šæ ¹æ®æç¤ºæŒ‰ä¸‹ç‰¹å®šç»„åˆé”®è¿›å…¥ RAID æ§åˆ¶å™¨çš„å›ºä»¶é…ç½®èœå•ã€‚ä¸åŒå‚å•†ç•Œé¢ç•¥æœ‰ä¸åŒï¼Œä½†åŸºæœ¬æä¾›åˆ›å»ºé˜µåˆ—ã€åˆ é™¤é˜µåˆ—ã€æŸ¥çœ‹é˜µåˆ—ç­‰é€‰é¡¹ã€‚
åˆ›å»º RAID é˜µåˆ—ï¼šé€‰æ‹©â€œåˆ›å»ºé˜µåˆ—â€ï¼ˆCreate Array &#x2F; Create Virtual Disk ç­‰ï¼‰ã€‚ç„¶åé€‰æ‹©è¦åŒ…å«åœ¨é˜µåˆ—ä¸­çš„ç‰©ç†ç¡¬ç›˜é©±åŠ¨å™¨ã€‚é€šå¸¸å¯ä»¥é€‰æ‹©å°†æ‰€æœ‰å‰©ä½™ç›˜éƒ½åŠ å…¥ï¼Œæˆ–åªé€‰éƒ¨åˆ†ç›˜ã€‚
é€‰æ‹© RAID çº§åˆ«ï¼šåœ¨å¯ç”¨ RAID çº§åˆ«åˆ—è¡¨ä¸­ï¼Œé€‰å®šæ‰€éœ€çš„ RAID çº§åˆ«ï¼ˆ0, 1, 5, 6, 10, 50, 60 ç­‰ï¼Œå…·ä½“å–å†³äºæ§åˆ¶å™¨å‹å·æ”¯æŒï¼‰ã€‚æ§åˆ¶å™¨ä¼šæ ¹æ®æ‰€é€‰çº§åˆ«å’Œç¡¬ç›˜æ•°éªŒè¯æ˜¯å¦å¯è¡Œï¼ˆä¾‹å¦‚é€‰ RAID5 éœ€è¦è‡³å°‘ 3 ç›˜ï¼‰ã€‚
è®¾ç½®é˜µåˆ—å‚æ•°ï¼šé€šå¸¸å¯ä»¥è®¾ç½®æ¡å¸¦å¤§å°ï¼ˆStripe Sizeï¼Œå¦‚ 64KBã€128KB ç­‰ï¼Œå½±å“é¡ºåº IO æ€§èƒ½ï¼‰ã€è¯»å†™ç¼“å­˜ç­–ç•¥ï¼ˆå¦‚ Write-Back å¼€å…³ï¼Œå¦‚æœæ§åˆ¶å™¨æœ‰ç”µæ±  &#x2F; é—ªå­˜ä¿æŠ¤åˆ™å¯å®‰å…¨å¯ç”¨ Write-Back ç¼“å­˜æ¥æå‡å†™æ€§èƒ½ï¼‰ã€åˆå§‹åŒ–æ–¹å¼ï¼ˆå¿«é€Ÿæˆ–å…¨é¢åˆå§‹åŒ–å¥‡å¶æ ¡éªŒï¼‰ç­‰ã€‚è¿˜æœ‰äº›æ”¯æŒé…ç½®çƒ­å¤‡ç›˜ï¼ˆGlobal Hot Spareï¼‰ï¼Œå¯æŒ‡å®šæŸç›˜ä¸ºå…¨å±€çƒ­å¤‡ï¼Œåœ¨ä»»ä¸€é˜µåˆ—ç›˜æ•…éšœæ—¶è‡ªåŠ¨ä»‹å…¥é‡å»ºã€‚
ç¡®è®¤å¹¶åˆ›å»ºï¼šä¿å­˜é…ç½®ï¼Œæ§åˆ¶å™¨å°†å¼€å§‹åˆå§‹åŒ–é˜µåˆ—ã€‚å¦‚æœæ˜¯ RAID1&#x2F;5&#x2F;6 ç­‰æœ‰å†—ä½™çš„çº§åˆ«ï¼Œé€šå¸¸éœ€è¦åˆå§‹åŒ–æ ¡éªŒï¼ˆå†™å…¥é›¶æ ¡éªŒæˆ–åŒæ­¥é•œåƒï¼‰â€”â€”è®¸å¤šå¡å…è®¸åå°åˆå§‹åŒ–ï¼Œä¸å½±å“å…ˆè¡Œä½¿ç”¨é˜µåˆ—ã€‚åˆ›å»ºå®Œæˆåï¼Œæ§åˆ¶å™¨ä¼šå°†è¯¥é˜µåˆ—å‘ˆç°ç»™ç³»ç»Ÿï¼Œä¸»æœº BIOS ä¼šæ£€æµ‹åˆ°ä¸€ä¸ªæ–°çš„é€»è¾‘é©±åŠ¨å™¨ã€‚
ç³»ç»Ÿä½¿ç”¨ï¼šé‡å¯åï¼Œæ“ä½œç³»ç»Ÿåº”èƒ½è¯†åˆ«å‡ºè¿™ä¸ªé€»è¾‘ç£ç›˜ã€‚ä¹‹åå°±åƒæ™®é€šç¡¬ç›˜ä¸€æ ·åˆ†åŒºã€æ ¼å¼åŒ–ã€å®‰è£…ç³»ç»Ÿæˆ–å­˜å‚¨æ•°æ®ã€‚å¦‚æœæ˜¯å¼•å¯¼é˜µåˆ—ï¼Œé€šå¸¸éœ€è¦åœ¨å®‰è£…æ“ä½œç³»ç»Ÿæ—¶åŠ è½½ç›¸åº”çš„ RAID é©±åŠ¨ï¼ˆå°¤å…¶ç‹¬ç«‹ RAID å¡åœ¨ Windows å®‰è£…æ—¶éœ€è¦æä¾›é©±åŠ¨ï¼‰ã€‚
ç®¡ç†ç»´æŠ¤ï¼šç¡¬ä»¶ RAID é€šå¸¸æä¾› OS ä¸‹ç®¡ç†å·¥å…·æˆ– web ç•Œé¢ï¼ˆä¾‹å¦‚ MegaRAID Storage Managerï¼‰ç”¨äºç›‘æ§é˜µåˆ—å¥åº·ã€è®¾ç½®å‘Šè­¦ã€ç®¡ç†é‡å»ºç­‰ã€‚ä¹Ÿå¯ä»¥é€šè¿‡æ§åˆ¶å™¨ BIOS ç›‘è§†ã€‚ç¡¬ä»¶ RAID å¡è‡ªå¸¦èœ‚é¸£å™¨æˆ– LED æŒ‡ç¤ºç¯ï¼Œå¯ä»¥æŒ‡ç¤ºæ•…éšœç¡¬ç›˜çš„ä½ç½®ã€‚å‘ç”Ÿç¡¬ç›˜æ•…éšœæ—¶ï¼Œæ§åˆ¶å™¨ä¼šè‡ªåŠ¨ä½¿ç”¨çƒ­å¤‡ç›˜ï¼ˆå¦‚æœé…ç½®äº†ï¼‰è¿›è¡Œé‡å»ºï¼Œæˆ–è€…ç­‰å¾…ç®¡ç†å‘˜æ›´æ¢åç›˜åæ‰‹åŠ¨è§¦å‘é‡å»ºã€‚ç¡¬ä»¶ RAID é‡å»ºé€Ÿåº¦é€šå¸¸è¾ƒå¿«ï¼Œå› ä¸ºæ§åˆ¶å™¨æœ‰ä¸“ç”¨å¤„ç†å™¨æ‰§è¡Œæ ¡éªŒè®¡ç®—ã€‚

ç¡¬ä»¶ RAID çš„ä¼˜ç¼ºç‚¹ï¼š

ä¼˜ç‚¹ï¼šå¯¹ CPU é›¶å ç”¨ã€æ€§èƒ½å¼ºåŠ²ï¼ˆç‰¹åˆ«æ˜¯å¸¦ç¼“å­˜å’Œä¸“ç”¨ ASIC çš„é«˜ç«¯å¡ï¼Œå¯åŠ é€Ÿæ ¡éªŒè®¡ç®—ï¼‰ï¼Œå¹¶ä¸”é˜µåˆ—ç®¡ç†ç‹¬ç«‹äºæ“ä½œç³»ç»Ÿï¼ˆé˜µåˆ—ä¿¡æ¯ä¿å­˜åœ¨å¡å’Œç£ç›˜ä¸Šï¼Œè¿ç§»åˆ°ç›¸åŒå‹å·æ§åˆ¶å™¨ä¸Šé€šå¸¸èƒ½ç›´æ¥è¯†åˆ«é˜µåˆ—ï¼‰ã€‚å¦å¤–ï¼Œä¸€äº›ç¡¬ä»¶ RAID æä¾›é«˜çº§åŠŸèƒ½å¦‚åœ¨çº¿æ‰©å®¹ã€é˜µåˆ—çº§åˆ«è¿ç§»ã€å¿«ç…§ç­‰ã€‚
ç¼ºç‚¹ï¼šæˆæœ¬è¾ƒé«˜ï¼Œä¸“ä¸š RAID å¡ä»·æ ¼ä¸è²ä¸”å¯èƒ½éœ€è¦ç”µæ±  &#x2F; å¤‡ç”¨ç”µæºæ¨¡å—ä¿éšœç¼“å­˜å®‰å…¨ï¼›ä¸åŒå‚å•†å®ç°æœ‰æ‰€å·®å¼‚ï¼Œé˜µåˆ—éš¾ä»¥è·¨å“ç‰Œè¿ç§»ï¼›å¦å¤– RAID å¡æœ¬èº«ä¹Ÿæ˜¯å•ç‚¹ï¼Œå¦‚æœå¡ç¡¬ä»¶æ•…éšœä¸”æ— æ³•æ‰¾åˆ°å…¼å®¹æ›¿ä»£ï¼Œå¯èƒ½ä¼šå¯¼è‡´é˜µåˆ—æš‚æ—¶ä¸å¯ç”¨ã€‚

ä¸»æ¿é›†æˆ RAIDï¼ˆåˆç§° Fake RAIDï¼‰æ³¨æ„ï¼šä¸»æ¿ BIOS æä¾›çš„ RAID åŠŸèƒ½å®é™…ä¸Šä»‹äºè½¯ç¡¬ä»¶ä¹‹é—´â€”â€”å®ƒä¾èµ– BIOS å’Œé©±åŠ¨ååŒå·¥ä½œï¼Œå¹¶ä¸å…·å¤‡ç‹¬ç«‹å¤„ç†å™¨ï¼Œå¤§éƒ¨åˆ†è®¡ç®—ä»ç”± CPU å®Œæˆã€‚æ­¤ç±» RAID çš„å¥½å¤„æ˜¯æ— éœ€é¢å¤–æˆæœ¬ï¼Œåå¤„æ˜¯å…¼å®¹æ€§å’Œçµæ´»æ€§ç•¥å·®ï¼ˆä¾‹å¦‚æ¢ä¸»æ¿å¯èƒ½æ— æ³•ç›´æ¥è¯»é˜µåˆ—ï¼Œéœ€è¦ç›¸åŒèŠ¯ç‰‡ç»„ï¼‰ï¼Œåœ¨ Linux ä¸‹å¾€å¾€è¿˜ä¸å¦‚ç›´æ¥ç”¨ mdadmã€‚å¯¹äºæ¡Œé¢ç”¨æˆ·ï¼Œä¸»æ¿ RAID å¯ç”¨æ€§ä¸€èˆ¬ï¼Œä½†åœ¨é«˜çº§ç¯å¢ƒä¸­æ›´å€¾å‘äºçº¯è½¯ä»¶ RAID æˆ–è´­ä¹°ç‹¬ç«‹ RAID å¡ã€‚
æ€»ä¹‹ï¼Œé…ç½®ç¡¬ä»¶ RAID æ—¶åŠ¡å¿…ä¿æŒç›¸å…³æ–‡æ¡£åœ¨æ‰‹ï¼Œäº†è§£é˜µåˆ—çš„æ­£ç¡®ç®¡ç†æ–¹æ³•ï¼Œç‰¹åˆ«æ˜¯æ›´æ¢ç›˜å’Œå‡çº§å›ºä»¶è¦è°¨æ…ã€‚ç¡¬ä»¶ RAID æ§åˆ¶å™¨é€šå¸¸åœ¨æ€§èƒ½å’Œå¯é æ€§ä¸Šè¡¨ç°å‡ºè‰²ï¼Œé€‚åˆå…³é”®çš„ä¼ä¸šåº”ç”¨åœºæ™¯ã€‚
RAID çº§åˆ«é€‰æ‹©æŒ‡å—é¢å¯¹ä¸åŒæ•°é‡çš„ç¡¬ç›˜ã€åº”ç”¨éœ€æ±‚å’Œå®¹é”™è¦æ±‚ï¼Œåº”é€‰æ‹©åˆé€‚çš„ RAID çº§åˆ«æ¥å¹³è¡¡æ€§èƒ½ã€å®¹é‡å’Œå¯é æ€§ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›æ¨èåŸåˆ™å’Œå…¸å‹æƒ…å½¢ä¸‹çš„ RAID é€‰æ‹©å»ºè®®ï¼š
ä¸åŒç£ç›˜æ•°é‡ä¸‹çš„ RAID é€‰æ‹©
åªæœ‰å•ç›˜æˆ–å®¹é‡ä¸åŒ¹é…å¤šç›˜ï¼šå¯ä»¥é€‰æ‹©ä¸ä½¿ç”¨ RAID æˆ– JBODã€‚å•ç›˜æ— å†—ä½™ï¼Œé‡è¦æ•°æ®éœ€åšå¥½å¤‡ä»½ã€‚å¤šå—ä¸åŒå¤§å°ç›˜å¯ä»¥ç‹¬ç«‹ä½¿ç”¨ï¼ˆJBOD ç‹¬ç«‹æ¨¡å¼ï¼‰æˆ–æ‹¼æ¥æˆä¸€ä¸ªå·ã€‚å¦‚æœè¿½æ±‚æœ€å¤§å®¹é‡ä¸”å®¹é”™ä¸é‡è¦ï¼Œå¯ç”¨ JBOD æ‹¼æ¥æ¥åˆå¹¶ç©ºé—´ï¼›ä½†ä»»ä¸€ç›˜åä¼šå½±å“æ•´ä½“å·ï¼Œè°¨æ…ç”¨äºå…³é”®æ•°æ®ã€‚
2 å—ç¡¬ç›˜ï¼šå¯é€‰ RAID 1 æˆ– RAID 0ã€‚å¦‚æœæ•°æ®é‡è¦éœ€è¦å†—ä½™ï¼ŒRAID 1 é•œåƒæ˜¯å”¯ä¸€é€‰æ‹©ï¼Œèƒ½åœ¨ä¸€ç›˜æŸåæ—¶ä¿æŠ¤æ•°æ®ï¼Œä½†å®¹é‡åªæœ‰ä¸€åŠã€‚è‹¥æ›´çœ‹é‡æ€§èƒ½æˆ–ç©ºé—´ä¸”æœ‰å¤‡ä»½ï¼Œå¯é€‰ RAID 0 å®ç°ä¸¤ç›˜æ¡å¸¦åŒ–ï¼ˆè¯»å†™æ€§èƒ½ç¿»å€ï¼Œå®¹é‡ç›¸åŠ ï¼‰ã€‚ä¾‹å¦‚ï¼Œç³»ç»Ÿç›˜æˆ–é‡è¦èµ„æ–™ç›˜å»ºè®® RAID1ï¼Œæ¸¸æˆæˆ–éå…³é”®é«˜é€Ÿå­˜å‚¨å¯ç”¨ RAID0ã€‚
3 å—ç¡¬ç›˜ï¼šå¯è€ƒè™‘ RAID 5ï¼ˆ2 ç›˜æ•°æ® + 1 ç›˜æ ¡éªŒï¼‰ã€‚RAID 5 åœ¨ 3 ç›˜æ—¶æä¾›å†—ä½™ï¼ˆå¯å 1 ç›˜ï¼‰ä¸”æ¯”é•œåƒåˆ©ç”¨ç‡é«˜ï¼ˆå¯ç”¨å®¹é‡ 2 ç›˜ï¼Œæ€»å®¹é‡çš„ 66%ï¼‰ã€‚é€‚ç”¨äºå®¹é‡éœ€æ±‚è¾ƒå¤§åˆå¸Œæœ›æœ‰ä¸€å®šå®¹é”™çš„å°å‹å­˜å‚¨ã€‚å¦‚æœæ€§èƒ½è¦æ±‚ä¸é«˜ä¸”æƒ³è¦æœ€å¤§å®¹é‡ï¼Œä¹Ÿå¯ä»¥ 3 ç›˜ JBOD æˆ– RAID0ï¼ˆä¸è¿‡ä»»ä½•ä¸€ç›˜åéƒ½ä¼šä¸¢å¤±æ•°æ®ï¼Œé£é™©å¾ˆé«˜ï¼Œä¸æ¨èå­˜æ”¾é‡è¦æ•°æ®ï¼‰ã€‚å¦å¤–ï¼Œ3 ç›˜ä¹Ÿå¯åš RAID 1 çš„â€œä¸‰ç›˜é•œåƒâ€ï¼ˆæ¯ç›˜éƒ½æœ‰ç›¸åŒæ•°æ®ï¼‰ï¼Œä½†è¿™ç§ç”¨æ³•å°‘è§ä¸”åˆ©ç”¨ç‡ä½ï¼Œä»…åœ¨éœ€è¦å¤šä¸ªå®æ—¶å¤‡ä»½æ‹·è´æ—¶æ‰ç”¨ã€‚
4 å—ç¡¬ç›˜ï¼šå¸¸è§é€‰æ‹©æœ‰ RAID 5ã€RAID 6ã€RAID 10ï¼š
RAID 5ï¼šæä¾› 1 ç›˜å†—ä½™ï¼Œå¯ç”¨å®¹é‡ 3 ç›˜ï¼Œåˆ©ç”¨ç‡ 75%ã€‚é€‚åˆä»¥è¯»ä¸ºä¸»ã€å¸Œæœ›è¾ƒå¤§å®¹é‡çš„åœºæ™¯ã€‚
RAID 6ï¼šæä¾› 2 ç›˜å†—ä½™ï¼Œå¯ç”¨å®¹é‡ 2 ç›˜ï¼Œåˆ©ç”¨ç‡ 50%ã€‚åŒå†—ä½™ä½¿å®‰å…¨æ€§æ›´é«˜ï¼Œä½†æœ‰æ•ˆå®¹é‡è¾ƒå°‘ï¼Œ4 ç›˜ RAID6 åœ¨å®¹é‡æ•ˆç‡ä¸Šä¸å¦‚ç›´æ¥ä¸¤å¯¹ RAID1 é•œåƒï¼ˆä¹Ÿæ˜¯ 50%ï¼‰â€”â€”ä½† RAID6 èƒœåœ¨å¯å®¹å¿åŒæ—¶ä¸¤ç›˜æ•…éšœè€Œ RAID10 åœ¨ 4 ç›˜æƒ…å†µä¸‹åªå…è®¸ä¸€å¯¹åä¸¤ç›˜ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œ4 ç›˜é˜µåˆ—è‹¥éå¸¸çœ‹é‡å¯é æ€§ï¼Œå¯é€‰ RAID6ï¼›å¦åˆ™ RAID5 æˆ– RAID10 ä¼šåœ¨æ€§èƒ½æˆ–å®¹é‡ä¸Šæ›´æœ‰ä¼˜åŠ¿ã€‚
RAID 10ï¼š2 å¯¹é•œåƒå†æ¡å¸¦ï¼Œå¯åæ¯å¯¹å„ä¸€ç›˜ï¼ˆæœ€å¤šå 2 ç›˜ï¼Œå®¹é”™ç•¥æ¬¡äº RAID6 éœ€åˆ†å¸ƒæ°å½“ï¼‰ï¼Œå®¹é‡ 2 ç›˜ï¼ˆåˆ©ç”¨ç‡ 50%ï¼‰ã€‚RAID10 åœ¨ 4 ç›˜æ—¶æä¾›äº† RAID6 çº§åˆ«çš„å†—ä½™èƒ½åŠ›ï¼ˆè€ 2 ç›˜æ•…éšœï¼Œä½†è¦åˆ†åˆ«åœ¨ä¸åŒå¯¹ï¼‰ä»¥åŠä¼˜äº RAID5&#x2F;6 çš„éšæœºå†™æ€§èƒ½ï¼Œéå¸¸é€‚åˆå¦‚æ•°æ®åº“ç­‰éœ€è¦é«˜ IOPS å’Œå¯é æ€§çš„åº”ç”¨ã€‚ä¸è¿‡å¯ç”¨å®¹é‡åªæœ‰ RAID5 çš„ 2&#x2F;3ã€‚
æ¨èï¼šè‹¥åº”ç”¨å†™å…¥è¾ƒå¤šã€è¦æ±‚é«˜æ€§èƒ½ï¼Œ4 ç›˜ç”¨ RAID10ï¼›è‹¥åº”ç”¨è¯»å¤šå†™å°‘ã€éœ€è¦å®¹é‡ï¼Œ4 ç›˜ RAID5 è¾ƒä¼˜ï¼›å¦‚æœéå¸¸æ‹…å¿ƒåŒç›˜åŒæ—¶æ•…éšœï¼ˆæ¯”å¦‚é•¿æ—¶é—´æ— äººå€¼å®ˆç¯å¢ƒï¼‰ï¼Œå¯ä»¥æ¥å— 50% å®¹é‡æ¢å®‰å…¨ï¼Œåˆ™ RAID6 æ˜¯ç¨³å¦¥çš„æ–¹æ¡ˆã€‚


5ï½6 å—ç¡¬ç›˜ï¼šéšç€ç£ç›˜å¢å¤šï¼Œå¯ä»¥è€ƒè™‘ RAID 5 vs RAID 6 vs RAID 10 æƒè¡¡ï¼š
5 ç›˜ RAID5 å¯ç”¨ 4 ç›˜å®¹é‡ï¼ˆ80%ï¼‰ï¼ŒRAID6 å¯ç”¨ 3 ç›˜å®¹é‡ (60%)ï¼ŒRAID10 å¯ç”¨ 2.5 ç›˜å®¹é‡ (50%)ã€‚è‹¥éœ€æ±‚å®¹é‡ä¸ºå…ˆï¼ŒRAID5 çš„ç©ºé—´æ•ˆç‡æœ€é«˜ï¼Œä½†åªèƒ½æŠ— 1 ç›˜åï¼Œ5 ç›˜é˜µåˆ—ç¨æœ‰é£é™©ï¼›RAID6 ç•¥é™å®¹é‡ä½†æä¾›åŒç›˜ä¿æŠ¤ï¼Œå¸¸è¢«è®¤ä¸ºæ›´å®‰å…¨çš„é€‰æ‹©å°¤å…¶åœ¨ 6 ç›˜æ—¶ï¼ˆ6 ç›˜ RAID6 å¯å 2 ç›˜ï¼Œåˆ©ç”¨ç‡ ~67%ï¼‰ã€‚RAID10 åœ¨ 5 ç›˜æ— æ³•å®ç°ï¼ˆéœ€å¶æ•°ç›˜ï¼‰ï¼Œåœ¨ 6 ç›˜æ—¶å¯ç”¨ 3 ç›˜å®¹é‡ (50%)ï¼Œæ€§èƒ½å‡ºä¼—ä¸”å¯æŠ—æ•…éšœçµæ´»ï¼ˆå¯å 3 ç›˜ï¼Œæ¦‚ç‡ä¾æ•…éšœåˆ†å¸ƒï¼‰ã€‚
æ¨èï¼šä¸€èˆ¬ 5 ç›˜é˜µåˆ—å»ºè®®ç”¨ RAID5ï¼ˆæŠ˜ä¸­æˆæœ¬ï¼‰ï¼Œä½†ä¸€å®šè¦åšå¥½å¤‡ä»½ï¼›6 ç›˜é˜µåˆ—æ›´å€¾å‘äº RAID6ï¼ˆå…¼é¡¾å®¹é‡å’Œå®‰å…¨ï¼‰æˆ– RAID10ï¼ˆå¯¹æ€§èƒ½è¦æ±‚æé«˜æ—¶ï¼‰ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª 6 ç›˜çš„ NAS ç”¨äºå¤‡ä»½å­˜å‚¨ï¼ŒRAID6 ä¼šæ¯” RAID5 æ›´å®‰å¿ƒï¼›è€Œ 6 ç›˜åšæ•°æ®åº“ OLTP å­˜å‚¨ï¼Œæˆ–éœ€è¦å¾ˆå¤šéšæœºå†™æ“ä½œï¼Œåˆ™ RAID10 å¯èƒ½æ›´é€‚åˆã€‚


8 å—ç¡¬ç›˜å·¦å³ï¼šå¯è€ƒè™‘ RAID 6 æˆ– RAID 10ï¼Œä¹Ÿå¯ä»¥æ¢ç´¢ RAID 50&#x2F;60ï¼š
8 ç›˜å• RAID6 å¯ç”¨ 6 ç›˜å®¹é‡ (75%)ï¼ŒæŠ— 2 ç›˜æ•…éšœï¼›8 ç›˜ RAID10 å¯ç”¨ 4 ç›˜å®¹é‡ (50%)ï¼ŒæŠ—æ•…éšœèƒ½åŠ›å–å†³äºåˆ†å¸ƒï¼ˆæœ€å¥½æƒ…å†µ 4 ç›˜åï¼‰ï¼›8 ç›˜ RAID50 å¯æ¯”å¦‚åˆ†æˆä¸¤ç»„ 4 ç›˜ RAID5 æ¡å¸¦ï¼Œå¯ç”¨ 6 ç›˜å®¹é‡ (75%)ï¼Œä»»ä¸¤ç»„å„ 1 ç›˜åï¼ˆç”šè‡³ä¸€ç»„å 1 ç›˜å¦ä¸€ç»„å 1 ç›˜ï¼Œæ€» 2 ç›˜åï¼‰ä»å®‰å…¨ï¼Œä½†è‹¥ä¸€ç»„å 2 ç›˜å°±å¤±è´¥ï¼›8 ç›˜ RAID60 å¯åˆ†ä¸¤ç»„ 4 ç›˜ RAID6 æ¡å¸¦ï¼Œå¯ç”¨ 4 ç›˜å®¹é‡ (50%)ï¼Œä»»æ„æ¯ç»„æœ€å¤šå 2 ç›˜å®‰å…¨ï¼Œç”šè‡³å¯èƒ½æ‰¿å— 4 ç›˜åï¼ˆä¸¤ç»„å„ 2 ç›˜ï¼‰ã€‚
æ¨èï¼šå¦‚æœè¿½æ±‚æœ€å¤§å®¹é‡ä¸”æ¥å—ä¸€å®šé£é™©ï¼Œå¯ç”¨ RAID6ï¼ˆæ˜¯å¤§å¤šæ•° NAS&#x2F;å­˜å‚¨åœ¨ 8 ç›˜å·¦å³çš„é»˜è®¤æ¨èï¼‰ï¼›å¦‚æœè¿½æ±‚æ€§èƒ½æˆ–æ›´é«˜å†—ä½™ï¼Œå¯è€ƒè™‘ RAID10ï¼Œä½†ä»£ä»·æ˜¯æŸå¤±ä¸€åŠç©ºé—´ï¼›å¦‚æœæœ‰æ˜ç¡®éœ€æ±‚æå‡é‡å»ºé€Ÿåº¦æˆ– I&#x2F;O å¹¶è¡Œï¼Œ8 ç›˜å¯ä»¥å°è¯• 2 ç»„ 4 ç›˜ RAID50ï¼šå®¹é‡ 75%ï¼Œæ€§èƒ½è¾ƒé«˜ï¼Œä½†æ³¨æ„å•ç»„åŒç›˜æ•…éšœé£é™©ï¼›RAID60 åˆ™é™¤éç‰¹åˆ«ä¿å®ˆï¼Œä¸€èˆ¬ä¸åœ¨ä»… 8 ç›˜æ—¶ä½¿ç”¨ï¼ˆå› ä¸ºå®¹é‡æ•ˆç‡å¤ªä½ï¼ŒRAID10 åè€Œæ›´ç®€å•é«˜æ•ˆï¼‰ã€‚


è¶…è¿‡ 10 å—ç¡¬ç›˜ä»¥ä¸Šï¼šé˜µåˆ—è§„æ¨¡è¾ƒå¤§æ—¶ï¼Œæ›´åº”å…³æ³¨æ•°æ®å®‰å…¨å’Œé‡å»ºçª—å£é£é™©ã€‚æ­¤æ—¶æ¨èï¼š
RAID 6 æˆ– RAID 60 ä¼˜å…ˆäº RAID5ï¼ŒåŒç›˜å†—ä½™å¯ä»¥é˜²èŒƒåœ¨é‡å»ºé•¿è¿‡ç¨‹ä¸­ç¬¬äºŒç›˜æ•…éšœçš„ç¾éš¾ã€‚
RAID 60 vs RAID 6ï¼šå¦‚æœæœ‰ç¡¬ä»¶æ”¯æŒï¼Œå¤šç»„ RAID6ï¼ˆRAID60ï¼‰èƒ½å°†æ¯”å¦‚ 16-24 ç›˜åˆ’åˆ†æˆæ›´å°ç»„ç®¡ç†ï¼Œå‡å°‘æ¯ç»„ç›˜æ•°ä»¥åŠ å¿«é‡å»ºå’Œé™ä½å¤šç›˜åŒç»„æŸåæ¦‚ç‡ã€‚ä½† RAID60 åˆ©ç”¨ç‡æ¯”å• RAID6 ä½ä¸€äº›ï¼Œéœ€è¦æ›´å¤šå†—ä½™ç›˜ã€‚é€‰æ‹©ä¸Šï¼Œå¦‚æœæœ‰ 20 ç›˜ï¼Œåšä¸€ä¸ª 18+2 RAID6 åˆ©ç”¨ç‡ 90% ä½†ä¸‡ä¸€ç¬¬ä¸‰ç›˜åå…¨ä¸¢ï¼›è€Œåšä¸¤ç»„ 9+2 RAID60 åˆ©ç”¨ç‡ 80% ä½†æ¯ç»„æŠ— 2 ç›˜åä¸”ç¬¬ä¸‰ç›˜åä¹Ÿæœªå¿…ä¸¢ï¼ˆéœ€åŒç»„ç¬¬ä¸‰ç›˜åæ‰å‡ºé—®é¢˜ï¼‰ï¼Œå¯é æ€§æ›´å¼ºã€‚å¯¹äºå…³é”®ä¸šåŠ¡ï¼Œå®æ„¿ç‰ºç‰²ä¸€äº›å®¹é‡é‡‡ç”¨ RAID60 è·å¾—æ›´é«˜æ•°æ®ä¿éšœã€‚
RAID 50 vs RAID 6ï¼šå¯¹äºä¸€äº›å¯¹æ€§èƒ½è¦æ±‚è¾ƒé«˜çš„å¤§é˜µåˆ—ï¼ˆå°¤å…¶é¡ºåº IOï¼‰ï¼ŒRAID50 æä¾›çš„å¹¶è¡Œä¼˜åŠ¿æ›´æ˜æ˜¾ã€‚å¦‚æœç³»ç»Ÿæœ‰è‰¯å¥½å¤‡ä»½æˆ–å®¹ç¾æªæ–½ï¼Œä¹Ÿå¯ä»¥é€‰æ‹© RAID50 ä»¥è·å¾—æ¯” RAID6 æ›´å¥½çš„å†™å…¥æ€§èƒ½å’Œç¨é«˜å®¹é‡ã€‚ä½†è¦åšå¥½ç›‘æ§ï¼Œç¡®ä¿åŠæ—¶æ›´æ¢æ•…éšœç›˜ï¼Œé¿å…å•ç»„åŒç›˜æ•…éšœã€‚
RAID 10 &#x2F; 100ï¼šå½“ç£ç›˜éå¸¸å¤šä¸”åº”ç”¨æç«¯é‡è§†æ€§èƒ½ï¼ˆä¾‹å¦‚è¶…å¤§æ•°æ®åº“ã€é«˜é¢‘äº¤æ˜“ç³»ç»Ÿï¼‰ï¼Œå¯ä»¥è€ƒè™‘é•œåƒ + æ¡å¸¦çš„å¤šå±‚æ¬¡ï¼Œä¾‹å¦‚ 16 ç›˜å¯ä»¥åš 8 å¯¹é•œåƒå†æ¡å¸¦ï¼ˆRAID10ï¼‰ï¼Œ32 ç›˜ç”šè‡³å¯ä»¥åšä¸¤å±‚ï¼šå…ˆé•œåƒæˆ 16 å¯¹ï¼Œå†æŠŠ 16 å¯¹åˆ†æˆä¸¤ç»„æ¡å¸¦ï¼Œç„¶åä¸¤ç»„å†æ¡å¸¦ï¼ˆè¿™æœ‰æ—¶ç§° RAID100ï¼‰ã€‚è™½ç„¶åˆ©ç”¨ç‡ä½ï¼ˆ50%ï¼‰ï¼Œä½†éšæœº I&#x2F;O æ€§èƒ½å’Œæ•°æ®å®‰å…¨éƒ½éå¸¸é«˜ï¼ˆå¯å®¹å¿å¤§é‡è·¨ä¸åŒå¯¹çš„ç£ç›˜æ•…éšœï¼‰ã€‚ç¼ºç‚¹æ˜¯æˆæœ¬å’Œç©ºé—´ä»£ä»·å·¨å¤§ã€‚ä¸€èˆ¬åªæœ‰åœ¨ç£ç›˜å®¹é‡ç›¸å¯¹å»‰ä»·ä¸”æ€§èƒ½è¦æ±‚å‹å€’ä¸€åˆ‡æ—¶æ‰ä¼šé€‰å¦‚æ­¤é…ç½®ã€‚



ç‰¹æ®Šè€ƒè™‘
ZFS ç­‰æ–‡ä»¶ç³»ç»Ÿè‡ªå¸¦ RAID æ–¹æ¡ˆï¼šå¦‚æœä½¿ç”¨ ZFS ç­‰æœ‰è‡ªå·± RAID æ–¹æ¡ˆçš„ç³»ç»Ÿï¼Œä¼˜å…ˆé‡‡ç”¨ RAID-Z ç³»åˆ—è€Œéç¡¬ä»¶ RAIDï¼Œå°†å†—ä½™äº¤ç»™æ–‡ä»¶ç³»ç»Ÿç®¡ç†ï¼Œè¿™æ ·å¯ä»¥åˆ©ç”¨ ZFS å®Œæ•´æ€§æ ¡éªŒã€å¿«ç…§ç­‰ç‰¹æ€§ï¼Œå‡å°‘ä¸åŒå±‚æ¬¡å¹²æ‰°ã€‚ä½¿ç”¨ RAID-Z éœ€è¦ä¿è¯æœ‰è¶³å¤Ÿå†…å­˜å’Œåˆç†çš„ vdev è§„åˆ’ï¼Œæ¯”å¦‚ä¸è¦ä¸€ä¸ª vdev æ”¾å¤ªå¤šç›˜ï¼ˆå®å¤š vdev åˆ†æ‘Šï¼‰ã€‚å…¸å‹ TrueNAS é…ç½®å¦‚ 12 ç›˜å¯åš 2 ä¸ª 6 ç›˜ RAID-Z2 vdev ç»„æˆæ± ï¼Œå…¼é¡¾å¯é æ€§å’Œæ€§èƒ½ã€‚
**çƒ­å¤‡ç›˜ (Hot Spare)**ï¼šæ— è®ºå“ªç§ RAID é…ç½®ï¼Œè‹¥æœ‰å‰©ä½™ç£ç›˜æ¥å£å’Œé¢„ç®—ï¼Œå»ºè®®é…ç½®çƒ­å¤‡ç›˜ã€‚çƒ­å¤‡ç›˜æ˜¯åœ¨é˜µåˆ—ç©ºé—²å¾…å‘½çš„ç›˜ï¼Œä¸€æ—¦æŸé˜µåˆ—æˆå‘˜ç›˜å¤±è´¥ï¼Œæ§åˆ¶å™¨ä¼šè‡ªåŠ¨æŠŠçƒ­å¤‡æŠ•å…¥ä½¿ç”¨å¹¶å¼€å§‹é‡å»ºï¼Œè¿™å¯ç¼©çŸ­é˜µåˆ—åœ¨é™çº§çŠ¶æ€ä¸‹çš„æ—¶é—´ï¼Œé™ä½æ•°æ®å†æ¬¡å¤±æ•ˆé£é™©ã€‚ä¸€èˆ¬ RAID5&#x2F;6 é˜µåˆ—è‡³å°‘é…ç½® 1 ä¸ªå…¨å±€çƒ­å¤‡ç›˜è¾ƒä¸ºç¨³å¦¥ã€‚

æœ€ç»ˆé€‰æ‹©å»ºè®®æœ€åï¼Œé€‰æ‹© RAID çº§åˆ«éœ€è¦ç»“åˆå…·ä½“åº”ç”¨ï¼š

æ•°æ®åº“ã€è™šæ‹ŸåŒ–ï¼šè¿™ç±»å°éšæœºè¯»å†™ç¹é‡çš„åº”ç”¨ï¼Œæ›´å€¾å‘ RAID 10ã€‚RAID 10 æä¾›äº†é«˜æ€§èƒ½å’Œé«˜å¯é æ€§ï¼Œé€‚åˆéœ€è¦é«˜ IOPS å’Œå¿«é€Ÿè¯»å†™æ€§èƒ½çš„åœºæ™¯ã€‚
æ–‡ä»¶å…±äº«ã€å½’æ¡£ï¼šè¿™ç±»é¡ºåºè¯»å¤šäºå†™çš„åº”ç”¨ï¼ŒRAID 5&#x2F;6 æä¾›æ›´å¤§å®¹é‡ä¸”æ€§èƒ½è¶³å¤Ÿã€‚RAID 5&#x2F;6 åœ¨é¡ºåºè¯»å–æ€§èƒ½ä¸Šè¡¨ç°è‰¯å¥½ï¼ŒåŒæ—¶æä¾›äº†é€‚å½“çš„å†—ä½™ä¿æŠ¤ã€‚
å®¶åº­ NASï¼šç£ç›˜ä¸å¤šæ—¶ï¼ŒRAID 1 ç®€å•å¯é ï¼Œé€‚åˆå­˜æ”¾ä¸ªäººé‡è¦æ•°æ®ã€‚å½“ç£ç›˜æ•°é‡è¾ƒå¤šæ—¶ï¼ŒRAID 5&#x2F;6&#x2F;ZFS æ›´åˆé€‚ï¼Œèƒ½å¤Ÿæä¾›æ›´å¤§çš„å­˜å‚¨ç©ºé—´å’Œå†—ä½™ä¿æŠ¤ã€‚
ä¼ä¸šå…³é”®æ•°æ®ï¼šä¸€èˆ¬è‡³å°‘é‡‡ç”¨ RAID6 çº§åˆ«å†—ä½™ï¼Œå®å¯å¤šèŠ±ç£ç›˜æˆæœ¬ï¼Œä»¥ç¡®ä¿æ•°æ®çš„å®‰å…¨æ€§å’Œå¯é æ€§ã€‚

é‡è¦æé†’ï¼šæ— è®ºé€‰æ‹©å“ªç§ RAID çº§åˆ«ï¼ŒRAID éƒ½ä¸æ˜¯å¤‡ä»½æ‰‹æ®µã€‚é‡è¦æ•°æ®è¯·ä¸€å®šå¦å¤–å¤‡ä»½æˆ–å¼‚åœ°å®¹ç¾ï¼Œå³ä½¿æœ€é«˜çº§åˆ«çš„ RAID ä¹Ÿæ— æ³•æŠµå¾¡äººä¸ºè¯¯åˆ æˆ–ç¾éš¾æ€§æŸåã€‚
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>Raid</tag>
      </tags>
  </entry>
</search>
